(this["webpackJsonpeazylearn-web"]=this["webpackJsonpeazylearn-web"]||[]).push([[0],{114:function(e,t,n){},121:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),i=n.n(c),o=(n(114),n(5)),s=n.n(o),u=n(9),l=n(13),d=n(52),p=n(212),b=n(59),j=(n(121),n(57)),f={token:"",username:""},h="@@auth/SAVE",x="@@auth/CLEAR",m=function(e,t,n){return{type:h,data:{token:e||f.token,username:t||f.username,type:n}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;if(console.log(t),t.type===h){var n=t.data,r=n.token,a=n.username,c=n.type;return e.token=r,e.username=a,e.type=c,e}return f},v=n(77),g=[],y="@@alert/ADD",w="@@alert/POP",C=function(e,t,n){return{type:y,data:{type:e,message:t,duration:n}}},k=function(){return{type:w}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n=t.data,r=n.type,a=n.message,c=n.duration,i=void 0===c?3e3:c;return e=[].concat(Object(v.a)(e),[{type:r,message:a,duration:i}]),window.setTimeout((function(){return _.dispatch(k())}),i),e;case w:return e=Object(v.a)(e.slice(1));default:return g}},I=function(e){return Object(j.b)({auth:O,alert:S,router:Object(b.b)(e)})},N=n(39),L=Object(N.a)(),A=n(85),_=Object(j.d)(I(L),Object(j.c)(Object(j.a)(Object(A.a)(L)))),D=n(101),R="#FFFFFF",T="#3185FC",E="#3A3A3A",B=Object(D.a)({palette:{primary:{main:R,contrastText:E},secondary:{main:T,dark:"#034FB9",contrastText:R},warning:{main:"#F7CB15",contrastText:E},background:{default:R,paper:R}},typography:{fontFamily:"Raleway",h1:{fontSize:"48px",fontWeight:800,letterSpacing:"0.04em"}},overrides:{MuiAppBar:{root:{boxShadow:"0 0",color:T},colorPrimary:{backgroundColor:"transparent",color:T}},MuiTab:{root:{fontWeight:"bold",fontSize:24,letterSpacing:.015,textTransform:"capitalize"},textColorInherit:{color:E,opacity:1,"&.Mui-selected":{color:T}}}}}),W=n(100),F=n.n(W).a.create({baseURL:"https://ezlapi.herokuapp.com/",timeout:5e3});F.interceptors.response.use((function(e){return e.data}),(function(e){return e.response.data}));var P={get:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,r=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=5,F.get(t+r,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),postForm:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):"","Content-Type":"multipart/form-data"}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=2,a=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=6,F.delete(t+a,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""},data:r});case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},z=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/account/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/account",{username:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/course",{id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:0,e.next=4,P.get("/course/search",{query:t,page:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("/course",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.put("/course?id=".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/course",t);case 2:return(n=e.sent).message.lecturers=[],n.message.students=[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("/course/remove/student",{},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("/course/remove/lecturer",{},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/course/assign/student",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/course/assign/lecturer",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/lecturer");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/account/create",t);case 2:return(n=e.sent).badRequests=n.badRequests||[],n.duplicates=n.duplicates||[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/student");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.put("/student/approve",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/account/create",t);case 2:return(n=e.sent).badRequests=n.badRequests||[],n.duplicates=n.duplicates||[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=n(7),re=n(184),ae=n(1);var ce=function(){return Object(ae.jsx)("div",{style:{zIndex:-1,position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(25.8% 51.02% at 77.5% 71.09%, rgba(49, 133, 252, 0.12) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(19.9% 17.2% at 25.8% 26.76%, #E7F1FF 0%, #FFFFFF 100%)"}})},ie=n(191),oe=n(194),se=n(218),ue=n(190),le=n(192),de=n(193),pe=n(195),be=n(196),je=n(104),fe=Object(re.a)((function(e){return{container:{width:"100%",padding:36,boxShadow:"0px 6px 4px rgba(49, 133, 252, 0.24)",borderRadius:15,boxSizing:"border-box",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",rowGap:5,width:800},divider:{height:0,width:"100%",border:"1px solid #3185FC",margin:"10px 0px"}}})),he=function(e){var t=e.id,n=e.name,r=e.lecturers,a=e.numStudents,c=e.numPending,i=e.onClick,o=e.disabled,s=void 0!==o&&o,u=fe();return Object(ae.jsx)("div",{className:u.container,onClick:s?void 0:i,children:Object(ae.jsxs)("div",{className:u.content,children:[Object(ae.jsxs)(je.a,{style:{fontWeight:"bold"},variant:"h4",color:"initial",children:[t," - ",n]}),Object(ae.jsx)("div",{className:u.divider}),Object(ae.jsx)(je.a,{variant:"body1",color:"initial",children:"Lecturers: ".concat(0===r.length?"none":r.join(", "))}),Object(ae.jsxs)("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr"},children:[Object(ae.jsxs)(je.a,{variant:"body1",color:"initial",children:["Number of students: ",a]}),Object(ae.jsxs)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:c>0?"error":"secondary",children:["Wait for approval: ",c]})]})]})})},xe=n(215),me=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25},actionContainer:{zIndex:1,position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none"}}}})),Oe=Object(l.c)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.auth,n=me(),a=Object(r.useState)([]),c=Object(ne.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(ne.a)(l,2),p=d[0],b=d[1],j=Object(r.useState)(0),f=Object(ne.a)(j,2),h=f[0],x=f[1],m=Object(r.useState)(1),O=Object(ne.a)(m,2),v=O[0],g=O[1],y=Object(r.useState)(1),w=Object(ne.a)(y,2),C=w[0],k=w[1],S=Object(r.useState)(""),I=Object(ne.a)(S,2),N=I[0],A=I[1],_=Object(r.useState)(!1),D=Object(ne.a)(_,2),R=D[0],T=D[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Y(N,v-1);case 3:"OK"===(t=e.sent).status&&(o(t.courses),k(t.maxPage)),b(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,v]),Object(ae.jsx)("section",{className:n.container,children:Object(ae.jsxs)("div",{className:n.content,children:[Object(ae.jsxs)("div",{className:n.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;h&&clearTimeout(h),x(window.setTimeout((function(){A(t),g(1),k(1)}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:n.searchBar}),Object(ae.jsx)(le.a,{onClickAway:function(){return T(!1)},children:Object(ae.jsxs)("div",{className:n.actionContainer,children:[Object(ae.jsxs)(de.a,{variant:"contained",color:"secondary",onClick:function(){T((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ae.jsx)(oe.a,{style:{transform:"rotate(".concat(R?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ae.jsx)(pe.a,{in:R,children:Object(ae.jsxs)("div",{className:n.actionContent,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"Import via csv"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){L.push("/course/new")},children:"Create manually"})]})})]})})]}),Object(ae.jsx)("div",{className:n.listContainer,children:p?Object(ae.jsx)(be.a,{color:"secondary"}):i.map((function(e,n){return Object(ae.jsx)(he,{disabled:!(0===t.type||1===t.type),id:e.course_id,name:e.course_name,lecturers:e.lecturers.map((function(e){return e.lecturer_name}))||[],numStudents:e.students.filter((function(e){return 1===e.status})).length,numPending:e.students.filter((function(e){return 0===e.status})).length,onClick:function(){return L.push("/course/".concat(e.course_id))}},n)}))}),Object(ae.jsx)(xe.a,{page:v,onChange:function(e,t){g(t)},count:C,variant:"outlined",color:"secondary",showFirstButton:!0,showLastButton:!0})]})})})),ve=Oe,ge=n(197),ye=n(198),we=n(214),Ce=n(199),ke=n(76),Se=n.n(ke),Ie=Object(re.a)((function(e){return{appBar:{background:e.palette.background.paper},toolbar:{display:"flex",justifyContent:"space-between",padding:0,position:"relative"},title:{flexGrow:1,position:"relative",left:"1em"},tabs:{flexGrow:20},profileButton:{width:150,height:"100%",borderRadius:"50px 0 0 50px",alignSelf:"stretch",fontWeight:"bold"},profileContainer:{height:"100%",position:"absolute",top:0,right:0,flexDirection:"column"},profileContent:{marginLeft:30,width:120,display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none"}}}})),Ne=Object(l.c)((function(e){return{auth:e.auth}}),{clearAuth:function(){return{type:x,data:{}}},addAlert:C})((function(e){var t=e.onChangeTab,n=(e.currentTab,e.auth),a=e.clearAuth,c=e.addAlert,i=Ie(),o=Object(r.useState)(0),s=Object(ne.a)(o,2),u=s[0],l=s[1],d=Object(r.useState)(!1),p=Object(ne.a)(d,2),b=p[0],j=p[1];return Object(r.useEffect)((function(){return console.log("auth",n)}),[n]),Object(ae.jsx)(ge.a,{className:i.appBar,children:Object(ae.jsxs)(ye.a,{className:i.toolbar,children:[Object(ae.jsx)(je.a,{className:i.title,variant:"h1",children:"EAZYLEARN"}),Object(ae.jsxs)(we.a,{className:i.tabs,value:u,onChange:function(e,n){l(n),t(n)},"aria-label":"Admin Tabs",centered:!0,children:[Object(ae.jsx)(Ce.a,{label:"Course",id:"tab-course"}),(0===n.type||1===n.type)&&[Object(ae.jsx)(Ce.a,{label:"Lecturer",id:"tab-lecturer"},0),Object(ae.jsx)(Ce.a,{label:"Student",id:"tab-student"},1)]]}),""!==n.token?Object(ae.jsx)(le.a,{onClickAway:function(){return j(!1)},children:Object(ae.jsxs)("div",{className:i.profileContainer,children:[Object(ae.jsxs)(de.a,{className:i.profileButton,variant:"contained",color:"secondary",onClick:function(){return j((function(e){return!e}))},children:[Object(ae.jsx)(Se.a,{style:{fontSize:33,transform:"rotate(".concat(b?"180":"0","deg)"),transition:"transform .2s ease-in-out"}}),Object(ae.jsx)("p",{style:{flexGrow:1},children:n.username})]}),Object(ae.jsx)(pe.a,{in:b,children:Object(ae.jsx)("div",{className:i.profileContent,children:Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){a(),window.localStorage.removeItem("access_token"),L.go(0),c("success","Log out successfully!")},children:"Log out"})})})]})}):Object(ae.jsx)("div",{className:i.profileContainer,children:Object(ae.jsx)(de.a,{className:i.profileButton,variant:"contained",color:"secondary",startIcon:Object(ae.jsx)(Se.a,{style:{fontSize:33}}),onClick:function(){return L.push("/login")},children:"Login"})})]})})})),Le=function(e,t){return t.reduce((function(t,n,r){return t&&e[0][r]===n.name}),!0)&&e.slice(1).reduce((function(e,n){return e&&t.reduce((function(e,t,r){return e&&function(e,t){switch(t){case"string":return"string"===typeof e;case"number":return isNaN(parseInt(e));default:return!1}}(n[r],t.type)}),!0)}),!0)},Ae=[{name:"Name",type:"string",alias:"student_name"},{name:"Student ID",type:"string",alias:"account_id"},{name:"Class ID",type:"string",alias:"class_id"},{name:"Username",type:"string",alias:"account_id"},{name:"Password",type:"string",alias:"password"}],_e=function(e){var t=e.trim().split("\n").map((function(e){return e.split(",")}));return Le(t,Ae)?t.slice(1).map((function(e){return{student_name:e[0],student_id:e[1],class_id:e[2],account_id:e[3],password:e[4]}})):"CSV file format is invalid"},De=[{name:"Name",type:"string",alias:"lecturer_name"},{name:"Lecturer ID",type:"string",alias:"account_id"},{name:"Username",type:"string",alias:"account_id"},{name:"Password",type:"string",alias:"password"}],Re=function(e){var t=e.trim().split("\n").map((function(e){return e.split(",")}));return Le(t,De)?t.slice(1).map((function(e){return{lecturer_name:e[0],lecturer_id:e[1],account_id:e[2],password:e[3]}})):"CSV file format is invalid"},Te=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error(t)}},Ee=n(217),Be=n(200),We=n(201),Fe=Object(re.a)((function(e){return{container:{position:"relative",width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"50px 1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},checkbox:{gridColumn:1},content:{gridColumn:2,display:"inline-flex",alignItems:"center"},action:{zIndex:1},optionsContainer:{position:"absolute",top:5,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"}}})),Pe=function(e){var t=e.name,n=e.checked,a=void 0!==n&&n,c=e.onChange,i=e.showChecked,o=void 0!==i&&i,s=e.options,u=void 0===s?Object(ae.jsx)(ae.Fragment,{}):s,l=e.showOptions,d=void 0===l||l,p=Fe(),b=Object(r.useState)(!1),j=Object(ne.a)(b,2),f=j[0],h=j[1];return Object(ae.jsxs)("div",{className:p.container,children:[o&&Object(ae.jsx)(Ee.a,{checked:a,className:p.checkbox,color:"secondary",onChange:c}),Object(ae.jsx)("div",{className:p.content,children:Object(ae.jsx)(je.a,{style:{color:"#3A3A3A",width:200,marginRight:20},variant:"body1",color:"initial",children:t})}),d&&Object(ae.jsx)(le.a,{onClickAway:function(){return h(!1)},children:Object(ae.jsxs)("div",{style:{zIndex:f?2:1},className:p.optionsContainer,children:[Object(ae.jsx)(Be.a,{className:p.action,onClick:function(){return h(!0)},children:Object(ae.jsx)(We.a,{})}),Object(ae.jsx)(pe.a,{in:f,children:u})]})})]})},ze=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),Ge=Object(l.c)(null,{addAlert:C})((function(e){var t=e.addAlert,n=ze(),a=Object(r.useState)([]),c=Object(ne.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(ne.a)(l,2),p=d[0],b=d[1],j=Object(r.useState)(!1),f=Object(ne.a)(j,2),h=f[0],x=f[1],m=Object(r.useState)(0),O=Object(ne.a)(m,2),v=O[0],g=O[1],y=Object(r.useState)(!1),w=Object(ne.a)(y,2),C=w[0],k=w[1],S=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Z();case 3:"OK"===(n=e.sent).status?(o(n.lecturers),b(n.lecturers)):t("error","Error occurred while getting lecturer list."),x(!1);case 6:case"end":return e.stop()}}),e)}))),[t]);Object(r.useEffect)((function(){S()}),[S]);var I=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=n.target.files)&&0!==r.length){e.next=4;break}return t("error","File not found."),e.abrupt("return");case 4:return e.next=6,r[0].text();case 6:if(a=e.sent,"string"!==typeof(c=Re(a))){e.next=11;break}return t("error",c),e.abrupt("return");case 11:return i=c.map((function(e){return{username:e.lecturer_id,password:e.password,name:e.lecturer_name,type:1}})),e.next=14,$({body:i});case 14:"OK"===(o=e.sent).status&&0===o.badRequests.length&&0===o.duplicates.length?t("success","Create ".concat(o.successful.length," lecturer accounts successfully!")):t("error","Only created ".concat(o.successful.length," lecturer accounts, ").concat(o.badRequests.length," have invalid data and ").concat(o.duplicates.length," accounts already exist"),5e3),k(!1),S();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ae.jsx)("section",{className:n.container,children:Object(ae.jsxs)("div",{className:n.content,children:[Object(ae.jsxs)("div",{className:n.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;v&&clearTimeout(v),g(window.setTimeout((function(){return b(i.filter((e=t,function(t){return-1!==t.lecturer_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:n.searchBar}),Object(ae.jsx)(le.a,{onClickAway:function(){return k(!1)},children:Object(ae.jsxs)("div",{className:n.actionContainer,children:[Object(ae.jsxs)(de.a,{variant:"contained",color:"secondary",onClick:function(){k((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ae.jsx)(oe.a,{style:{transform:"rotate(".concat(C?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ae.jsx)(pe.a,{in:C,children:Object(ae.jsx)("div",{className:n.actionContent,children:Object(ae.jsxs)(de.a,{variant:"contained",color:"primary",component:"label",style:{textTransform:"none"},children:["Import via csv",Object(ae.jsx)("input",{type:"file",onInput:I,hidden:!0})]})})})]})})]}),Object(ae.jsx)("div",{className:n.listContainer,children:h?Object(ae.jsx)(be.a,{color:"secondary"}):p.map((function(e,t){return Object(ae.jsx)(Pe,{name:(null===e||void 0===e?void 0:e.lecturer_name)||"",options:Object(ae.jsx)("div",{className:n.actionContent,children:Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"More details"})})},t)}))})]})})})),Ke=Ge,Ye=Object(re.a)((function(e){return{container:{position:"relative",width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"50px 1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},checkbox:{gridColumn:1,position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},content:{gridColumn:2,display:"inline-flex",alignItems:"center"},action:{zIndex:1},optionsContainer:{position:"absolute",top:5,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"}}})),Xe=function(e){var t=e.name,n=e.id,a=void 0===n?"":n,c=e.status,i=void 0===c?-1:c,o=e.checked,s=void 0!==o&&o,u=e.onChange,l=e.options,d=void 0===l?Object(ae.jsx)(ae.Fragment,{}):l,p=e.showOptions,b=void 0===p||p,j=e.showChecked,f=void 0===j||j,h=Ye(),x=Object(r.useState)(!1),m=Object(ne.a)(x,2),O=m[0],v=m[1];return Object(ae.jsxs)("div",{className:h.container,children:[f&&Object(ae.jsx)("div",{children:Object(ae.jsx)(Ee.a,{checked:s,className:h.checkbox,color:"secondary",onChange:u})}),Object(ae.jsxs)("div",{className:h.content,children:[Object(ae.jsx)(je.a,{style:{color:"#3A3A3A",width:300,marginRight:20},variant:"body1",color:"initial",children:t}),i>=0?Object(ae.jsx)(je.a,{style:{color:0===i?"#F7CB15":"#00E3AA"},variant:"body1",children:0===i?"Pending":"Approved"}):Object(ae.jsx)(je.a,{style:{color:"#3A3A3A"},variant:"body1",children:a})]}),b&&Object(ae.jsx)(le.a,{onClickAway:function(){return v(!1)},children:Object(ae.jsxs)("div",{style:{zIndex:O?2:1},className:h.optionsContainer,children:[Object(ae.jsx)(Be.a,{className:h.action,onClick:function(){return v(!0)},children:Object(ae.jsx)(We.a,{})}),Object(ae.jsx)(pe.a,{in:O,children:d})]})})]})},Me=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),qe=Object(l.c)(null,{addAlert:C})((function(e){var t=e.addAlert,n=Me(),a=Object(r.useState)([]),c=Object(ne.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(ne.a)(l,2),p=d[0],b=d[1],j=Object(r.useState)(!1),f=Object(ne.a)(j,2),h=f[0],x=f[1],m=Object(r.useState)(0),O=Object(ne.a)(m,2),v=O[0],g=O[1],y=Object(r.useState)(!1),w=Object(ne.a)(y,2),C=w[0],k=w[1],S=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Q();case 3:"OK"===(n=e.sent).status?(o(n.students),b(n.students)):t("error","Error occurred while getting student list."),x(!1);case 6:case"end":return e.stop()}}),e)}))),[t]);Object(r.useEffect)((function(){S()}),[S]);var I=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=n.target.files)&&0!==r.length){e.next=4;break}return t("error","File not found."),e.abrupt("return");case 4:return e.next=6,r[0].text();case 6:if(a=e.sent,"string"!==typeof(c=_e(a))){e.next=11;break}return t("error",c),e.abrupt("return");case 11:return i=c.map((function(e){return{username:e.student_id,password:e.password,classId:e.class_id,name:e.student_name,type:2}})),e.next=14,te({body:i});case 14:"OK"===(o=e.sent).status&&0===o.badRequests.length&&0===o.duplicates.length?t("success","Create ".concat(o.successful.length," student accounts successfully!")):t("error","Only created ".concat(o.successful.length," student accounts, ").concat(o.badRequests.length," have invalid data and ").concat(o.duplicates.length," accounts already exist"),5e3),k(!1),S();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ae.jsx)("section",{className:n.container,children:Object(ae.jsxs)("div",{className:n.content,children:[Object(ae.jsxs)("div",{className:n.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;v&&clearTimeout(v),g(window.setTimeout((function(){return b(i.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:n.searchBar}),Object(ae.jsx)(le.a,{onClickAway:function(){return k(!1)},children:Object(ae.jsxs)("div",{className:n.actionContainer,children:[Object(ae.jsxs)(de.a,{variant:"contained",color:"secondary",onClick:function(){k((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ae.jsx)(oe.a,{style:{transform:"rotate(".concat(C?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ae.jsx)(pe.a,{in:C,children:Object(ae.jsx)("div",{className:n.actionContent,children:Object(ae.jsxs)(de.a,{variant:"contained",color:"primary",component:"label",style:{textTransform:"none"},children:["Import via csv",Object(ae.jsx)("input",{type:"file",onInput:I,hidden:!0})]})})})]})})]}),Object(ae.jsx)("div",{className:n.listContainer,children:h?Object(ae.jsx)(be.a,{color:"secondary"}):p.map((function(e,t){return Object(ae.jsx)(Xe,{name:e.student_name,id:e.student_id,showChecked:!1,options:Object(ae.jsx)("div",{className:n.actionContent,children:Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"More details"})})},t)}))})]})})})),Ue=qe,Je=Object(re.a)({body:{position:"relative",top:40}}),Ve=function(e){return e.index===e.value?e.children:Object(ae.jsx)(ae.Fragment,{})},He=function(){var e=Je(),t=Object(r.useState)(0),n=Object(ne.a)(t,2),a=n[0],c=n[1];return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(ce,{}),Object(ae.jsx)(Ne,{currentTab:"course",onChangeTab:function(e){c(e)}}),Object(ae.jsxs)("div",{className:e.body,children:[Object(ae.jsx)(Ve,{value:a,index:0,children:Object(ae.jsx)("div",{style:{padding:"35px 75px"},children:Object(ae.jsx)(ve,{})})}),Object(ae.jsx)(Ve,{value:a,index:1,children:Object(ae.jsx)("div",{style:{padding:"35px 75px"},children:Object(ae.jsx)(Ke,{})})}),Object(ae.jsx)(Ve,{value:a,index:2,children:Object(ae.jsx)("div",{style:{padding:"35px 75px"},children:Object(ae.jsx)(Ue,{})})})]})]})},Ze=function(){return Object(ae.jsx)("div",{children:"sth sth"})},$e=Object(l.c)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.auth;return 0===t.type?Object(ae.jsx)(He,{}):1===t.type?Object(ae.jsx)(Ze,{}):Object(ae.jsx)(He,{})})),Qe=n(204),et=n(202),tt=n(203),nt=n(189),rt=Object(re.a)((function(e){return{formControl:{"& fieldset":{borderRadius:20}}}})),at=function(e){var t=e.title,n=e.id,r=e.value,a=e.placeholder,c=void 0===a?"":a,i=e.onChange,o=e.type,s=void 0===o?"text":o,u=e.InputProps,l=e.style,d=void 0===l?{}:l,p=e.formControlStyle,b=void 0===p?{}:p,j=rt();return Object(ae.jsx)(nt.a,{style:b,className:j.formControl,children:Object(ae.jsx)(se.a,{style:d,id:n,label:t,value:r,placeholder:c,onChange:i,type:s,variant:"outlined",color:"secondary",InputProps:u})})},ct=Object(re.a)((function(e){return{loginContainer:{width:"100vw",height:"100vh",background:"linear-gradient(116.83deg, #4A93FA -12.24%, #99F9FF 108.01%)",position:"relative"},content:{width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"row",justifyContent:"space-around"},intro:{display:"flex",flexDirection:"column",justifyContent:"center"},formContainer:{width:400,height:500,marginRight:30,background:e.palette.background.paper,borderRadius:30,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},form:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},formContent:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",rowGap:55},submit:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:24},button:{width:250,height:45,borderRadius:20,textDecoration:"none",fontWeight:"bold"}}})),it=Object(l.c)((function(e){return{auth:e.auth}}),{saveAuth:m,addAlert:C})((function(e){var t=e.auth,n=e.saveAuth,a=e.addAlert,c=ct(),i=Object(r.useState)(""),o=Object(ne.a)(i,2),l=o[0],d=o[1],p=Object(r.useState)(""),b=Object(ne.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(!1),x=Object(ne.a)(h,2),m=x[0],O=x[1],v=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={username:l,password:j},e.next=4,z(r);case 4:if("OK"!==(c=e.sent).status){e.next=16;break}if((i=Te(c.token)).hasOwnProperty("type")&&(0===(null===i||void 0===i?void 0:i.type)||1===(null===i||void 0===i?void 0:i.type))){e.next=10;break}return a("error","This account is not authorized for this site."),e.abrupt("return");case 10:window.localStorage.setItem("access_token",c.token),n(c.token,l,i.type),L.push("/"),a("success","Log in successfully!"),e.next=17;break;case 16:a("error","Username or password is incorrect.");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t.token&&(L.push("/"),a("error","You have already logged in."))}),[t,a]),Object(ae.jsx)("div",{className:c.loginContainer,children:Object(ae.jsxs)("div",{className:c.content,children:[Object(ae.jsxs)("section",{className:c.intro,children:[Object(ae.jsxs)(je.a,{style:{fontWeight:"bold",fontSize:70},variant:"h1",color:"primary",children:["TESTING",Object(ae.jsx)("br",{}),"MADE EASY"]}),Object(ae.jsxs)("span",{children:[Object(ae.jsx)(je.a,{variant:"h2",component:"span",color:"primary",children:"WITH"}),Object(ae.jsx)(je.a,{style:{marginLeft:10,fontWeight:"bold"},variant:"h2",component:"span",color:"secondary",children:"EAZYLEARN"})]})]}),Object(ae.jsx)("section",{className:c.formContainer,children:Object(ae.jsxs)("form",{className:c.form,onSubmit:v,children:[Object(ae.jsx)(je.a,{variant:"h4",color:"secondary",children:"LOGIN"}),Object(ae.jsxs)("div",{className:c.formContent,children:[Object(ae.jsx)(at,{title:"Username",id:"username",value:l,placeholder:"Input your username here",onChange:function(e){return function(e){var t=e.target;d(t.value)}(e)},formControlStyle:{width:"80%"}}),Object(ae.jsx)(at,{title:"Password",id:"password",type:m?"text":"password",value:j,placeholder:"Input your password here",onChange:function(e){return function(e){var t=e.target;f(t.value)}(e)},formControlStyle:{width:"80%"},InputProps:{endAdornment:Object(ae.jsx)(ue.a,{position:"end",children:Object(ae.jsx)(Be.a,{onClick:function(){O((function(e){return!e}))},edge:"end",children:m?Object(ae.jsx)(et.a,{}):Object(ae.jsx)(tt.a,{})})})}})]}),Object(ae.jsxs)("div",{className:c.submit,children:[Object(ae.jsx)(de.a,{className:c.button,variant:"contained",color:"secondary",type:"submit",children:"Submit"}),Object(ae.jsx)(Qe.a,{href:"/forgot-password",color:"secondary",children:"Forgot password?"})]})]})})]})})})),ot=it,st=function(){var e=Object(r.useState)(""),t=Object(ne.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function e(t,n){t>=n.length||(a((function(e){return e+"\n"+atob(n[t])})),setTimeout((function(){return e(t+1,n)}),500))}(0,["Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi8nPy8pIA==","Li4uLi4uLi4uLi4uLi4uLi4uLi4sLz8uLi8g","Li4uLi4uLi4uLi4uLi4uLi4uLi8uLi4uLyA=","Li4uLi4uLi4uLi4uLi8nPy8nLi4uJy8nPz9gLiwg","Li4uLi4uLi4uLi8nLy4uLi8uLi4uLy4uLi4uLi4vPz9cIA==","Li4uLi4uLi4oJyhVIFIgVEhFIEFETUlOIExPTC4uLicpIA==","Li4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uLi4uJy4uLi4uLyA=","Li4uLi4uLi4uLicnLkRPIFNPTUVUSElORy4gXy4uJyA=","Li4uLi4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uKCA=","Li4uLi4uLi4uLi4uLi5cLi4uLi4uLi4uLi4uLlwuLi4="])}),[]),Object(ae.jsx)("pre",{children:n})},ut=n(208),lt=n(207),dt=n(209),pt=n(15),bt=n(216),jt=n(220),ft=n(205),ht=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),xt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.handleClose,a=e.exclude,c=void 0===a?[]:a,i=e.courseID,o=e.reload,l=e.addAlert,d=ht(),p=Object(r.useState)(!1),b=Object(ne.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)([]),x=Object(ne.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)([]),g=Object(ne.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(0),k=Object(ne.a)(C,2),S=k[0],I=k[1],N=Object(r.useState)(0),L=Object(ne.a)(N,2)[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Q();case 3:"OK"===(t=e.sent).status?(O(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{status:0})}))),w(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1,status:0})})))):l("error","Error occurred while getting student list."),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,l]);var A=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.filter((function(e){return e.checked})).map((function(e){return{studentID:e.student_id,courseID:i}})),e.next=3,V({body:t});case 3:"OK"===e.sent.status?(o(),n(),l("success","Add students to course successfully!")):l("error","Error occurred while adding students to course.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){var n=y.findIndex((function(t){return t.student_id===e}));y[n].checked=t.target.checked,L(Math.random())}};return Object(ae.jsx)(bt.a,{BackdropComponent:jt.a,open:t,className:d.modal,children:Object(ae.jsx)(ft.a,{direction:"up",in:t,children:Object(ae.jsxs)("section",{className:d.container,children:[Object(ae.jsx)(je.a,{className:d.header,variant:"h4",color:"initial",children:"Add students manually from database"}),Object(ae.jsxs)("div",{className:d.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;S&&clearTimeout(S),I(window.setTimeout((function(){var e;w(m.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:d.searchBar}),Object(ae.jsxs)("div",{className:d.buttons,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:A,children:"Add to course"})]})]}),Object(ae.jsx)("div",{className:d.listContainer,children:j?Object(ae.jsx)(be.a,{color:"secondary"}):y.map((function(e,t){return Object(ae.jsx)(Xe,{name:e.student_name,id:e.student_id,checked:e.checked,onChange:_(e.student_id),showOptions:!1},t)}))})]})})})})),mt=xt,Ot=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%"},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},checkActionContainer:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0px"},checkBoxContainer:{paddingLeft:6,display:"inline-flex",rowGap:10,alignItems:"center"},checkActionButton:{textTransform:"none",fontWeight:"bold",borderRadius:30}}})),vt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.reload,n=e.studentList,a=e.courseID,c=e.addAlert,i=Ot(),o=Object(r.useState)(0),l=Object(ne.a)(o,2),d=l[0],p=l[1],b=Object(r.useState)(!1),j=Object(ne.a)(b,2),f=j[0],h=j[1],x=Object(r.useState)(!1),m=Object(ne.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)([]),y=Object(ne.a)(g,2),w=y[0],C=y[1],k=Object(r.useState)([]),S=Object(ne.a)(k,2),I=S[0],N=S[1],L=Object(r.useState)(0),A=Object(ne.a)(L,2)[1],_=function(e){return function(t){var n=w.findIndex((function(t){return t.student_id===e})),r=I.findIndex((function(t){return t.student_id===e}));-1!==n?w[n].checked=t.target.checked:-1!==r&&(I[r].checked=t.target.checked),A(Math.random())}},D=function(e){return function(t){"approved"===e?N((function(e){return e.map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:t.target.checked})}))})):C((function(e){return e.map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:t.target.checked})}))}))}},R=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return{studentID:e.student_id,courseID:a}})),e.next=3,ee({body:r});case 3:"OK"===e.sent.status?(c("success","Approve students successfully!"),t()):c("error","Error occurred while approving students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{studentID:n.student_id,courseID:a}],e.next=3,U({body:r});case 3:"OK"===e.sent.status?(c("success","Remove students successfully!"),t()):c("error","Error occurred while removing students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(n.filter((function(e){return 0===e.status})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})}))),N(n.filter((function(e){return 1===e.status})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})})))}),[n]),Object(ae.jsxs)("section",{className:i.container,children:[Object(ae.jsx)(mt,{open:O,handleClose:function(){return v(!1)},exclude:n.map((function(e){return e.student_id})),courseID:a,reload:t}),Object(ae.jsxs)("div",{className:i.content,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Students"}),Object(ae.jsxs)("div",{className:i.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;d&&clearTimeout(d),p(window.setTimeout((function(){var e,r=n.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())}));C(r.filter((function(e){return 0===e.status})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})}))),N(r.filter((function(e){return 1===e.status})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:i.searchBar}),Object(ae.jsx)(le.a,{onClickAway:function(){return h(!1)},children:Object(ae.jsxs)("div",{className:i.actionContainer,children:[Object(ae.jsxs)(de.a,{variant:"contained",color:"secondary",onClick:function(){h((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ae.jsx)(oe.a,{style:{transform:"rotate(".concat(f?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ae.jsx)(pe.a,{in:f,children:Object(ae.jsx)("div",{className:i.actionContent,children:Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){return v(!0)},children:"Add manually"})})})]})})]}),Object(ae.jsxs)("div",{className:i.listContainer,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Pending requests"}),Object(ae.jsxs)("div",{className:i.checkActionContainer,children:[Object(ae.jsxs)("div",{className:i.checkBoxContainer,children:[Object(ae.jsx)(Ee.a,{checked:w.length>0&&w.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:D("pending")}),Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(ae.jsx)(de.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.length,onClick:function(){return R(w)},children:"Approve all"}),Object(ae.jsx)(de.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.filter((function(e){return e.checked})).length,onClick:function(){return R(w.filter((function(e){return e.checked})))},children:"Approve selected"}),Object(ae.jsxs)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",w.length]})]}),w.map((function(e,t){return Object(ae.jsx)(Xe,{name:e.student_name,status:e.status,checked:e.checked,onChange:_(e.student_id),options:Object(ae.jsxs)("div",{className:i.actionContent,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){return R([e])},children:"Approve"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]}),Object(ae.jsxs)("div",{style:{marginTop:30},className:i.listContainer,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Enrolling students"}),Object(ae.jsxs)("div",{className:i.checkActionContainer,children:[Object(ae.jsxs)("div",{className:i.checkBoxContainer,children:[Object(ae.jsx)(Ee.a,{checked:I.length>0&&I.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:D("approved")}),Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(ae.jsxs)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",I.length]})]}),I.map((function(e,t){return Object(ae.jsx)(Xe,{name:e.student_name,status:e.status,checked:e.checked,onChange:_(e.student_id),options:Object(ae.jsxs)("div",{className:i.actionContent,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]})]})]})})),gt=vt,yt=n(206),wt=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),Ct=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.handleClose,a=e.exclude,c=void 0===a?[]:a,i=e.courseID,o=e.reload,l=e.addAlert,d=wt(),p=Object(r.useState)(!1),b=Object(ne.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)([]),x=Object(ne.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)([]),g=Object(ne.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(0),k=Object(ne.a)(C,2),S=k[0],I=k[1],N=Object(r.useState)(0),L=Object(ne.a)(N,2)[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Z();case 3:"OK"===(t=e.sent).status?(O(t.lecturers.filter((function(e){return-1===c.indexOf(e.lecturer_id)})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{status:0})}))),w(t.lecturers.filter((function(e){return-1===c.indexOf(e.lecturer_id)})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1,status:0})})))):l("error","Error occurred while getting lecturer list."),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,l]);var A=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.filter((function(e){return e.checked})).map((function(e){return{lecturerID:e.lecturer_id,courseID:i}})),e.next=3,H({body:t});case 3:"OK"===e.sent.status?(o(),n(),l("success","Add lecturers to course successfully!")):l("error","Error occurred while adding lecturers to course.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){var n=y.findIndex((function(t){return t.lecturer_id===e}));y[n].checked=t.target.checked,L(Math.random())}};return Object(ae.jsx)(bt.a,{BackdropComponent:jt.a,open:t,className:d.modal,children:Object(ae.jsx)(ft.a,{direction:"up",in:t,children:Object(ae.jsxs)("section",{className:d.container,children:[Object(ae.jsx)(je.a,{className:d.header,variant:"h4",color:"initial",children:"Add lecturers manually from database"}),Object(ae.jsxs)("div",{className:d.toolContainer,children:[Object(ae.jsx)(se.a,{variant:"outlined",onChange:function(e){var t=e.target.value;S&&clearTimeout(S),I(window.setTimeout((function(){var e;w(m.filter((e=t,function(t){return-1!==t.lecturer_name.toLowerCase().indexOf(e.toLowerCase())})).map((function(e){return Object(pt.a)(Object(pt.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(ae.jsx)(ue.a,{position:"start",children:Object(ae.jsx)(ie.a,{})})},placeholder:"Search",className:d.searchBar}),Object(ae.jsxs)("div",{className:d.buttons,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:A,children:"Add to course"})]})]}),Object(ae.jsx)("div",{className:d.listContainer,children:j?Object(ae.jsx)(be.a,{color:"secondary"}):y.map((function(e,t){return Object(ae.jsx)(Pe,{name:e.lecturer_name,checked:e.checked,onChange:_(e.lecturer_id),showChecked:!0,showOptions:!1},t)}))})]})})})})),kt=Ct,St=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},listContainer:{width:"100%"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}}}})),It=Object(l.c)(null,{addAlert:C})((function(e){var t=e.reload,n=e.lecturerList,a=e.courseID,c=e.addAlert,i=St(),o=Object(r.useState)(!1),l=Object(ne.a)(o,2),d=l[0],p=l[1],b=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{lecturerID:n,courseID:a}],e.next=3,J({body:r});case 3:"OK"===e.sent.status?(t(),c("success","Remove lecturers successfully!")):c("error","Error occurred while removing students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ae.jsxs)("section",{className:i.container,children:[Object(ae.jsx)(kt,{open:d,handleClose:function(){return p(!1)},exclude:n.map((function(e){return e.lecturer_id})),courseID:a,reload:t}),Object(ae.jsxs)("div",{className:i.content,children:[Object(ae.jsxs)("div",{className:i.header,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Lecturers"}),Object(ae.jsx)(de.a,{className:i.addButton,color:"secondary",variant:"contained",onClick:function(){return p(!0)},children:Object(ae.jsx)(yt.a,{})})]}),Object(ae.jsx)("div",{className:i.listContainer,children:n.map((function(e,t){return Object(ae.jsx)(Pe,{name:e.lecturer_name,options:Object(ae.jsxs)("div",{className:i.actionContent,children:[Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){return b(e.lecturer_id)},children:"Remove from course"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))})]})]})})),Nt=It,Lt=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:400,height:220,padding:30,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:15,"& button":{width:300,fontWeight:"bold"}},delete:{color:"red"}}})),At=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:650,height:150,padding:15,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:15,"& button":{fontWeight:"bold"}},delete:{color:"red"}}})),_t=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.handleClose,a=e.id,c=e.addAlert,i=At(),o=Object(r.useState)(!1),l=Object(ne.a)(o,2),d=l[0],p=l[1],b=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,X(a);case 3:return t=e.sent,p(!1),"OK"===t.status?(c("success","Delete course successfully!"),L.push("/")):c("error","Error occurred while deleting course."),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ae.jsx)(bt.a,{open:t,BackdropComponent:jt.a,className:i.modal,children:Object(ae.jsx)(ft.a,{in:t,direction:"down",children:Object(ae.jsx)("div",{className:i.container,children:Object(ae.jsxs)("div",{className:i.content,children:[Object(ae.jsx)(je.a,{variant:"h5",color:"initial",children:"Are you sure you want to delete this course permanently?"}),Object(ae.jsxs)("div",{className:i.actions,children:[Object(ae.jsx)(de.a,{className:i.delete,variant:"contained",color:"primary",onClick:b,children:d?Object(ae.jsx)(be.a,{color:"secondary",size:"2rem"}):"Yes, delete the course"}),Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:n,children:"No"})]})]})})})})})),Dt=function(e){var t=e.open,n=e.handleClose,a=e.id,c=Lt(),i=Object(r.useState)(!1),o=Object(ne.a)(i,2),s=o[0],u=o[1];return Object(ae.jsx)(bt.a,{className:c.modal,open:t,BackdropComponent:jt.a,children:Object(ae.jsx)(ft.a,{in:t,direction:"down",children:Object(ae.jsx)("div",{className:c.container,children:Object(ae.jsx)(le.a,{onClickAway:n,children:Object(ae.jsxs)("div",{className:c.content,children:[Object(ae.jsx)(_t,{open:s,handleClose:function(){u(!1)},id:a}),Object(ae.jsx)(je.a,{variant:"h5",color:"initial",children:"More settings"}),Object(ae.jsxs)("div",{className:c.actions,children:[Object(ae.jsx)(de.a,{className:c.delete,variant:"contained",color:"primary",onClick:function(){return u(!0)},children:"Delete course permanently"}),Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:n,children:"Close settings"})]})]})})})})})},Rt=n(213),Tt=n(221),Et=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:500,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:15,display:"flex",flexDirection:"column",rowGap:20,alignItems:"center",padding:"30px 40px",background:e.palette.background.paper},header:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},buttons:{display:"inline-flex",columnGap:10,alignItems:"center","& button":{width:100,borderRadius:10,textTransform:"none"}},input:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"},select:{width:150,borderRadius:20}}})),Bt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.id,a=e.handleClose,c=e.academicYear,i=e.semester,o=e.setYear,l=e.setSem,d=e.addAlert,p=Et(),b=Object(r.useState)(!1),j=Object(ne.a)(b,2),f=j[0],h=j[1],x=Object(r.useState)(c),m=Object(ne.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)(i),y=Object(ne.a)(g,2),w=y[0],C=y[1];Object(r.useEffect)((function(){return v(c)}),[c]),Object(r.useEffect)((function(){return C(i)}),[i]);var k=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={academicYear:O,semester:w},h(!0),e.next=4,M(n,t);case 4:"OK"===e.sent.status?(o(O),l(w),d("success","Update course info successfully!")):d("error","Error occurred while updating course info."),h(!1),a();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ae.jsx)(bt.a,{BackdropComponent:jt.a,open:t,className:p.modal,children:Object(ae.jsx)(ft.a,{direction:"up",in:t,children:Object(ae.jsxs)("section",{className:p.container,children:[Object(ae.jsxs)("div",{className:p.header,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Edit course info"}),Object(ae.jsxs)("div",{className:p.buttons,children:[Object(ae.jsx)(de.a,{variant:"text",onClick:a,children:"Discard"}),Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:k,children:f?Object(ae.jsx)(be.a,{style:{fill:"white"},size:"2rem"}):"Apply"})]})]}),Object(ae.jsxs)("div",{className:p.input,children:[Object(ae.jsx)(je.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(ae.jsx)(at,{style:{width:150},title:"Academic year",id:"academicYear",value:O,onChange:function(e){v(e.target.value)}})]}),Object(ae.jsxs)("div",{className:p.input,children:[Object(ae.jsx)(je.a,{variant:"body1",color:"initial",children:"Semester"}),Object(ae.jsxs)(Rt.a,{className:p.select,title:"Semester",id:"semester",value:w,onChange:function(e){C(parseInt(e.target.value))},variant:"outlined",children:[Object(ae.jsx)(Tt.a,{value:"1",children:"1"}),Object(ae.jsx)(Tt.a,{value:"2",children:"2"}),Object(ae.jsx)(Tt.a,{value:"3",children:"3"})]})]})]})})})})),Wt=Bt,Ft=Object(re.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,marginTop:30},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},courseInfo:{width:"100%"},infoLine:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"}}})),Pt=function(e){var t=e.id,n=e.academicYear,a=void 0===n?"":n,c=e.semester,i=void 0===c?0:c,o=e.setYear,s=e.setSem,u=Ft(),l=Object(r.useState)(!1),d=Object(ne.a)(l,2),p=d[0],b=d[1];return Object(ae.jsxs)("section",{className:u.container,children:[Object(ae.jsx)(Wt,{id:t,open:p,handleClose:function(){return b(!1)},academicYear:a,semester:i,setYear:o,setSem:s}),Object(ae.jsxs)("div",{className:u.content,children:[Object(ae.jsxs)("div",{className:u.header,children:[Object(ae.jsx)(je.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Course information"}),Object(ae.jsx)(de.a,{className:u.addButton,onClick:function(){return b(!0)},children:Object(ae.jsx)(lt.a,{})})]}),Object(ae.jsxs)("div",{className:u.courseInfo,children:[Object(ae.jsxs)("div",{className:u.infoLine,children:[Object(ae.jsx)(je.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"".concat(a," - ").concat(parseInt(a)+1)})]}),Object(ae.jsxs)("div",{className:u.infoLine,children:[Object(ae.jsx)(je.a,{variant:"body1",color:"initial",children:"Semester"}),Object(ae.jsx)(je.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:i})]})]})]})]})},zt=Object(re.a)((function(e){return{container:{padding:"40px 60px",display:"grid",gridTemplateColumns:"65% 1fr 100px",columnGap:40,rowGap:45},name:{gridColumn:1,gridRow:1,height:50,display:"grid",columnGap:20,gridTemplateColumns:"50px 120px 30px 1fr","& *":{fontSize:30}},input:{height:"100%",width:"100%"},separator:{textAlign:"center",paddingTop:6},editAction:{gridColumn:2,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10,"& button":{fontWeight:"bold",borderRadius:10,textTransform:"none"}},courseAction:{gridColumn:3,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{width:100,height:42,textTransform:"none",borderRadius:15,fontWeight:"bold"},mainPanel:{gridColumn:1,gridRow:2},sidePanel:{gridColumn:"2 / span 2",gridRow:2}}})),Gt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.addAlert,n=zt(),a=Object(d.f)().id,c=Object(r.useState)(null),i=Object(ne.a)(c,2),o=i[0],l=i[1],p=Object(r.useState)(!1),b=Object(ne.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(!1),x=Object(ne.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)((null===o||void 0===o?void 0:o.course_name)||""),g=Object(ne.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)((null===o||void 0===o?void 0:o.course_id)||""),k=Object(ne.a)(C,2),S=k[0],I=k[1],N=Object(r.useState)((null===o||void 0===o?void 0:o.academic_year)||""),A=Object(ne.a)(N,2),_=A[0],D=A[1],R=Object(r.useState)((null===o||void 0===o?void 0:o.semester)||0),T=Object(ne.a)(R,2),E=T[0],B=T[1],W=Object(r.useState)(!1),F=Object(ne.a)(W,2),P=F[0],z=F[1],G=Object(r.useCallback)(function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(n);case 3:"OK"===(r=e.sent).status?(l(r.course),w(r.course.course_name),I(r.course.course_id),D(r.course.academic_year),B(r.course.semester)):(L.push("/"),t("error","Course is missing or you are not allowed to access.")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),L.push("/"),t("error","Error occurred.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(r.useEffect)((function(){a&&("new"!==a?G(a):l({course_id:"",course_name:"",academic_year:"",semester:0,students:[],lecturers:[]}))}),[a,G]);var Y=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={id:S,name:y,academicYear:(new Date).getFullYear().toString(),semester:0},z(!0),"new"!==a){e.next=8;break}return e.next=5,q(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,M(a,n);case 10:e.t0=e.sent;case 11:r=e.t0,z(!1),O(!1),"OK"===r.status?"new"===a?(L.push("/course/".concat(S)),t("success","Create course successfully!")):t("success","Update course successfully!"):t("error","new"===a?"Error occurred while creating course.":"Error occurred while updating course.");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){G(a)};return null===o?Object(ae.jsx)(ae.Fragment,{}):Object(ae.jsxs)("div",{className:n.container,children:[Object(ae.jsx)(Dt,{open:j,handleClose:function(){f(!1)},id:o.course_id}),Object(ae.jsxs)("div",{className:n.name,children:[Object(ae.jsx)(Be.a,{onClick:function(){return L.push("/")},children:Object(ae.jsx)(ut.a,{fontSize:"medium"})}),Object(ae.jsx)(se.a,{className:n.input,color:"secondary",value:S,placeholder:"ID",onChange:function(e){I(e.target.value)},disabled:!m}),Object(ae.jsx)(je.a,{className:n.separator,variant:"h3",color:"initial",children:"-"}),Object(ae.jsx)(se.a,{className:n.input,color:"secondary",value:y,placeholder:"Course name",onChange:function(e){w(e.target.value)},disabled:!m})]}),Object(ae.jsx)("div",{className:n.editAction,children:m?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(de.a,{variant:"contained",color:"secondary",onClick:Y,children:P?Object(ae.jsx)(be.a,{style:{fill:"white"},size:"2rem"}):"Apply"}),Object(ae.jsx)(de.a,{variant:"contained",color:"primary",onClick:function(){w((null===o||void 0===o?void 0:o.course_name)||""),I((null===o||void 0===o?void 0:o.course_id)||""),O(!1)},children:"Discard"})]}):Object(ae.jsx)(Be.a,{onClick:function(){return O(!0)},children:Object(ae.jsx)(lt.a,{})})}),Object(ae.jsx)("div",{className:n.courseAction,children:Object(ae.jsx)(Be.a,{onClick:function(){return f(!0)},children:Object(ae.jsx)(dt.a,{})})}),Object(ae.jsx)("div",{className:n.mainPanel,children:Object(ae.jsx)(gt,{studentList:o.students,courseID:o.course_id,reload:X})}),Object(ae.jsxs)("div",{className:n.sidePanel,children:[Object(ae.jsx)(Nt,{lecturerList:o.lecturers,courseID:o.course_id,reload:X}),Object(ae.jsx)(Pt,{id:a,academicYear:_,semester:E,setYear:D,setSem:B})]})]})})),Kt=Gt,Yt=n(210),Xt=n(211),Mt=Object(re.a)((function(e){return{container:{maxWidth:300,animation:"$in 0.25s ease-in-out",display:"flex",flexDirection:"row",columnGap:20,justifyContent:"flex-start",alignItems:"center",padding:"10px 10px",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},close:{animation:"$out 0.25s ease-in-out",animationFillMode:"forwards"},"@keyframes in":{"0%":{transform:"translateX(-320px)"},"25%":{transform:"translateX(-182px)"},"50%":{transform:"translateX(-78px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(20px)"},"90%":{transform:"translateX(10px)"},"100%":{transform:"translateX(0px)"}},"@keyframes out":{"0%":{transform:"translateX(0px)"},"25%":{transform:"translateX(10px)"},"50%":{transform:"translateX(20px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(-78px)"},"90%":{transform:"translateX(-182px)"},"100%":{transform:"translateX(-320px)"}},content:{flexGrow:1,wordWrap:"break-word",maxWidth:228},successIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#00E3AA",display:"inline-flex",alignItems:"center",justifyContent:"center"},errorIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#E61212",display:"inline-flex",alignItems:"center",justifyContent:"center"}}})),qt=function(e){var t=e.type,n=e.message,a=e.duration,c=Mt(),i=Object(r.useState)(!1),o=Object(ne.a)(i,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){window.setTimeout((function(){return u(!0)}),a-250)}),[a]),Object(ae.jsxs)("div",{className:"".concat(c.container," ").concat(s?c.close:""),children:["success"===t?Object(ae.jsx)("div",{className:c.successIcon,children:Object(ae.jsx)(Yt.a,{style:{fill:"white"}})}):Object(ae.jsx)("div",{className:c.errorIcon,children:Object(ae.jsx)(Xt.a,{style:{fill:"white"}})}),Object(ae.jsx)(je.a,{className:c.content,variant:"body1",color:"initial",children:n})]})},Ut=Object(re.a)((function(e){return{container:{display:"flex",flexDirection:"column-reverse",rowGap:20,alignItems:"flex-start",justifyContent:"flex-start",maxHeight:"80vh",width:320,padding:"20px 20px",position:"fixed",bottom:0,left:0,zIndex:10}}})),Jt=Object(l.c)((function(e){return{alert:e.alert}}),{})((function(e){var t=e.alert,n=Ut();return Object(ae.jsx)("div",{className:n.container,children:t.map((function(e,t){return Object(ae.jsx)(qt,{type:e.type,message:e.message,duration:e.duration},t)}))})}));var Vt=function(){return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem("access_token"))&&3===t.split(".").length){e.next=4;break}return window.localStorage.removeItem("access_token"),e.abrupt("return",_.dispatch(m()));case 4:if((n=Te(t)).hasOwnProperty("account_id")&&n.hasOwnProperty("type")){e.next=8;break}return window.localStorage.removeItem("access_token"),e.abrupt("return",_.dispatch(m()));case 8:return r=n.account_id,a=n.type,e.next=12,G(r);case 12:if("OK"!==e.sent.status){e.next=15;break}return e.abrupt("return",_.dispatch(m(t,r,a)));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(ae.jsx)(l.a,{store:_,children:Object(ae.jsx)(p.a,{theme:B,children:Object(ae.jsxs)(b.a,{history:L,children:[Object(ae.jsxs)(d.d,{children:[Object(ae.jsx)(d.b,{path:"/",exact:!0,component:$e}),Object(ae.jsx)(d.b,{path:"/login",component:ot}),Object(ae.jsx)(d.b,{path:"/forgot-password",component:st}),Object(ae.jsx)(d.b,{path:"/course/:id",component:Kt}),Object(ae.jsx)(d.b,{path:"*",children:Object(ae.jsx)(d.a,{to:"/"})})]}),Object(ae.jsx)(Jt,{})]})})})},Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(ae.jsx)(a.a.StrictMode,{children:Object(ae.jsx)(Vt,{})}),document.getElementById("root")),Ht()}},[[149,1,2]]]);
//# sourceMappingURL=main.e3f2a382.chunk.js.map