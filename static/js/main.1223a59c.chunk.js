(this["webpackJsonpeazylearn-web"]=this["webpackJsonpeazylearn-web"]||[]).push([[0],{114:function(e,t,n){},121:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=(n(114),n(7)),s=n.n(o),u=n(10),l=n(15),d=n(52),j=n(213),b=n(59),p=(n(121),n(57)),h={token:"",username:""},f="@@auth/SAVE",x=function(e,t){return{type:f,data:{token:e,username:t}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(t.type===f){var n=t.data,r=n.token,a=n.username;return e.token=r,e.username=a,e}return h},O=n(77),v=3e3,g=[],y="@@alert/ADD",w="@@alert/POP",C=function(e,t){return{type:y,data:{type:e,message:t}}},k=function(){return{type:w}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n=t.data,r=n.type,a=n.message;return console.log("add",r,a),e=[].concat(Object(O.a)(e),[{type:r,message:a}]),window.setTimeout((function(){return D.dispatch(k())}),v),e;case w:return e=Object(O.a)(e.slice(1));default:return g}},N=function(e){return Object(p.b)({auth:m,alert:S,router:Object(b.b)(e)})},I=n(39),L=Object(I.a)(),A=n(85),D=Object(p.d)(N(L),Object(p.c)(Object(p.a)(Object(A.a)(L)))),R=n(101),_="#FFFFFF",T="#3185FC",B="#3A3A3A",W=Object(R.a)({palette:{primary:{main:_,contrastText:B},secondary:{main:T,dark:"#034FB9",contrastText:_},warning:{main:"#F7CB15",contrastText:B},background:{default:_,paper:_}},typography:{fontFamily:"Raleway",h1:{fontSize:"48px",fontWeight:800,letterSpacing:"0.04em"}},overrides:{MuiAppBar:{root:{boxShadow:"0 0",color:T},colorPrimary:{backgroundColor:"transparent",color:T}},MuiTab:{root:{fontWeight:"bold",fontSize:24,letterSpacing:.015,textTransform:"capitalize"},textColorInherit:{color:B,opacity:1,"&.Mui-selected":{color:T}}}}}),E=n(100),F=n.n(E).a.create({baseURL:"https://ezlapi.herokuapp.com",timeout:5e3});F.interceptors.response.use((function(e){return e.data}),(function(e){return e.response.data}));var P={get:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,r=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=5,F.get(t+r,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),postForm:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):"","Content-Type":"multipart/form-data"}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=2,a=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=6,F.delete(t+a,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""},data:r});case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/account/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/account",{username:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/course",{id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:0,e.next=4,P.get("/course/search",{query:t,page:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("/course",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.put("/course?id=".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/course",t);case 2:return(n=e.sent).message.lecturers=[],n.message.students=[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("/course/remove/student",{},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/course/assign/student",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/lecturer");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/student");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.put("/student/approve",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=n(8),Q=n(184),ee=n(1);var te=function(){return Object(ee.jsx)("div",{style:{zIndex:-1,position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(25.8% 51.02% at 77.5% 71.09%, rgba(49, 133, 252, 0.12) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(19.9% 17.2% at 25.8% 26.76%, #E7F1FF 0%, #FFFFFF 100%)"}})},ne=n(191),re=n(194),ae=n(219),ce=n(190),ie=n(192),oe=n(193),se=n(195),ue=n(196),le=n(104),de=Object(Q.a)((function(e){return{container:{width:"100%",padding:36,boxShadow:"0px 6px 4px rgba(49, 133, 252, 0.24)",borderRadius:15,boxSizing:"border-box",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",rowGap:5,width:800},divider:{height:0,width:"100%",border:"1px solid #3185FC",margin:"10px 0px"}}})),je=function(e){var t=e.id,n=e.name,r=e.lecturers,a=e.numStudents,c=e.numPending,i=e.onClick,o=de();return Object(ee.jsx)("div",{className:o.container,onClick:i,children:Object(ee.jsxs)("div",{className:o.content,children:[Object(ee.jsxs)(le.a,{style:{fontWeight:"bold"},variant:"h4",color:"initial",children:[t," - ",n]}),Object(ee.jsx)("div",{className:o.divider}),Object(ee.jsx)(le.a,{variant:"body1",color:"initial",children:"Lecturers: ".concat(0===r.length?"none":r.join(", "))}),Object(ee.jsxs)("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr"},children:[Object(ee.jsxs)(le.a,{variant:"body1",color:"initial",children:["Number of students: ",a]}),Object(ee.jsxs)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:c>0?"error":"secondary",children:["Wait for approval: ",c]})]})]})})},be=n(216),pe=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25},actionContainer:{zIndex:1,position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none"}}}})),he=function(){var e=pe(),t=Object(r.useState)([]),n=Object($.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object($.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)(0),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(1),x=Object($.a)(f,2),m=x[0],O=x[1],v=Object(r.useState)(1),g=Object($.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(""),k=Object($.a)(C,2),S=k[0],N=k[1],I=Object(r.useState)(!1),A=Object($.a)(I,2),D=A[0],R=A[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Y(S,m-1);case 3:"OK"===(t=e.sent).status&&(c(t.courses),w(t.maxPage)),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S,m]),Object(ee.jsx)("section",{className:e.container,children:Object(ee.jsxs)("div",{className:e.content,children:[Object(ee.jsxs)("div",{className:e.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){var t=e.target.value;p&&clearTimeout(p),h(window.setTimeout((function(){N(t),O(1),w(1)}),500))},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:e.searchBar}),Object(ee.jsx)(ie.a,{onClickAway:function(){return R(!1)},children:Object(ee.jsxs)("div",{className:e.actionContainer,children:[Object(ee.jsxs)(oe.a,{variant:"contained",color:"secondary",onClick:function(){R((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ee.jsx)(re.a,{style:{transform:"rotate(".concat(D?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ee.jsx)(se.a,{in:D,children:Object(ee.jsxs)("div",{className:e.actionContent,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",children:"Import via csv"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){L.push("/course/new")},children:"Create manually"})]})})]})})]}),Object(ee.jsx)("div",{className:e.listContainer,children:l?Object(ee.jsx)(ue.a,{color:"secondary"}):a.map((function(e,t){return Object(ee.jsx)(je,{id:e.course_id,name:e.course_name,lecturers:e.lecturers.map((function(e){return e.lecturer_name}))||[],numStudents:e.students.filter((function(e){return 1===e.status})).length,numPending:e.students.filter((function(e){return 0===e.status})).length,onClick:function(){return L.push("/course/".concat(e.course_id))}},t)}))}),Object(ee.jsx)(be.a,{page:m,onChange:function(e,t){O(t)},count:y,variant:"outlined",color:"secondary",showFirstButton:!0,showLastButton:!0})]})})},fe=n(197),xe=n(198),me=n(215),Oe=n(199),ve=n(76),ge=n.n(ve),ye=Object(Q.a)((function(e){return{appbar:{background:e.palette.background.paper},toolbar:{display:"flex",justifyContent:"space-between",padding:0},title:{flexGrow:1,position:"relative",left:"1em"},tabs:{flexGrow:20},profileButton:{flexGrow:1,borderRadius:"50px 0 0 50px",alignSelf:"stretch",fontWeight:"bold"}}})),we=Object(l.c)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.onChangeTab,n=(e.currentTab,e.auth),a=ye(),c=Object(r.useState)(0),i=Object($.a)(c,2),o=i[0],s=i[1];Object(r.useEffect)((function(){return console.log(n)}),[n]);return Object(ee.jsx)(fe.a,{className:a.appbar,children:Object(ee.jsxs)(xe.a,{className:a.toolbar,children:[Object(ee.jsx)(le.a,{className:a.title,variant:"h1",children:"EAZYLEARN"}),Object(ee.jsxs)(me.a,{className:a.tabs,value:o,onChange:function(e,n){s(n),t(n)},"aria-label":"Admin Tabs",centered:!0,children:[Object(ee.jsx)(Oe.a,{label:"Course",id:"tab-course"}),Object(ee.jsx)(Oe.a,{label:"Lecturer",id:"tab-lecturer"}),Object(ee.jsx)(Oe.a,{label:"Student",id:"tab-student"})]}),""!==n.token?Object(ee.jsx)(oe.a,{className:a.profileButton,variant:"contained",color:"secondary",startIcon:Object(ee.jsx)(ge.a,{style:{fontSize:33}}),children:n.username}):Object(ee.jsx)(oe.a,{className:a.profileButton,variant:"contained",color:"secondary",startIcon:Object(ee.jsx)(ge.a,{style:{fontSize:33}}),onClick:function(){return L.push("/login")},children:"Login"})]})})})),Ce=n(200),ke=n(201),Se=Object(Q.a)((function(e){return{container:{width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},content:{display:"inline-flex",alignItems:"center",paddingLeft:40},action:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),Ne=function(e){var t=e.name,n=e.action,r=void 0===n?null:n,a=Se();return Object(ee.jsxs)("div",{className:a.container,children:[Object(ee.jsx)("div",{className:a.content,children:Object(ee.jsx)(le.a,{style:{color:"#3A3A3A",width:200,marginRight:20},variant:"body1",color:"initial",children:t})}),Object(ee.jsx)("div",{children:Object(ee.jsx)(Ce.a,{className:a.action,onClick:r,children:Object(ee.jsx)(ke.a,{})})})]})},Ie=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),Le=function(){var e=Ie(),t=Object(r.useState)([]),n=Object($.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),o=Object($.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)(!1),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(0),x=Object($.a)(f,2),m=x[0],O=x[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,V();case 3:"OK"===(t=e.sent).status&&(c(t.lecturers),d(t.lecturers)),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(ee.jsx)("section",{className:e.container,children:Object(ee.jsxs)("div",{className:e.content,children:[Object(ee.jsxs)("div",{className:e.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){var t=e.target.value;m&&clearTimeout(m),O(window.setTimeout((function(){return d(a.filter((e=t,function(t){return-1!==t.lecturer_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:e.searchBar}),Object(ee.jsxs)(oe.a,{variant:"contained",color:"secondary",onClick:function(){},style:{fontWeight:"bold",borderRadius:10},children:["Action ",Object(ee.jsx)(re.a,{})]})]}),Object(ee.jsx)("div",{className:e.listContainer,children:p?Object(ee.jsx)(ue.a,{color:"secondary"}):l.map((function(e,t){return Object(ee.jsx)(Ne,{name:(null===e||void 0===e?void 0:e.lecturer_name)||""},t)}))})]})})},Ae=n(218),De=n(202),Re=Object(Q.a)((function(e){return{container:{position:"relative",width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"50px 1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},checkbox:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},content:{display:"inline-flex",alignItems:"center"},action:{zIndex:1},optionsContainer:{position:"absolute",top:5,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"}}})),_e=function(e){var t=e.name,n=e.id,a=void 0===n?"":n,c=e.status,i=void 0===c?-1:c,o=e.checked,s=e.onChange,u=e.options,l=void 0===u?Object(ee.jsx)(ee.Fragment,{}):u,d=e.showOptions,j=void 0===d||d,b=Re(),p=Object(r.useState)(!1),h=Object($.a)(p,2),f=h[0],x=h[1];return Object(ee.jsxs)("div",{className:b.container,children:[Object(ee.jsx)("div",{children:Object(ee.jsx)(Ae.a,{checked:o,className:b.checkbox,color:"secondary",onChange:s})}),Object(ee.jsxs)("div",{className:b.content,children:[Object(ee.jsx)(le.a,{style:{color:"#3A3A3A",width:300,marginRight:20},variant:"body1",color:"initial",children:t}),i>=0?Object(ee.jsx)(le.a,{style:{color:0===i?"#F7CB15":"#00E3AA"},variant:"body1",children:0===i?"Pending":"Approved"}):Object(ee.jsx)(le.a,{style:{color:"#3A3A3A"},variant:"body1",children:a})]}),j&&Object(ee.jsx)(ie.a,{onClickAway:function(){return x(!1)},children:Object(ee.jsxs)("div",{style:{zIndex:f?2:1},className:b.optionsContainer,children:[Object(ee.jsx)(Ce.a,{className:b.action,onClick:function(){return x(!0)},children:Object(ee.jsx)(De.a,{})}),Object(ee.jsx)(se.a,{in:f,children:l})]})})]})},Te=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),Be=function(){var e=Te(),t=Object(r.useState)([]),n=Object($.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),o=Object($.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)(!1),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(0),x=Object($.a)(f,2),m=x[0],O=x[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,q();case 3:"OK"===(t=e.sent).status&&(c(t.students),d(t.students)),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(ee.jsx)("section",{className:e.container,children:Object(ee.jsxs)("div",{className:e.content,children:[Object(ee.jsxs)("div",{className:e.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){var t=e.target.value;m&&clearTimeout(m),O(window.setTimeout((function(){return d(a.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:e.searchBar}),Object(ee.jsxs)(oe.a,{variant:"contained",color:"secondary",onClick:function(){},style:{fontWeight:"bold",borderRadius:10},children:["Action ",Object(ee.jsx)(re.a,{})]})]}),Object(ee.jsx)("div",{className:e.listContainer,children:p?Object(ee.jsx)(ue.a,{color:"secondary"}):l.map((function(e,t){return Object(ee.jsx)(_e,{name:e.student_name,id:e.student_id,checked:!1,onChange:(e.student_id,function(e){})},t)}))})]})})},We=Object(Q.a)({body:{position:"relative",top:40}}),Ee=function(e){return e.index===e.value?e.children:Object(ee.jsx)(ee.Fragment,{})},Fe=function(){var e=We(),t=Object(r.useState)(0),n=Object($.a)(t,2),a=n[0],c=n[1];return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(te,{}),Object(ee.jsx)(we,{currentTab:"course",onChangeTab:function(e){c(e)}}),Object(ee.jsxs)("div",{className:e.body,children:[Object(ee.jsx)(Ee,{value:a,index:0,children:Object(ee.jsx)("div",{style:{padding:"35px 75px"},children:Object(ee.jsx)(he,{})})}),Object(ee.jsx)(Ee,{value:a,index:1,children:Object(ee.jsx)("div",{style:{padding:"35px 75px"},children:Object(ee.jsx)(Le,{})})}),Object(ee.jsx)(Ee,{value:a,index:2,children:Object(ee.jsx)("div",{style:{padding:"35px 75px"},children:Object(ee.jsx)(Be,{})})})]})]})},Pe=n(205),Ge=n(203),ze=n(204),Xe=n(189),Ye=Object(Q.a)((function(e){return{formControl:{"& fieldset":{borderRadius:20}}}})),Ke=function(e){var t=e.title,n=e.id,r=e.value,a=e.placeholder,c=void 0===a?"":a,i=e.onChange,o=e.type,s=void 0===o?"text":o,u=e.InputProps,l=e.style,d=void 0===l?{}:l,j=e.formControlStyle,b=void 0===j?{}:j,p=Ye();return Object(ee.jsx)(Xe.a,{style:b,className:p.formControl,children:Object(ee.jsx)(ae.a,{style:d,id:n,label:t,value:r,placeholder:c,onChange:i,type:s,variant:"outlined",color:"secondary",InputProps:u})})},Me=Object(Q.a)((function(e){return{loginContainer:{width:"100vw",height:"100vh",background:"linear-gradient(116.83deg, #4A93FA -12.24%, #99F9FF 108.01%)",position:"relative"},content:{width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"row",justifyContent:"space-around"},intro:{display:"flex",flexDirection:"column",justifyContent:"center"},formContainer:{width:400,height:500,marginRight:30,background:e.palette.background.paper,borderRadius:30,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},form:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},formContent:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",rowGap:55},submit:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:24},button:{width:250,height:45,borderRadius:20,textDecoration:"none",fontWeight:"bold"}}})),Je=Object(l.c)((function(e){return{auth:e.auth}}),{saveAuth:x,addAlert:C})((function(e){var t=e.auth,n=e.saveAuth,a=e.addAlert,c=Me(),i=Object(r.useState)(""),o=Object($.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)(""),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(!1),x=Object($.a)(f,2),m=x[0],O=x[1],v=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={username:l,password:p},e.next=4,G(r);case 4:"OK"===(c=e.sent).status&&(window.localStorage.setItem("access_token",c.token),n(c.token,l),L.push("/"),a("success","Log in successfully!"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){""!==t.token&&(L.push("/"),a("error","You have already logged in."))}),[t]),Object(ee.jsx)("div",{className:c.loginContainer,children:Object(ee.jsxs)("div",{className:c.content,children:[Object(ee.jsxs)("section",{className:c.intro,children:[Object(ee.jsxs)(le.a,{style:{fontWeight:"bold",fontSize:70},variant:"h1",color:"primary",children:["TESTING",Object(ee.jsx)("br",{}),"MADE EASY"]}),Object(ee.jsxs)("span",{children:[Object(ee.jsx)(le.a,{variant:"h2",component:"span",color:"primary",children:"WITH"}),Object(ee.jsx)(le.a,{style:{marginLeft:10,fontWeight:"bold"},variant:"h2",component:"span",color:"secondary",children:"EAZYLEARN"})]})]}),Object(ee.jsx)("section",{className:c.formContainer,children:Object(ee.jsxs)("form",{className:c.form,onSubmit:v,children:[Object(ee.jsx)(le.a,{variant:"h4",color:"secondary",children:"LOGIN"}),Object(ee.jsxs)("div",{className:c.formContent,children:[Object(ee.jsx)(Ke,{title:"Username",id:"username",value:l,placeholder:"Input your username here",onChange:function(e){return function(e){var t=e.target;d(t.value)}(e)},formControlStyle:{width:"80%"}}),Object(ee.jsx)(Ke,{title:"Password",id:"password",type:m?"text":"password",value:p,placeholder:"Input your password here",onChange:function(e){return function(e){var t=e.target;h(t.value)}(e)},formControlStyle:{width:"80%"},InputProps:{endAdornment:Object(ee.jsx)(ce.a,{position:"end",children:Object(ee.jsx)(Ce.a,{onClick:function(){O((function(e){return!e}))},edge:"end",children:m?Object(ee.jsx)(Ge.a,{}):Object(ee.jsx)(ze.a,{})})})}})]}),Object(ee.jsxs)("div",{className:c.submit,children:[Object(ee.jsx)(oe.a,{className:c.button,variant:"contained",color:"secondary",type:"submit",children:"Submit"}),Object(ee.jsx)(Pe.a,{href:"/forgot-password",color:"secondary",children:"Forgot password?"})]})]})})]})})})),Ue=Je,He=function(){var e=Object(r.useState)(""),t=Object($.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function e(t,n){t>=n.length||(a((function(e){return e+"\n"+atob(n[t])})),setTimeout((function(){return e(t+1,n)}),500))}(0,["Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi8nPy8pIA==","Li4uLi4uLi4uLi4uLi4uLi4uLi4sLz8uLi8g","Li4uLi4uLi4uLi4uLi4uLi4uLi8uLi4uLyA=","Li4uLi4uLi4uLi4uLi8nPy8nLi4uJy8nPz9gLiwg","Li4uLi4uLi4uLi8nLy4uLi8uLi4uLy4uLi4uLi4vPz9cIA==","Li4uLi4uLi4oJyhVIFIgVEhFIEFETUlOIExPTC4uLicpIA==","Li4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uLi4uJy4uLi4uLyA=","Li4uLi4uLi4uLicnLkRPIFNPTUVUSElORy4gXy4uJyA=","Li4uLi4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uKCA=","Li4uLi4uLi4uLi4uLi5cLi4uLi4uLi4uLi4uLlwuLi4="])}),[]),Object(ee.jsx)("pre",{children:n})},Ve=n(209),qe=n(208),Ze=n(210),$e=n(19),Qe=n(217),et=n(221),tt=n(206),nt=Object(Q.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),rt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.handleClose,a=e.exclude,c=void 0===a?[]:a,i=e.courseID,o=e.reload,l=e.addAlert,d=nt(),j=Object(r.useState)(!1),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)([]),x=Object($.a)(f,2),m=x[0],O=x[1],v=Object(r.useState)([]),g=Object($.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(0),k=Object($.a)(C,2),S=k[0],N=k[1],I=Object(r.useState)(0),L=Object($.a)(I,2),A=(L[0],L[1]);Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,q();case 3:"OK"===(t=e.sent).status&&(O(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{status:0})}))),w(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1,status:0})})))),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);var D=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.filter((function(e){return e.checked})).map((function(e){return{studentID:e.student_id,courseID:i}})),e.next=3,H({body:t});case 3:"OK"===e.sent.status?(o(),n(),l("success","Add students to course successfully!")):l("error","Error occured while adding students to course.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){return function(t){var n=y.findIndex((function(t){return t.student_id===e}));y[n].checked=t.target.checked,A(Math.random())}};return Object(ee.jsx)(Qe.a,{BackdropComponent:et.a,open:t,className:d.modal,children:Object(ee.jsx)(tt.a,{direction:"up",in:t,children:Object(ee.jsxs)("section",{className:d.container,children:[Object(ee.jsx)(le.a,{className:d.header,variant:"h4",color:"initial",children:"Add students manually from database"}),Object(ee.jsxs)("div",{className:d.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){var t=e.target.value;S&&clearTimeout(S),N(window.setTimeout((function(){var e;w(m.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:d.searchBar}),Object(ee.jsxs)("div",{className:d.buttons,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:D,children:"Add to course"})]})]}),Object(ee.jsx)("div",{className:d.listContainer,children:p?Object(ee.jsx)(ue.a,{color:"secondary"}):y.map((function(e,t){return Object(ee.jsx)(_e,{name:e.student_name,id:e.student_id,checked:e.checked,onChange:R(e.student_id),showOptions:!1},t)}))})]})})})})),at=rt,ct=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%"},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},checkActionContainer:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0px"},checkBoxContainer:{paddingLeft:6,display:"inline-flex",rowGap:10,alignItems:"center"},checkActionButton:{textTransform:"none",fontWeight:"bold",borderRadius:30}}})),it=Object(l.c)(null,{addAlert:C})((function(e){var t=e.reload,n=e.studentList,a=e.courseID,c=e.addAlert,i=ct(),o=Object(r.useState)(0),l=Object($.a)(o,2),d=l[0],j=l[1],b=Object(r.useState)(!1),p=Object($.a)(b,2),h=p[0],f=p[1],x=Object(r.useState)(!1),m=Object($.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)([]),y=Object($.a)(g,2),w=y[0],C=y[1],k=Object(r.useState)([]),S=Object($.a)(k,2),N=S[0],I=S[1],L=Object(r.useState)(0),A=Object($.a)(L,2)[1],D=function(e){return function(t){var n=w.findIndex((function(t){return t.student_id===e})),r=N.findIndex((function(t){return t.student_id===e}));-1!==n?w[n].checked=t.target.checked:-1!==r&&(N[r].checked=t.target.checked),A(Math.random())}},R=function(e){return function(t){"approved"===e?I((function(e){return e.map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:t.target.checked})}))})):C((function(e){return e.map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:t.target.checked})}))}))}},_=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return{studentID:e.student_id,courseID:a}})),e.next=3,Z({body:r});case 3:"OK"===e.sent.status?(c("success","Approve students successfully!"),t()):c("error","Error occured while approving students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{studentID:n.student_id,courseID:a}],e.next=3,U({body:r});case 3:"OK"===e.sent.status?(c("success","Remove students successfully!"),t()):c("error","Error occured while removing students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(n.filter((function(e){return 0===e.status})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1})}))),I(n.filter((function(e){return 1===e.status})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1})})))}),[n]),Object(ee.jsxs)("section",{className:i.container,children:[Object(ee.jsx)(at,{open:O,handleClose:function(){return v(!1)},exclude:n.map((function(e){return e.student_id})),courseID:a,reload:t}),Object(ee.jsxs)("div",{className:i.content,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Students"}),Object(ee.jsxs)("div",{className:i.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){var t=e.target.value;d&&clearTimeout(d),j(window.setTimeout((function(){var e,r=n.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())}));C(r.filter((function(e){return 0===e.status})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1})}))),I(r.filter((function(e){return 1===e.status})).map((function(e){return Object($e.a)(Object($e.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:i.searchBar}),Object(ee.jsx)(ie.a,{onClickAway:function(){return f(!1)},children:Object(ee.jsxs)("div",{className:i.actionContainer,children:[Object(ee.jsxs)(oe.a,{variant:"contained",color:"secondary",onClick:function(){f((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(ee.jsx)(re.a,{style:{transform:"rotate(".concat(h?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(ee.jsx)(se.a,{in:h,children:Object(ee.jsxs)("div",{className:i.actionContent,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",children:"Import via csv"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){return v(!0)},children:"Add manually"})]})})]})})]}),Object(ee.jsxs)("div",{className:i.listContainer,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Pending requests"}),Object(ee.jsxs)("div",{className:i.checkActionContainer,children:[Object(ee.jsxs)("div",{className:i.checkBoxContainer,children:[Object(ee.jsx)(Ae.a,{checked:w.length>0&&w.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:R("pending")}),Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(ee.jsx)(oe.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.length,onClick:function(){return _(w)},children:"Approve all"}),Object(ee.jsx)(oe.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.filter((function(e){return e.checked})).length,onClick:function(){return _(w.filter((function(e){return e.checked})))},children:"Approve selected"}),Object(ee.jsxs)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",w.length]})]}),w.map((function(e,t){return Object(ee.jsx)(_e,{name:e.student_name,status:e.status,checked:e.checked,onChange:D(e.student_id),options:Object(ee.jsxs)("div",{className:i.actionContent,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){return _([e])},children:"Approve"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]}),Object(ee.jsxs)("div",{style:{marginTop:30},className:i.listContainer,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Enrolling students"}),Object(ee.jsxs)("div",{className:i.checkActionContainer,children:[Object(ee.jsxs)("div",{className:i.checkBoxContainer,children:[Object(ee.jsx)(Ae.a,{checked:N.length>0&&N.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:R("approved")}),Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(ee.jsxs)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",N.length]})]}),N.map((function(e,t){return Object(ee.jsx)(_e,{name:e.student_name,status:e.status,checked:e.checked,onChange:D(e.student_id),options:Object(ee.jsxs)("div",{className:i.actionContent,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]})]})]})})),ot=it,st=n(207),ut=Object(Q.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),lt=function(e){var t=e.open,n=e.handleClose,r=ut();return Object(ee.jsx)(Qe.a,{BackdropComponent:et.a,open:t,className:r.modal,children:Object(ee.jsx)(tt.a,{direction:"up",in:t,children:Object(ee.jsxs)("section",{className:r.container,children:[Object(ee.jsx)(le.a,{className:r.header,variant:"h4",color:"initial",children:"Add lecturers manually from database"}),Object(ee.jsxs)("div",{className:r.toolContainer,children:[Object(ee.jsx)(ae.a,{variant:"outlined",onChange:function(e){},InputProps:{startAdornment:Object(ee.jsx)(ce.a,{position:"start",children:Object(ee.jsx)(ne.a,{})})},placeholder:"Search",className:r.searchBar}),Object(ee.jsxs)("div",{className:r.buttons,children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:function(){},children:"Add to course"})]})]}),Object(ee.jsx)("div",{className:r.listContainer})]})})})},dt=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},listContainer:{width:"100%"}}})),jt=function(e){var t=e.lecturerList,n=dt(),a=Object(r.useState)(!1),c=Object($.a)(a,2),i=c[0],o=c[1];return Object(ee.jsxs)("section",{className:n.container,children:[Object(ee.jsx)(lt,{open:i,handleClose:function(){return o(!1)}}),Object(ee.jsxs)("div",{className:n.content,children:[Object(ee.jsxs)("div",{className:n.header,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Lecturers"}),Object(ee.jsx)(oe.a,{className:n.addButton,color:"secondary",variant:"contained",children:Object(ee.jsx)(st.a,{})})]}),Object(ee.jsx)("div",{className:n.listContainer,children:t.map((function(e,t){return Object(ee.jsx)(Ne,{name:e.lecturer_name},t)}))})]})]})},bt=Object(Q.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:400,height:220,padding:30,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:15,"& button":{width:300,fontWeight:"bold"}},delete:{color:"red"}}})),pt=Object(Q.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:650,height:150,padding:15,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:15,"& button":{fontWeight:"bold"}},delete:{color:"red"}}})),ht=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.handleClose,a=e.id,c=e.addAlert,i=pt(),o=Object(r.useState)(!1),l=Object($.a)(o,2),d=l[0],j=l[1],b=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,K(a);case 3:return t=e.sent,j(!1),"OK"===t.status?(c("success","Delete course successfully!"),L.push("/")):c("error","Error occured while deleting course."),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(Qe.a,{open:t,BackdropComponent:et.a,className:i.modal,children:Object(ee.jsx)(tt.a,{in:t,direction:"down",children:Object(ee.jsx)("div",{className:i.container,children:Object(ee.jsxs)("div",{className:i.content,children:[Object(ee.jsx)(le.a,{variant:"h5",color:"initial",children:"Are you sure you want to delete this course permanently?"}),Object(ee.jsxs)("div",{className:i.actions,children:[Object(ee.jsx)(oe.a,{className:i.delete,variant:"contained",color:"primary",onClick:b,children:d?Object(ee.jsx)(ue.a,{color:"secondary",size:"2rem"}):"Yes, delete the course"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:n,children:"No"})]})]})})})})})),ft=function(e){var t=e.open,n=e.handleClose,a=e.id,c=bt(),i=Object(r.useState)(!1),o=Object($.a)(i,2),s=o[0],u=o[1];return Object(ee.jsx)(Qe.a,{className:c.modal,open:t,BackdropComponent:et.a,children:Object(ee.jsx)(tt.a,{in:t,direction:"down",children:Object(ee.jsx)("div",{className:c.container,children:Object(ee.jsx)(ie.a,{onClickAway:n,children:Object(ee.jsxs)("div",{className:c.content,children:[Object(ee.jsx)(ht,{open:s,handleClose:function(){u(!1)},id:a}),Object(ee.jsx)(le.a,{variant:"h5",color:"initial",children:"More settings"}),Object(ee.jsxs)("div",{className:c.actions,children:[Object(ee.jsx)(oe.a,{className:c.delete,variant:"contained",color:"primary",onClick:function(){return u(!0)},children:"Delete course permanently"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:n,children:"Close settings"})]})]})})})})})},xt=n(214),mt=n(222),Ot=Object(Q.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:500,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:15,display:"flex",flexDirection:"column",rowGap:20,alignItems:"center",padding:"30px 40px",background:e.palette.background.paper},header:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},buttons:{display:"inline-flex",columnGap:10,alignItems:"center","& button":{width:100,borderRadius:10,textTransform:"none"}},input:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"},select:{width:150,borderRadius:20}}})),vt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.open,n=e.id,a=e.handleClose,c=e.academicYear,i=e.semester,o=e.setYear,l=e.setSem,d=e.addAlert,j=Ot(),b=Object(r.useState)(!1),p=Object($.a)(b,2),h=p[0],f=p[1],x=Object(r.useState)(c),m=Object($.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)(i),y=Object($.a)(g,2),w=y[0],C=y[1];Object(r.useEffect)((function(){return v(c)}),[c]),Object(r.useEffect)((function(){return C(i)}),[i]);var k=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={academicYear:O,semester:w},f(!0),e.next=4,M(n,t);case 4:"OK"===e.sent.status?(o(O),l(w),d("success","Update course info successfully!")):d("error","Error occured while updating course info."),f(!1),a();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(Qe.a,{BackdropComponent:et.a,open:t,className:j.modal,children:Object(ee.jsx)(tt.a,{direction:"up",in:t,children:Object(ee.jsxs)("section",{className:j.container,children:[Object(ee.jsxs)("div",{className:j.header,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Edit course info"}),Object(ee.jsxs)("div",{className:j.buttons,children:[Object(ee.jsx)(oe.a,{variant:"text",onClick:a,children:"Discard"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:k,children:h?Object(ee.jsx)(ue.a,{style:{fill:"white"},size:"2rem"}):"Apply"})]})]}),Object(ee.jsxs)("div",{className:j.input,children:[Object(ee.jsx)(le.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(ee.jsx)(Ke,{style:{width:150},title:"Academic year",id:"academicYear",value:O,onChange:function(e){v(e.target.value)}})]}),Object(ee.jsxs)("div",{className:j.input,children:[Object(ee.jsx)(le.a,{variant:"body1",color:"initial",children:"Semester"}),Object(ee.jsxs)(xt.a,{className:j.select,title:"Semester",id:"semester",value:w,onChange:function(e){C(parseInt(e.target.value))},variant:"outlined",children:[Object(ee.jsx)(mt.a,{value:"1",children:"1"}),Object(ee.jsx)(mt.a,{value:"2",children:"2"}),Object(ee.jsx)(mt.a,{value:"3",children:"3"})]})]})]})})})})),gt=vt,yt=Object(Q.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,marginTop:30},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},courseInfo:{width:"100%"},infoLine:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"}}})),wt=function(e){var t=e.id,n=e.academicYear,a=void 0===n?"":n,c=e.semester,i=void 0===c?0:c,o=e.setYear,s=e.setSem,u=yt(),l=Object(r.useState)(!1),d=Object($.a)(l,2),j=d[0],b=d[1];return Object(ee.jsxs)("section",{className:u.container,children:[Object(ee.jsx)(gt,{id:t,open:j,handleClose:function(){return b(!1)},academicYear:a,semester:i,setYear:o,setSem:s}),Object(ee.jsxs)("div",{className:u.content,children:[Object(ee.jsxs)("div",{className:u.header,children:[Object(ee.jsx)(le.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Course information"}),Object(ee.jsx)(oe.a,{className:u.addButton,onClick:function(){return b(!0)},children:Object(ee.jsx)(qe.a,{})})]}),Object(ee.jsxs)("div",{className:u.courseInfo,children:[Object(ee.jsxs)("div",{className:u.infoLine,children:[Object(ee.jsx)(le.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"".concat(a," - ").concat(parseInt(a)+1)})]}),Object(ee.jsxs)("div",{className:u.infoLine,children:[Object(ee.jsx)(le.a,{variant:"body1",color:"initial",children:"Semester"}),Object(ee.jsx)(le.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:i})]})]})]})]})},Ct=Object(Q.a)((function(e){return{container:{padding:"40px 60px",display:"grid",gridTemplateColumns:"65% 1fr 100px",columnGap:40,rowGap:45},name:{gridColumn:1,gridRow:1,height:50,display:"grid",columnGap:20,gridTemplateColumns:"50px 120px 30px 1fr","& *":{fontSize:30}},input:{height:"100%",width:"100%"},separator:{textAlign:"center",paddingTop:6},editAction:{gridColumn:2,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10,"& button":{fontWeight:"bold",borderRadius:10,textTransform:"none"}},courseAction:{gridColumn:3,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{width:100,height:42,textTransform:"none",borderRadius:15,fontWeight:"bold"},mainPanel:{gridColumn:1,gridRow:2},sidePanel:{gridColumn:"2 / span 2",gridRow:2}}})),kt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.addAlert,n=Ct(),a=Object(d.f)().id,c=Object(r.useState)(null),i=Object($.a)(c,2),o=i[0],l=i[1],j=Object(r.useState)(!1),b=Object($.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(!1),x=Object($.a)(f,2),m=x[0],O=x[1],v=Object(r.useState)((null===o||void 0===o?void 0:o.course_name)||""),g=Object($.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)((null===o||void 0===o?void 0:o.course_id)||""),k=Object($.a)(C,2),S=k[0],N=k[1],I=Object(r.useState)((null===o||void 0===o?void 0:o.academic_year)||""),A=Object($.a)(I,2),D=A[0],R=A[1],_=Object(r.useState)((null===o||void 0===o?void 0:o.semester)||0),T=Object($.a)(_,2),B=T[0],W=T[1],E=Object(r.useState)(!1),F=Object($.a)(E,2),P=F[0],G=F[1],z=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t);case 3:"OK"===(n=e.sent).status?(l(n.course),w(n.course.course_name),N(n.course.course_id),R(n.course.academic_year),W(n.course.semester)):L.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),L.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){a&&("new"!==a?z(a):l({course_id:"",course_name:"",academic_year:"",semester:0,students:[],lecturers:[]}))}),[a]);var Y=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={id:S,name:y},G(!0),"new"!==a){e.next=8;break}return e.next=5,J(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,M(a,n);case 10:e.t0=e.sent;case 11:r=e.t0,G(!1),O(!1),"OK"===r.status?"new"===a?(t("success","Create course successfully!"),L.push("/course/".concat(S))):t("success","Update course successfully!"):t("error","new"===a?"Error occured while creating course.":"Error occured while updating course.");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===o?Object(ee.jsx)(ee.Fragment,{}):Object(ee.jsxs)("div",{className:n.container,children:[Object(ee.jsx)(ft,{open:p,handleClose:function(){h(!1)},id:o.course_id}),Object(ee.jsxs)("div",{className:n.name,children:[Object(ee.jsx)(Ce.a,{onClick:function(){return L.push("/")},children:Object(ee.jsx)(Ve.a,{fontSize:"medium"})}),Object(ee.jsx)(ae.a,{className:n.input,color:"secondary",value:S,placeholder:"ID",onChange:function(e){N(e.target.value)},disabled:!m}),Object(ee.jsx)(le.a,{className:n.separator,variant:"h3",color:"initial",children:"-"}),Object(ee.jsx)(ae.a,{className:n.input,color:"secondary",value:y,placeholder:"Course name",onChange:function(e){w(e.target.value)},disabled:!m})]}),Object(ee.jsx)("div",{className:n.editAction,children:m?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:Y,children:P?Object(ee.jsx)(ue.a,{style:{fill:"white"},size:"2rem"}):"Apply"}),Object(ee.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){w((null===o||void 0===o?void 0:o.course_name)||""),N((null===o||void 0===o?void 0:o.course_id)||""),O(!1)},children:"Discard"})]}):Object(ee.jsx)(Ce.a,{onClick:function(){return O(!0)},children:Object(ee.jsx)(qe.a,{})})}),Object(ee.jsx)("div",{className:n.courseAction,children:Object(ee.jsx)(Ce.a,{onClick:function(){return h(!0)},children:Object(ee.jsx)(Ze.a,{})})}),Object(ee.jsx)("div",{className:n.mainPanel,children:Object(ee.jsx)(ot,{studentList:o.students,courseID:o.course_id,reload:function(){z(a)}})}),Object(ee.jsxs)("div",{className:n.sidePanel,children:[Object(ee.jsx)(jt,{lecturerList:o.lecturers}),Object(ee.jsx)(wt,{id:a,academicYear:D,semester:B,setYear:R,setSem:W})]})]})})),St=kt,Nt=Object(l.c)(null,{addAlert:C})((function(e){var t=e.addAlert,n=Object(r.useState)("success"),a=Object($.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),s=Object($.a)(o,2),u=s[0],l=s[1];return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(xt.a,{title:"Semester",id:"semester",value:c,onChange:function(e){var t=e.target.value;"success"!==t&&"error"!==t||i(t)},variant:"outlined",children:[Object(ee.jsx)(mt.a,{value:"success",children:"Success"}),Object(ee.jsx)(mt.a,{value:"error",children:"Error"})]}),Object(ee.jsx)(Ke,{style:{width:150},title:"message",id:"message",value:u,onChange:function(e){l(e.target.value)}}),Object(ee.jsx)(oe.a,{variant:"contained",color:"secondary",onClick:function(){t(c,u)},children:"Add!"})]})})),It=n(211),Lt=n(212),At=Object(Q.a)((function(e){return{container:{maxWidth:300,animation:"$in 0.25s ease-in-out",display:"flex",flexDirection:"row",columnGap:20,justifyContent:"flex-start",alignItems:"center",padding:"10px 10px",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},close:{animation:"$out 0.25s ease-in-out",animationFillMode:"forwards"},"@keyframes in":{"0%":{transform:"translateX(-320px)"},"25%":{transform:"translateX(-182px)"},"50%":{transform:"translateX(-78px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(20px)"},"90%":{transform:"translateX(10px)"},"100%":{transform:"translateX(0px)"}},"@keyframes out":{"0%":{transform:"translateX(0px)"},"25%":{transform:"translateX(10px)"},"50%":{transform:"translateX(20px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(-78px)"},"90%":{transform:"translateX(-182px)"},"100%":{transform:"translateX(-320px)"}},content:{flexGrow:1,wordWrap:"break-word",maxWidth:228},successIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#00E3AA",display:"inline-flex",alignItems:"center",justifyContent:"center"},errorIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#E61212",display:"inline-flex",alignItems:"center",justifyContent:"center"}}})),Dt=function(e){var t=e.type,n=e.message,a=At(),c=Object(r.useState)(!1),i=Object($.a)(c,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){window.setTimeout((function(){return s(!0)}),2750)}),[]),Object(ee.jsxs)("div",{className:"".concat(a.container," ").concat(o?a.close:""),children:["success"===t?Object(ee.jsx)("div",{className:a.successIcon,children:Object(ee.jsx)(It.a,{style:{fill:"white"}})}):Object(ee.jsx)("div",{className:a.errorIcon,children:Object(ee.jsx)(Lt.a,{style:{fill:"white"}})}),Object(ee.jsx)(le.a,{className:a.content,variant:"body1",color:"initial",children:n})]})},Rt=Object(Q.a)((function(e){return{container:{display:"flex",flexDirection:"column-reverse",rowGap:20,alignItems:"flex-start",justifyContent:"flex-start",maxHeight:"80vh",width:320,padding:"20px 20px",position:"fixed",bottom:0,left:0,zIndex:10}}})),_t=Object(l.c)((function(e){return{alert:e.alert}}),{})((function(e){var t=e.alert,n=Rt();return Object(ee.jsx)("div",{className:n.container,children:t.map((function(e,t){return Object(ee.jsx)(Dt,{type:e.type,message:e.message},t)}))})}));var Tt=function(){return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem("access_token"))&&3===t.split(".").length){e.next=3;break}return e.abrupt("return",D.dispatch(x("","")));case 3:if((n=JSON.parse(atob(t.split(".")[1]))).hasOwnProperty("account_id")){e.next=6;break}return e.abrupt("return",D.dispatch(x("","")));case 6:return r=n.account_id,e.next=9,z(r);case 9:if("OK"!==e.sent.status){e.next=12;break}return e.abrupt("return",D.dispatch(x(t,r)));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(ee.jsx)(l.a,{store:D,children:Object(ee.jsx)(j.a,{theme:W,children:Object(ee.jsxs)(b.a,{history:L,children:[Object(ee.jsxs)(d.d,{children:[Object(ee.jsx)(d.b,{path:"/",exact:!0,component:Fe}),Object(ee.jsx)(d.b,{path:"/login",component:Ue}),Object(ee.jsx)(d.b,{path:"/forgot-password",component:He}),Object(ee.jsx)(d.b,{path:"/course/:id",component:St}),Object(ee.jsx)(d.b,{path:"/test",component:Nt}),Object(ee.jsx)(d.b,{path:"*",children:Object(ee.jsx)(d.a,{to:"/"})})]}),Object(ee.jsx)(_t,{})]})})})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(ee.jsx)(a.a.StrictMode,{children:Object(ee.jsx)(Tt,{})}),document.getElementById("root")),Bt()}},[[149,1,2]]]);
//# sourceMappingURL=main.1223a59c.chunk.js.map