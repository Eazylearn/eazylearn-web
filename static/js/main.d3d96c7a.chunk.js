(this["webpackJsonpeazylearn-web"]=this["webpackJsonpeazylearn-web"]||[]).push([[0],{114:function(e,t,n){},121:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=(n(114),n(5)),s=n.n(o),u=n(9),l=n(14),d=n(52),p=n(212),b=n(59),j=(n(121),n(57)),f={token:"",username:""},h="@@auth/SAVE",x=function(e,t){return{type:h,data:{token:e,username:t}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;if(t.type===h){var n=t.data,r=n.token,a=n.username;return e.token=r,e.username=a,e}return f},O=n(77),v=[],g="@@alert/ADD",y="@@alert/POP",w=function(e,t,n){return{type:g,data:{type:e,message:t,duration:n}}},C=function(){return{type:y}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=t.data,r=n.type,a=n.message,c=n.duration,i=void 0===c?3e3:c;return e=[].concat(Object(O.a)(e),[{type:r,message:a,duration:i}]),window.setTimeout((function(){return A.dispatch(C())}),i),e;case y:return e=Object(O.a)(e.slice(1));default:return v}},S=function(e){return Object(j.b)({auth:m,alert:k,router:Object(b.b)(e)})},I=n(39),N=Object(I.a)(),L=n(85),A=Object(j.d)(S(N),Object(j.c)(Object(j.a)(Object(L.a)(N)))),_=n(101),D="#FFFFFF",R="#3185FC",T="#3A3A3A",W=Object(_.a)({palette:{primary:{main:D,contrastText:T},secondary:{main:R,dark:"#034FB9",contrastText:D},warning:{main:"#F7CB15",contrastText:T},background:{default:D,paper:D}},typography:{fontFamily:"Raleway",h1:{fontSize:"48px",fontWeight:800,letterSpacing:"0.04em"}},overrides:{MuiAppBar:{root:{boxShadow:"0 0",color:R},colorPrimary:{backgroundColor:"transparent",color:R}},MuiTab:{root:{fontWeight:"bold",fontSize:24,letterSpacing:.015,textTransform:"capitalize"},textColorInherit:{color:T,opacity:1,"&.Mui-selected":{color:R}}}}}),B=n(100),E=n.n(B).a.create({baseURL:"https://ezlapi.herokuapp.com",timeout:5e3});E.interceptors.response.use((function(e){return e.data}),(function(e){return e.response.data}));var F={get:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,r=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=5,E.get(t+r,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),postForm:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):"","Content-Type":"multipart/form-data"}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.put(t,n,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=2,a=Object.keys(n).map((function(e){return{k:e,v:n[e]}})).reduce((function(e,t,n){return e+(0===n?"?":"&")+t.k+"="+t.v}),""),e.next=6,E.delete(t+a,{headers:{authorization:window.localStorage.getItem("access_token")?"Bearer ".concat(window.localStorage.getItem("access_token")):""},data:r});case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0.response?e.t0.response.data:e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},P=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/account/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/account",{username:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/course",{id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:0,e.next=4,F.get("/course/search",{query:t,page:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.delete("/course",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.put("/course?id=".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/course",t);case 2:return(n=e.sent).message.lecturers=[],n.message.students=[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.delete("/course/remove/student",{},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.delete("/course/remove/lecturer",{},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/course/assign/student",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/course/assign/lecturer",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/lecturer");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/account/create",t);case 2:return(n=e.sent).badRequests=n.badRequests||[],n.duplicates=n.duplicates||[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/student");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.put("/student/approve",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("/account/create",t);case 2:return(n=e.sent).badRequests=n.badRequests||[],n.duplicates=n.duplicates||[],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=n(7),ne=n(184),re=n(1);var ae=function(){return Object(re.jsx)("div",{style:{zIndex:-1,position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(25.8% 51.02% at 77.5% 71.09%, rgba(49, 133, 252, 0.12) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(19.9% 17.2% at 25.8% 26.76%, #E7F1FF 0%, #FFFFFF 100%)"}})},ce=n(191),ie=n(194),oe=n(218),se=n(190),ue=n(192),le=n(193),de=n(195),pe=n(196),be=n(104),je=Object(ne.a)((function(e){return{container:{width:"100%",padding:36,boxShadow:"0px 6px 4px rgba(49, 133, 252, 0.24)",borderRadius:15,boxSizing:"border-box",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",rowGap:5,width:800},divider:{height:0,width:"100%",border:"1px solid #3185FC",margin:"10px 0px"}}})),fe=function(e){var t=e.id,n=e.name,r=e.lecturers,a=e.numStudents,c=e.numPending,i=e.onClick,o=je();return Object(re.jsx)("div",{className:o.container,onClick:i,children:Object(re.jsxs)("div",{className:o.content,children:[Object(re.jsxs)(be.a,{style:{fontWeight:"bold"},variant:"h4",color:"initial",children:[t," - ",n]}),Object(re.jsx)("div",{className:o.divider}),Object(re.jsx)(be.a,{variant:"body1",color:"initial",children:"Lecturers: ".concat(0===r.length?"none":r.join(", "))}),Object(re.jsxs)("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr"},children:[Object(re.jsxs)(be.a,{variant:"body1",color:"initial",children:["Number of students: ",a]}),Object(re.jsxs)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:c>0?"error":"secondary",children:["Wait for approval: ",c]})]})]})})},he=n(215),xe=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25},actionContainer:{zIndex:1,position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none"}}}})),me=function(){var e=xe(),t=Object(r.useState)([]),n=Object(te.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(te.a)(i,2),l=o[0],d=o[1],p=Object(r.useState)(0),b=Object(te.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(1),x=Object(te.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)(1),g=Object(te.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(""),k=Object(te.a)(C,2),S=k[0],I=k[1],L=Object(r.useState)(!1),A=Object(te.a)(L,2),_=A[0],D=A[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,K(S,m-1);case 3:"OK"===(t=e.sent).status&&(c(t.courses),w(t.maxPage)),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S,m]),Object(re.jsx)("section",{className:e.container,children:Object(re.jsxs)("div",{className:e.content,children:[Object(re.jsxs)("div",{className:e.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;j&&clearTimeout(j),f(window.setTimeout((function(){I(t),O(1),w(1)}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:e.searchBar}),Object(re.jsx)(ue.a,{onClickAway:function(){return D(!1)},children:Object(re.jsxs)("div",{className:e.actionContainer,children:[Object(re.jsxs)(le.a,{variant:"contained",color:"secondary",onClick:function(){D((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(re.jsx)(ie.a,{style:{transform:"rotate(".concat(_?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(re.jsx)(de.a,{in:_,children:Object(re.jsxs)("div",{className:e.actionContent,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"Import via csv"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){N.push("/course/new")},children:"Create manually"})]})})]})})]}),Object(re.jsx)("div",{className:e.listContainer,children:l?Object(re.jsx)(pe.a,{color:"secondary"}):a.map((function(e,t){return Object(re.jsx)(fe,{id:e.course_id,name:e.course_name,lecturers:e.lecturers.map((function(e){return e.lecturer_name}))||[],numStudents:e.students.filter((function(e){return 1===e.status})).length,numPending:e.students.filter((function(e){return 0===e.status})).length,onClick:function(){return N.push("/course/".concat(e.course_id))}},t)}))}),Object(re.jsx)(he.a,{page:m,onChange:function(e,t){O(t)},count:y,variant:"outlined",color:"secondary",showFirstButton:!0,showLastButton:!0})]})})},Oe=n(197),ve=n(198),ge=n(214),ye=n(199),we=n(76),Ce=n.n(we),ke=Object(ne.a)((function(e){return{appbar:{background:e.palette.background.paper},toolbar:{display:"flex",justifyContent:"space-between",padding:0},title:{flexGrow:1,position:"relative",left:"1em"},tabs:{flexGrow:20},profileButton:{flexGrow:1,borderRadius:"50px 0 0 50px",alignSelf:"stretch",fontWeight:"bold"}}})),Se=Object(l.c)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.onChangeTab,n=(e.currentTab,e.auth),a=ke(),c=Object(r.useState)(0),i=Object(te.a)(c,2),o=i[0],s=i[1];return Object(re.jsx)(Oe.a,{className:a.appbar,children:Object(re.jsxs)(ve.a,{className:a.toolbar,children:[Object(re.jsx)(be.a,{className:a.title,variant:"h1",children:"EAZYLEARN"}),Object(re.jsxs)(ge.a,{className:a.tabs,value:o,onChange:function(e,n){s(n),t(n)},"aria-label":"Admin Tabs",centered:!0,children:[Object(re.jsx)(ye.a,{label:"Course",id:"tab-course"}),Object(re.jsx)(ye.a,{label:"Lecturer",id:"tab-lecturer"}),Object(re.jsx)(ye.a,{label:"Student",id:"tab-student"})]}),""!==n.token?Object(re.jsx)(le.a,{className:a.profileButton,variant:"contained",color:"secondary",startIcon:Object(re.jsx)(Ce.a,{style:{fontSize:33}}),children:n.username}):Object(re.jsx)(le.a,{className:a.profileButton,variant:"contained",color:"secondary",startIcon:Object(re.jsx)(Ce.a,{style:{fontSize:33}}),onClick:function(){return N.push("/login")},children:"Login"})]})})})),Ie=function(e,t){return t.reduce((function(t,n,r){return t&&e[0][r]===n.name}),!0)&&e.slice(1).reduce((function(e,n){return e&&t.reduce((function(e,t,r){return e&&function(e,t){switch(t){case"string":return"string"===typeof e;case"number":return isNaN(parseInt(e));default:return!1}}(n[r],t.type)}),!0)}),!0)},Ne=[{name:"Name",type:"string",alias:"student_name"},{name:"Student ID",type:"string",alias:"account_id"},{name:"Class ID",type:"string",alias:"class_id"},{name:"Username",type:"string",alias:"account_id"},{name:"Password",type:"string",alias:"password"}],Le=function(e){var t=e.trim().split("\n").map((function(e){return e.split(",")}));return Ie(t,Ne)?t.slice(1).map((function(e){return{student_name:e[0],student_id:e[1],class_id:e[2],account_id:e[3],password:e[4]}})):"CSV file format is invalid"},Ae=[{name:"Name",type:"string",alias:"lecturer_name"},{name:"Lecturer ID",type:"string",alias:"account_id"},{name:"Username",type:"string",alias:"account_id"},{name:"Password",type:"string",alias:"password"}],_e=function(e){var t=e.trim().split("\n").map((function(e){return e.split(",")}));return Ie(t,Ae)?t.slice(1).map((function(e){return{lecturer_name:e[0],lecturer_id:e[1],account_id:e[2],password:e[3]}})):"CSV file format is invalid"},De=n(217),Re=n(200),Te=n(201),We=Object(ne.a)((function(e){return{container:{position:"relative",width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"50px 1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},checkbox:{gridColumn:1},content:{gridColumn:2,display:"inline-flex",alignItems:"center"},action:{zIndex:1},optionsContainer:{position:"absolute",top:5,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"}}})),Be=function(e){var t=e.name,n=e.checked,a=void 0!==n&&n,c=e.onChange,i=e.showChecked,o=void 0!==i&&i,s=e.options,u=void 0===s?Object(re.jsx)(re.Fragment,{}):s,l=e.showOptions,d=void 0===l||l,p=We(),b=Object(r.useState)(!1),j=Object(te.a)(b,2),f=j[0],h=j[1];return Object(re.jsxs)("div",{className:p.container,children:[o&&Object(re.jsx)(De.a,{checked:a,className:p.checkbox,color:"secondary",onChange:c}),Object(re.jsx)("div",{className:p.content,children:Object(re.jsx)(be.a,{style:{color:"#3A3A3A",width:200,marginRight:20},variant:"body1",color:"initial",children:t})}),d&&Object(re.jsx)(ue.a,{onClickAway:function(){return h(!1)},children:Object(re.jsxs)("div",{style:{zIndex:f?2:1},className:p.optionsContainer,children:[Object(re.jsx)(Re.a,{className:p.action,onClick:function(){return h(!0)},children:Object(re.jsx)(Te.a,{})}),Object(re.jsx)(de.a,{in:f,children:u})]})})]})},Ee=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),Fe=Object(l.c)(null,{addAlert:w})((function(e){var t=e.addAlert,n=Ee(),a=Object(r.useState)([]),c=Object(te.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(te.a)(l,2),p=d[0],b=d[1],j=Object(r.useState)(!1),f=Object(te.a)(j,2),h=f[0],x=f[1],m=Object(r.useState)(0),O=Object(te.a)(m,2),v=O[0],g=O[1],y=Object(r.useState)(!1),w=Object(te.a)(y,2),C=w[0],k=w[1],S=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,H();case 3:"OK"===(n=e.sent).status?(o(n.lecturers),b(n.lecturers)):t("error","Error occurred while getting lecturer list."),x(!1);case 6:case"end":return e.stop()}}),e)}))),[t]);Object(r.useEffect)((function(){S()}),[S]);var I=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=n.target.files)&&0!==r.length){e.next=4;break}return t("error","File not found."),e.abrupt("return");case 4:return e.next=6,r[0].text();case 6:if(a=e.sent,"string"!==typeof(c=_e(a))){e.next=11;break}return t("error",c),e.abrupt("return");case 11:return i=c.map((function(e){return{username:e.lecturer_id,password:e.password,name:e.lecturer_name,type:1}})),e.next=14,Z({body:i});case 14:"OK"===(o=e.sent).status&&0===o.badRequests.length&&0===o.duplicates.length?t("success","Create ".concat(o.successful.length," lecturer accounts successfully!")):t("error","Only created ".concat(o.successful.length," lecturer accounts, ").concat(o.badRequests.length," have invalid data and ").concat(o.duplicates.length," accounts already exist"),5e3),k(!1),S();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsx)("section",{className:n.container,children:Object(re.jsxs)("div",{className:n.content,children:[Object(re.jsxs)("div",{className:n.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;v&&clearTimeout(v),g(window.setTimeout((function(){return b(i.filter((e=t,function(t){return-1!==t.lecturer_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:n.searchBar}),Object(re.jsx)(ue.a,{onClickAway:function(){return k(!1)},children:Object(re.jsxs)("div",{className:n.actionContainer,children:[Object(re.jsxs)(le.a,{variant:"contained",color:"secondary",onClick:function(){k((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(re.jsx)(ie.a,{style:{transform:"rotate(".concat(C?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(re.jsx)(de.a,{in:C,children:Object(re.jsx)("div",{className:n.actionContent,children:Object(re.jsxs)(le.a,{variant:"contained",color:"primary",component:"label",style:{textTransform:"none"},children:["Import via csv",Object(re.jsx)("input",{type:"file",onInput:I,hidden:!0})]})})})]})})]}),Object(re.jsx)("div",{className:n.listContainer,children:h?Object(re.jsx)(pe.a,{color:"secondary"}):p.map((function(e,t){return Object(re.jsx)(Be,{name:(null===e||void 0===e?void 0:e.lecturer_name)||"",options:Object(re.jsx)("div",{className:n.actionContent,children:Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"More details"})})},t)}))})]})})})),Pe=Fe,ze=Object(ne.a)((function(e){return{container:{position:"relative",width:"100%",height:60,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:20,display:"grid",gridTemplateColumns:"50px 1fr 50px",border:"2px solid",borderColor:"transparent",transition:"border-color .2s ease-in-out","&:hover":{borderColor:e.palette.secondary.main}},checkbox:{gridColumn:1,position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},content:{gridColumn:2,display:"inline-flex",alignItems:"center"},action:{zIndex:1},optionsContainer:{position:"absolute",top:5,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"}}})),Ge=function(e){var t=e.name,n=e.id,a=void 0===n?"":n,c=e.status,i=void 0===c?-1:c,o=e.checked,s=void 0!==o&&o,u=e.onChange,l=e.options,d=void 0===l?Object(re.jsx)(re.Fragment,{}):l,p=e.showOptions,b=void 0===p||p,j=e.showChecked,f=void 0===j||j,h=ze(),x=Object(r.useState)(!1),m=Object(te.a)(x,2),O=m[0],v=m[1];return Object(re.jsxs)("div",{className:h.container,children:[f&&Object(re.jsx)("div",{children:Object(re.jsx)(De.a,{checked:s,className:h.checkbox,color:"secondary",onChange:u})}),Object(re.jsxs)("div",{className:h.content,children:[Object(re.jsx)(be.a,{style:{color:"#3A3A3A",width:300,marginRight:20},variant:"body1",color:"initial",children:t}),i>=0?Object(re.jsx)(be.a,{style:{color:0===i?"#F7CB15":"#00E3AA"},variant:"body1",children:0===i?"Pending":"Approved"}):Object(re.jsx)(be.a,{style:{color:"#3A3A3A"},variant:"body1",children:a})]}),b&&Object(re.jsx)(ue.a,{onClickAway:function(){return v(!1)},children:Object(re.jsxs)("div",{style:{zIndex:O?2:1},className:h.optionsContainer,children:[Object(re.jsx)(Re.a,{className:h.action,onClick:function(){return v(!0)},children:Object(re.jsx)(Te.a,{})}),Object(re.jsx)(de.a,{in:O,children:d})]})})]})},Ke=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",rowGap:30,alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},listContainer:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:25}}})),Ye=Object(l.c)(null,{addAlert:w})((function(e){var t=e.addAlert,n=Ke(),a=Object(r.useState)([]),c=Object(te.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(te.a)(l,2),p=d[0],b=d[1],j=Object(r.useState)(!1),f=Object(te.a)(j,2),h=f[0],x=f[1],m=Object(r.useState)(0),O=Object(te.a)(m,2),v=O[0],g=O[1],y=Object(r.useState)(!1),w=Object(te.a)(y,2),C=w[0],k=w[1],S=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,$();case 3:"OK"===(n=e.sent).status?(o(n.students),b(n.students)):t("error","Error occurred while getting student list."),x(!1);case 6:case"end":return e.stop()}}),e)}))),[t]);Object(r.useEffect)((function(){S()}),[S]);var I=function(){var e=Object(u.a)(s.a.mark((function e(n){var r,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=n.target.files)&&0!==r.length){e.next=4;break}return t("error","File not found."),e.abrupt("return");case 4:return e.next=6,r[0].text();case 6:if(a=e.sent,"string"!==typeof(c=Le(a))){e.next=11;break}return t("error",c),e.abrupt("return");case 11:return i=c.map((function(e){return{username:e.student_id,password:e.password,classId:e.class_id,name:e.student_name,type:2}})),e.next=14,ee({body:i});case 14:"OK"===(o=e.sent).status&&0===o.badRequests.length&&0===o.duplicates.length?t("success","Create ".concat(o.successful.length," student accounts successfully!")):t("error","Only created ".concat(o.successful.length," student accounts, ").concat(o.badRequests.length," have invalid data and ").concat(o.duplicates.length," accounts already exist"),5e3),k(!1),S();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsx)("section",{className:n.container,children:Object(re.jsxs)("div",{className:n.content,children:[Object(re.jsxs)("div",{className:n.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;v&&clearTimeout(v),g(window.setTimeout((function(){return b(i.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})));var e}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:n.searchBar}),Object(re.jsx)(ue.a,{onClickAway:function(){return k(!1)},children:Object(re.jsxs)("div",{className:n.actionContainer,children:[Object(re.jsxs)(le.a,{variant:"contained",color:"secondary",onClick:function(){k((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(re.jsx)(ie.a,{style:{transform:"rotate(".concat(C?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(re.jsx)(de.a,{in:C,children:Object(re.jsx)("div",{className:n.actionContent,children:Object(re.jsxs)(le.a,{variant:"contained",color:"primary",component:"label",style:{textTransform:"none"},children:["Import via csv",Object(re.jsx)("input",{type:"file",onInput:I,hidden:!0})]})})})]})})]}),Object(re.jsx)("div",{className:n.listContainer,children:h?Object(re.jsx)(pe.a,{color:"secondary"}):p.map((function(e,t){return Object(re.jsx)(Ge,{name:e.student_name,id:e.student_id,showChecked:!1,options:Object(re.jsx)("div",{className:n.actionContent,children:Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"More details"})})},t)}))})]})})})),Xe=Ye,Me=Object(ne.a)({body:{position:"relative",top:40}}),qe=function(e){return e.index===e.value?e.children:Object(re.jsx)(re.Fragment,{})},Ue=function(){var e=Me(),t=Object(r.useState)(0),n=Object(te.a)(t,2),a=n[0],c=n[1];return Object(re.jsxs)("div",{children:[Object(re.jsx)(ae,{}),Object(re.jsx)(Se,{currentTab:"course",onChangeTab:function(e){c(e)}}),Object(re.jsxs)("div",{className:e.body,children:[Object(re.jsx)(qe,{value:a,index:0,children:Object(re.jsx)("div",{style:{padding:"35px 75px"},children:Object(re.jsx)(me,{})})}),Object(re.jsx)(qe,{value:a,index:1,children:Object(re.jsx)("div",{style:{padding:"35px 75px"},children:Object(re.jsx)(Pe,{})})}),Object(re.jsx)(qe,{value:a,index:2,children:Object(re.jsx)("div",{style:{padding:"35px 75px"},children:Object(re.jsx)(Xe,{})})})]})]})},Je=n(204),Ve=n(202),He=n(203),Ze=n(189),$e=Object(ne.a)((function(e){return{formControl:{"& fieldset":{borderRadius:20}}}})),Qe=function(e){var t=e.title,n=e.id,r=e.value,a=e.placeholder,c=void 0===a?"":a,i=e.onChange,o=e.type,s=void 0===o?"text":o,u=e.InputProps,l=e.style,d=void 0===l?{}:l,p=e.formControlStyle,b=void 0===p?{}:p,j=$e();return Object(re.jsx)(Ze.a,{style:b,className:j.formControl,children:Object(re.jsx)(oe.a,{style:d,id:n,label:t,value:r,placeholder:c,onChange:i,type:s,variant:"outlined",color:"secondary",InputProps:u})})},et=Object(ne.a)((function(e){return{loginContainer:{width:"100vw",height:"100vh",background:"linear-gradient(116.83deg, #4A93FA -12.24%, #99F9FF 108.01%)",position:"relative"},content:{width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"row",justifyContent:"space-around"},intro:{display:"flex",flexDirection:"column",justifyContent:"center"},formContainer:{width:400,height:500,marginRight:30,background:e.palette.background.paper,borderRadius:30,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},form:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},formContent:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",rowGap:55},submit:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:24},button:{width:250,height:45,borderRadius:20,textDecoration:"none",fontWeight:"bold"}}})),tt=Object(l.c)((function(e){return{auth:e.auth}}),{saveAuth:x,addAlert:w})((function(e){var t=e.auth,n=e.saveAuth,a=e.addAlert,c=et(),i=Object(r.useState)(""),o=Object(te.a)(i,2),l=o[0],d=o[1],p=Object(r.useState)(""),b=Object(te.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(!1),x=Object(te.a)(h,2),m=x[0],O=x[1],v=function(){var e=Object(u.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={username:l,password:j},e.next=4,P(r);case 4:"OK"===(c=e.sent).status&&(window.localStorage.setItem("access_token",c.token),n(c.token,l),N.push("/"),a("success","Log in successfully!"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){""!==t.token&&(N.push("/"),a("error","You have already logged in."))}),[t,a]),Object(re.jsx)("div",{className:c.loginContainer,children:Object(re.jsxs)("div",{className:c.content,children:[Object(re.jsxs)("section",{className:c.intro,children:[Object(re.jsxs)(be.a,{style:{fontWeight:"bold",fontSize:70},variant:"h1",color:"primary",children:["TESTING",Object(re.jsx)("br",{}),"MADE EASY"]}),Object(re.jsxs)("span",{children:[Object(re.jsx)(be.a,{variant:"h2",component:"span",color:"primary",children:"WITH"}),Object(re.jsx)(be.a,{style:{marginLeft:10,fontWeight:"bold"},variant:"h2",component:"span",color:"secondary",children:"EAZYLEARN"})]})]}),Object(re.jsx)("section",{className:c.formContainer,children:Object(re.jsxs)("form",{className:c.form,onSubmit:v,children:[Object(re.jsx)(be.a,{variant:"h4",color:"secondary",children:"LOGIN"}),Object(re.jsxs)("div",{className:c.formContent,children:[Object(re.jsx)(Qe,{title:"Username",id:"username",value:l,placeholder:"Input your username here",onChange:function(e){return function(e){var t=e.target;d(t.value)}(e)},formControlStyle:{width:"80%"}}),Object(re.jsx)(Qe,{title:"Password",id:"password",type:m?"text":"password",value:j,placeholder:"Input your password here",onChange:function(e){return function(e){var t=e.target;f(t.value)}(e)},formControlStyle:{width:"80%"},InputProps:{endAdornment:Object(re.jsx)(se.a,{position:"end",children:Object(re.jsx)(Re.a,{onClick:function(){O((function(e){return!e}))},edge:"end",children:m?Object(re.jsx)(Ve.a,{}):Object(re.jsx)(He.a,{})})})}})]}),Object(re.jsxs)("div",{className:c.submit,children:[Object(re.jsx)(le.a,{className:c.button,variant:"contained",color:"secondary",type:"submit",children:"Submit"}),Object(re.jsx)(Je.a,{href:"/forgot-password",color:"secondary",children:"Forgot password?"})]})]})})]})})})),nt=tt,rt=function(){var e=Object(r.useState)(""),t=Object(te.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function e(t,n){t>=n.length||(a((function(e){return e+"\n"+atob(n[t])})),setTimeout((function(){return e(t+1,n)}),500))}(0,["Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi8nPy8pIA==","Li4uLi4uLi4uLi4uLi4uLi4uLi4sLz8uLi8g","Li4uLi4uLi4uLi4uLi4uLi4uLi8uLi4uLyA=","Li4uLi4uLi4uLi4uLi8nPy8nLi4uJy8nPz9gLiwg","Li4uLi4uLi4uLi8nLy4uLi8uLi4uLy4uLi4uLi4vPz9cIA==","Li4uLi4uLi4oJyhVIFIgVEhFIEFETUlOIExPTC4uLicpIA==","Li4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uLi4uJy4uLi4uLyA=","Li4uLi4uLi4uLicnLkRPIFNPTUVUSElORy4gXy4uJyA=","Li4uLi4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uKCA=","Li4uLi4uLi4uLi4uLi5cLi4uLi4uLi4uLi4uLlwuLi4="])}),[]),Object(re.jsx)("pre",{children:n})},at=n(208),ct=n(207),it=n(209),ot=n(15),st=n(216),ut=n(220),lt=n(205),dt=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),pt=Object(l.c)(null,{addAlert:w})((function(e){var t=e.open,n=e.handleClose,a=e.exclude,c=void 0===a?[]:a,i=e.courseID,o=e.reload,l=e.addAlert,d=dt(),p=Object(r.useState)(!1),b=Object(te.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)([]),x=Object(te.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)([]),g=Object(te.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(0),k=Object(te.a)(C,2),S=k[0],I=k[1],N=Object(r.useState)(0),L=Object(te.a)(N,2)[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,$();case 3:"OK"===(t=e.sent).status?(O(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{status:0})}))),w(t.students.filter((function(e){return-1===c.indexOf(e.student_id)})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1,status:0})})))):l("error","Error occurred while getting student list."),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,l]);var A=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.filter((function(e){return e.checked})).map((function(e){return{studentID:e.student_id,courseID:i}})),e.next=3,J({body:t});case 3:"OK"===e.sent.status?(o(),n(),l("success","Add students to course successfully!")):l("error","Error occurred while adding students to course.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){var n=y.findIndex((function(t){return t.student_id===e}));y[n].checked=t.target.checked,L(Math.random())}};return Object(re.jsx)(st.a,{BackdropComponent:ut.a,open:t,className:d.modal,children:Object(re.jsx)(lt.a,{direction:"up",in:t,children:Object(re.jsxs)("section",{className:d.container,children:[Object(re.jsx)(be.a,{className:d.header,variant:"h4",color:"initial",children:"Add students manually from database"}),Object(re.jsxs)("div",{className:d.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;S&&clearTimeout(S),I(window.setTimeout((function(){var e;w(m.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:d.searchBar}),Object(re.jsxs)("div",{className:d.buttons,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:A,children:"Add to course"})]})]}),Object(re.jsx)("div",{className:d.listContainer,children:j?Object(re.jsx)(pe.a,{color:"secondary"}):y.map((function(e,t){return Object(re.jsx)(Ge,{name:e.student_name,id:e.student_id,checked:e.checked,onChange:_(e.student_id),showOptions:!1},t)}))})]})})})})),bt=pt,jt=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},listContainer:{width:"100%"},actionContainer:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}},checkActionContainer:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0px"},checkBoxContainer:{paddingLeft:6,display:"inline-flex",rowGap:10,alignItems:"center"},checkActionButton:{textTransform:"none",fontWeight:"bold",borderRadius:30}}})),ft=Object(l.c)(null,{addAlert:w})((function(e){var t=e.reload,n=e.studentList,a=e.courseID,c=e.addAlert,i=jt(),o=Object(r.useState)(0),l=Object(te.a)(o,2),d=l[0],p=l[1],b=Object(r.useState)(!1),j=Object(te.a)(b,2),f=j[0],h=j[1],x=Object(r.useState)(!1),m=Object(te.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)([]),y=Object(te.a)(g,2),w=y[0],C=y[1],k=Object(r.useState)([]),S=Object(te.a)(k,2),I=S[0],N=S[1],L=Object(r.useState)(0),A=Object(te.a)(L,2)[1],_=function(e){return function(t){var n=w.findIndex((function(t){return t.student_id===e})),r=I.findIndex((function(t){return t.student_id===e}));-1!==n?w[n].checked=t.target.checked:-1!==r&&(I[r].checked=t.target.checked),A(Math.random())}},D=function(e){return function(t){"approved"===e?N((function(e){return e.map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:t.target.checked})}))})):C((function(e){return e.map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:t.target.checked})}))}))}},R=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return{studentID:e.student_id,courseID:a}})),e.next=3,Q({body:r});case 3:"OK"===e.sent.status?(c("success","Approve students successfully!"),t()):c("error","Error occurred while approving students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{studentID:n.student_id,courseID:a}],e.next=3,q({body:r});case 3:"OK"===e.sent.status?(c("success","Remove students successfully!"),t()):c("error","Error occurred while removing students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(n.filter((function(e){return 0===e.status})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})}))),N(n.filter((function(e){return 1===e.status})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})})))}),[n]),Object(re.jsxs)("section",{className:i.container,children:[Object(re.jsx)(bt,{open:O,handleClose:function(){return v(!1)},exclude:n.map((function(e){return e.student_id})),courseID:a,reload:t}),Object(re.jsxs)("div",{className:i.content,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Students"}),Object(re.jsxs)("div",{className:i.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;d&&clearTimeout(d),p(window.setTimeout((function(){var e,r=n.filter((e=t,function(t){return-1!==t.student_name.toLowerCase().indexOf(e.toLowerCase())}));C(r.filter((function(e){return 0===e.status})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})}))),N(r.filter((function(e){return 1===e.status})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:i.searchBar}),Object(re.jsx)(ue.a,{onClickAway:function(){return h(!1)},children:Object(re.jsxs)("div",{className:i.actionContainer,children:[Object(re.jsxs)(le.a,{variant:"contained",color:"secondary",onClick:function(){h((function(e){return!e}))},style:{fontWeight:"bold",borderRadius:10},children:["Action",Object(re.jsx)(ie.a,{style:{transform:"rotate(".concat(f?"180":"0","deg)"),transition:"transform .2s ease-in-out"}})]}),Object(re.jsx)(de.a,{in:f,children:Object(re.jsx)("div",{className:i.actionContent,children:Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){return v(!0)},children:"Add manually"})})})]})})]}),Object(re.jsxs)("div",{className:i.listContainer,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Pending requests"}),Object(re.jsxs)("div",{className:i.checkActionContainer,children:[Object(re.jsxs)("div",{className:i.checkBoxContainer,children:[Object(re.jsx)(De.a,{checked:w.length>0&&w.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:D("pending")}),Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(re.jsx)(le.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.length,onClick:function(){return R(w)},children:"Approve all"}),Object(re.jsx)(le.a,{className:i.checkActionButton,variant:"contained",color:"primary",disabled:0===w.filter((function(e){return e.checked})).length,onClick:function(){return R(w.filter((function(e){return e.checked})))},children:"Approve selected"}),Object(re.jsxs)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",w.length]})]}),w.map((function(e,t){return Object(re.jsx)(Ge,{name:e.student_name,status:e.status,checked:e.checked,onChange:_(e.student_id),options:Object(re.jsxs)("div",{className:i.actionContent,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){return R([e])},children:"Approve"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]}),Object(re.jsxs)("div",{style:{marginTop:30},className:i.listContainer,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Enrolling students"}),Object(re.jsxs)("div",{className:i.checkActionContainer,children:[Object(re.jsxs)("div",{className:i.checkBoxContainer,children:[Object(re.jsx)(De.a,{checked:I.length>0&&I.reduce((function(e,t){return e&&t.checked}),!0),color:"secondary",onChange:D("approved")}),Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"Select all"})]}),Object(re.jsxs)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:["Count: ",I.length]})]}),I.map((function(e,t){return Object(re.jsx)(Ge,{name:e.student_name,status:e.status,checked:e.checked,onChange:_(e.student_id),options:Object(re.jsxs)("div",{className:i.actionContent,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){return T(e)},children:"Remove from course"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))]})]})]})})),ht=ft,xt=n(206),mt=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:960,height:630,maxHeight:"90vh",maxWidth:"90vw",boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"27px 40px 40px 40px",background:e.palette.background.paper},header:{width:"100%",textAlign:"left",fontWeight:"bold"},toolContainer:{position:"relative",display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",margin:"30px 0px"},searchBar:{width:400,"& > div":{height:42},"& fieldset":{borderRadius:20,boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)"}},buttons:{display:"inline-flex",alignItems:"center",columnGap:10,"& button":{boxShadow:"0px 3px 3px rgba(49, 133, 252, 0.24)",borderRadius:10,fontWeight:"bold",textTransform:"none"}},listContainer:{width:"100%"}}})),Ot=Object(l.c)(null,{addAlert:w})((function(e){var t=e.open,n=e.handleClose,a=e.exclude,c=void 0===a?[]:a,i=e.courseID,o=e.reload,l=e.addAlert,d=mt(),p=Object(r.useState)(!1),b=Object(te.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)([]),x=Object(te.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)([]),g=Object(te.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)(0),k=Object(te.a)(C,2),S=k[0],I=k[1],N=Object(r.useState)(0),L=Object(te.a)(N,2)[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,H();case 3:"OK"===(t=e.sent).status?(O(t.lecturers.filter((function(e){return-1===c.indexOf(e.lecturer_id)})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{status:0})}))),w(t.lecturers.filter((function(e){return-1===c.indexOf(e.lecturer_id)})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1,status:0})})))):l("error","Error occurred while getting lecturer list."),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,l]);var A=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.filter((function(e){return e.checked})).map((function(e){return{lecturerID:e.lecturer_id,courseID:i}})),e.next=3,V({body:t});case 3:"OK"===e.sent.status?(o(),n(),l("success","Add lecturers to course successfully!")):l("error","Error occurred while adding lecturers to course.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){var n=y.findIndex((function(t){return t.lecturer_id===e}));y[n].checked=t.target.checked,L(Math.random())}};return Object(re.jsx)(st.a,{BackdropComponent:ut.a,open:t,className:d.modal,children:Object(re.jsx)(lt.a,{direction:"up",in:t,children:Object(re.jsxs)("section",{className:d.container,children:[Object(re.jsx)(be.a,{className:d.header,variant:"h4",color:"initial",children:"Add lecturers manually from database"}),Object(re.jsxs)("div",{className:d.toolContainer,children:[Object(re.jsx)(oe.a,{variant:"outlined",onChange:function(e){var t=e.target.value;S&&clearTimeout(S),I(window.setTimeout((function(){var e;w(m.filter((e=t,function(t){return-1!==t.lecturer_name.toLowerCase().indexOf(e.toLowerCase())})).map((function(e){return Object(ot.a)(Object(ot.a)({},e),{},{checked:!1})})))}),500))},InputProps:{startAdornment:Object(re.jsx)(se.a,{position:"start",children:Object(re.jsx)(ce.a,{})})},placeholder:"Search",className:d.searchBar}),Object(re.jsxs)("div",{className:d.buttons,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:n,children:"Discard"}),Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:A,children:"Add to course"})]})]}),Object(re.jsx)("div",{className:d.listContainer,children:j?Object(re.jsx)(pe.a,{color:"secondary"}):y.map((function(e,t){return Object(re.jsx)(Be,{name:e.lecturer_name,checked:e.checked,onChange:_(e.lecturer_id),showChecked:!0,showOptions:!1},t)}))})]})})})})),vt=Ot,gt=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},listContainer:{width:"100%"},actionContent:{display:"flex",flexDirection:"column",alignItems:"stretch","& button":{fontWeight:"bold",textTransform:"none","& span":{justifyContent:"flex-end"}}}}})),yt=Object(l.c)(null,{addAlert:w})((function(e){var t=e.reload,n=e.lecturerList,a=e.courseID,c=e.addAlert,i=gt(),o=Object(r.useState)(!1),l=Object(te.a)(o,2),d=l[0],p=l[1],b=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{lecturerID:n,courseID:a}],e.next=3,U({body:r});case 3:"OK"===e.sent.status?(t(),c("success","Remove lecturers successfully!")):c("error","Error occurred while removing students.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)("section",{className:i.container,children:[Object(re.jsx)(vt,{open:d,handleClose:function(){return p(!1)},exclude:n.map((function(e){return e.lecturer_id})),courseID:a,reload:t}),Object(re.jsxs)("div",{className:i.content,children:[Object(re.jsxs)("div",{className:i.header,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Lecturers"}),Object(re.jsx)(le.a,{className:i.addButton,color:"secondary",variant:"contained",onClick:function(){return p(!0)},children:Object(re.jsx)(xt.a,{})})]}),Object(re.jsx)("div",{className:i.listContainer,children:n.map((function(e,t){return Object(re.jsx)(Be,{name:e.lecturer_name,options:Object(re.jsxs)("div",{className:i.actionContent,children:[Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){return b(e.lecturer_id)},children:"Remove from course"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",children:"More details"})]})},t)}))})]})]})})),wt=yt,Ct=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:400,height:220,padding:30,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"column",alignItems:"center",rowGap:15,"& button":{width:300,fontWeight:"bold"}},delete:{color:"red"}}})),kt=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{background:e.palette.background.paper,width:650,height:150,padding:15,borderRadius:20,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)"},content:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",columnGap:15,"& button":{fontWeight:"bold"}},delete:{color:"red"}}})),St=Object(l.c)(null,{addAlert:w})((function(e){var t=e.open,n=e.handleClose,a=e.id,c=e.addAlert,i=kt(),o=Object(r.useState)(!1),l=Object(te.a)(o,2),d=l[0],p=l[1],b=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Y(a);case 3:return t=e.sent,p(!1),"OK"===t.status?(c("success","Delete course successfully!"),N.push("/")):c("error","Error occurred while deleting course."),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(re.jsx)(st.a,{open:t,BackdropComponent:ut.a,className:i.modal,children:Object(re.jsx)(lt.a,{in:t,direction:"down",children:Object(re.jsx)("div",{className:i.container,children:Object(re.jsxs)("div",{className:i.content,children:[Object(re.jsx)(be.a,{variant:"h5",color:"initial",children:"Are you sure you want to delete this course permanently?"}),Object(re.jsxs)("div",{className:i.actions,children:[Object(re.jsx)(le.a,{className:i.delete,variant:"contained",color:"primary",onClick:b,children:d?Object(re.jsx)(pe.a,{color:"secondary",size:"2rem"}):"Yes, delete the course"}),Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:n,children:"No"})]})]})})})})})),It=function(e){var t=e.open,n=e.handleClose,a=e.id,c=Ct(),i=Object(r.useState)(!1),o=Object(te.a)(i,2),s=o[0],u=o[1];return Object(re.jsx)(st.a,{className:c.modal,open:t,BackdropComponent:ut.a,children:Object(re.jsx)(lt.a,{in:t,direction:"down",children:Object(re.jsx)("div",{className:c.container,children:Object(re.jsx)(ue.a,{onClickAway:n,children:Object(re.jsxs)("div",{className:c.content,children:[Object(re.jsx)(St,{open:s,handleClose:function(){u(!1)},id:a}),Object(re.jsx)(be.a,{variant:"h5",color:"initial",children:"More settings"}),Object(re.jsxs)("div",{className:c.actions,children:[Object(re.jsx)(le.a,{className:c.delete,variant:"contained",color:"primary",onClick:function(){return u(!0)},children:"Delete course permanently"}),Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:n,children:"Close settings"})]})]})})})})})},Nt=n(213),Lt=n(221),At=Object(ne.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},container:{width:500,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:15,display:"flex",flexDirection:"column",rowGap:20,alignItems:"center",padding:"30px 40px",background:e.palette.background.paper},header:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},buttons:{display:"inline-flex",columnGap:10,alignItems:"center","& button":{width:100,borderRadius:10,textTransform:"none"}},input:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"},select:{width:150,borderRadius:20}}})),_t=Object(l.c)(null,{addAlert:w})((function(e){var t=e.open,n=e.id,a=e.handleClose,c=e.academicYear,i=e.semester,o=e.setYear,l=e.setSem,d=e.addAlert,p=At(),b=Object(r.useState)(!1),j=Object(te.a)(b,2),f=j[0],h=j[1],x=Object(r.useState)(c),m=Object(te.a)(x,2),O=m[0],v=m[1],g=Object(r.useState)(i),y=Object(te.a)(g,2),w=y[0],C=y[1];Object(r.useEffect)((function(){return v(c)}),[c]),Object(r.useEffect)((function(){return C(i)}),[i]);var k=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={academicYear:O,semester:w},h(!0),e.next=4,X(n,t);case 4:"OK"===e.sent.status?(o(O),l(w),d("success","Update course info successfully!")):d("error","Error occurred while updating course info."),h(!1),a();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(re.jsx)(st.a,{BackdropComponent:ut.a,open:t,className:p.modal,children:Object(re.jsx)(lt.a,{direction:"up",in:t,children:Object(re.jsxs)("section",{className:p.container,children:[Object(re.jsxs)("div",{className:p.header,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"h6",color:"initial",children:"Edit course info"}),Object(re.jsxs)("div",{className:p.buttons,children:[Object(re.jsx)(le.a,{variant:"text",onClick:a,children:"Discard"}),Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:k,children:f?Object(re.jsx)(pe.a,{style:{fill:"white"},size:"2rem"}):"Apply"})]})]}),Object(re.jsxs)("div",{className:p.input,children:[Object(re.jsx)(be.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(re.jsx)(Qe,{style:{width:150},title:"Academic year",id:"academicYear",value:O,onChange:function(e){v(e.target.value)}})]}),Object(re.jsxs)("div",{className:p.input,children:[Object(re.jsx)(be.a,{variant:"body1",color:"initial",children:"Semester"}),Object(re.jsxs)(Nt.a,{className:p.select,title:"Semester",id:"semester",value:w,onChange:function(e){C(parseInt(e.target.value))},variant:"outlined",children:[Object(re.jsx)(Lt.a,{value:"1",children:"1"}),Object(re.jsx)(Lt.a,{value:"2",children:"2"}),Object(re.jsx)(Lt.a,{value:"3",children:"3"})]})]})]})})})})),Dt=_t,Rt=Object(ne.a)((function(e){return{container:{width:"100%",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20,marginTop:30},content:{display:"flex",flexDirection:"column",alignItems:"center",padding:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:30},addButton:{height:32,width:32,borderRadius:16,minWidth:32},courseInfo:{width:"100%"},infoLine:{width:"100%",display:"inline-flex",justifyContent:"space-between",alignItems:"center"}}})),Tt=function(e){var t=e.id,n=e.academicYear,a=void 0===n?"":n,c=e.semester,i=void 0===c?0:c,o=e.setYear,s=e.setSem,u=Rt(),l=Object(r.useState)(!1),d=Object(te.a)(l,2),p=d[0],b=d[1];return Object(re.jsxs)("section",{className:u.container,children:[Object(re.jsx)(Dt,{id:t,open:p,handleClose:function(){return b(!1)},academicYear:a,semester:i,setYear:o,setSem:s}),Object(re.jsxs)("div",{className:u.content,children:[Object(re.jsxs)("div",{className:u.header,children:[Object(re.jsx)(be.a,{style:{fontWeight:"bold",width:"100%"},variant:"h5",color:"initial",children:"Course information"}),Object(re.jsx)(le.a,{className:u.addButton,onClick:function(){return b(!0)},children:Object(re.jsx)(ct.a,{})})]}),Object(re.jsxs)("div",{className:u.courseInfo,children:[Object(re.jsxs)("div",{className:u.infoLine,children:[Object(re.jsx)(be.a,{variant:"body1",color:"initial",children:"Academic year"}),Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:"".concat(a," - ").concat(parseInt(a)+1)})]}),Object(re.jsxs)("div",{className:u.infoLine,children:[Object(re.jsx)(be.a,{variant:"body1",color:"initial",children:"Semester"}),Object(re.jsx)(be.a,{style:{fontWeight:"bold"},variant:"body1",color:"initial",children:i})]})]})]})]})},Wt=Object(ne.a)((function(e){return{container:{padding:"40px 60px",display:"grid",gridTemplateColumns:"65% 1fr 100px",columnGap:40,rowGap:45},name:{gridColumn:1,gridRow:1,height:50,display:"grid",columnGap:20,gridTemplateColumns:"50px 120px 30px 1fr","& *":{fontSize:30}},input:{height:"100%",width:"100%"},separator:{textAlign:"center",paddingTop:6},editAction:{gridColumn:2,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",columnGap:10,"& button":{fontWeight:"bold",borderRadius:10,textTransform:"none"}},courseAction:{gridColumn:3,gridRow:1,display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{width:100,height:42,textTransform:"none",borderRadius:15,fontWeight:"bold"},mainPanel:{gridColumn:1,gridRow:2},sidePanel:{gridColumn:"2 / span 2",gridRow:2}}})),Bt=Object(l.c)(null,{addAlert:w})((function(e){var t=e.addAlert,n=Wt(),a=Object(d.f)().id,c=Object(r.useState)(null),i=Object(te.a)(c,2),o=i[0],l=i[1],p=Object(r.useState)(!1),b=Object(te.a)(p,2),j=b[0],f=b[1],h=Object(r.useState)(!1),x=Object(te.a)(h,2),m=x[0],O=x[1],v=Object(r.useState)((null===o||void 0===o?void 0:o.course_name)||""),g=Object(te.a)(v,2),y=g[0],w=g[1],C=Object(r.useState)((null===o||void 0===o?void 0:o.course_id)||""),k=Object(te.a)(C,2),S=k[0],I=k[1],L=Object(r.useState)((null===o||void 0===o?void 0:o.academic_year)||""),A=Object(te.a)(L,2),_=A[0],D=A[1],R=Object(r.useState)((null===o||void 0===o?void 0:o.semester)||0),T=Object(te.a)(R,2),W=T[0],B=T[1],E=Object(r.useState)(!1),F=Object(te.a)(E,2),P=F[0],z=F[1],K=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t);case 3:"OK"===(n=e.sent).status?(l(n.course),w(n.course.course_name),I(n.course.course_id),D(n.course.academic_year),B(n.course.semester)):N.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),N.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){a&&("new"!==a?K(a):l({course_id:"",course_name:"",academic_year:"",semester:0,students:[],lecturers:[]}))}),[a]);var Y=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={id:S,name:y,academicYear:(new Date).getFullYear().toString(),semester:0},z(!0),"new"!==a){e.next=8;break}return e.next=5,M(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,X(a,n);case 10:e.t0=e.sent;case 11:r=e.t0,z(!1),O(!1),"OK"===r.status?"new"===a?(N.push("/course/".concat(S)),t("success","Create course successfully!")):t("success","Update course successfully!"):t("error","new"===a?"Error occurred while creating course.":"Error occurred while updating course.");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){K(a)};return null===o?Object(re.jsx)(re.Fragment,{}):Object(re.jsxs)("div",{className:n.container,children:[Object(re.jsx)(It,{open:j,handleClose:function(){f(!1)},id:o.course_id}),Object(re.jsxs)("div",{className:n.name,children:[Object(re.jsx)(Re.a,{onClick:function(){return N.push("/")},children:Object(re.jsx)(at.a,{fontSize:"medium"})}),Object(re.jsx)(oe.a,{className:n.input,color:"secondary",value:S,placeholder:"ID",onChange:function(e){I(e.target.value)},disabled:!m}),Object(re.jsx)(be.a,{className:n.separator,variant:"h3",color:"initial",children:"-"}),Object(re.jsx)(oe.a,{className:n.input,color:"secondary",value:y,placeholder:"Course name",onChange:function(e){w(e.target.value)},disabled:!m})]}),Object(re.jsx)("div",{className:n.editAction,children:m?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(le.a,{variant:"contained",color:"secondary",onClick:Y,children:P?Object(re.jsx)(pe.a,{style:{fill:"white"},size:"2rem"}):"Apply"}),Object(re.jsx)(le.a,{variant:"contained",color:"primary",onClick:function(){w((null===o||void 0===o?void 0:o.course_name)||""),I((null===o||void 0===o?void 0:o.course_id)||""),O(!1)},children:"Discard"})]}):Object(re.jsx)(Re.a,{onClick:function(){return O(!0)},children:Object(re.jsx)(ct.a,{})})}),Object(re.jsx)("div",{className:n.courseAction,children:Object(re.jsx)(Re.a,{onClick:function(){return f(!0)},children:Object(re.jsx)(it.a,{})})}),Object(re.jsx)("div",{className:n.mainPanel,children:Object(re.jsx)(ht,{studentList:o.students,courseID:o.course_id,reload:q})}),Object(re.jsxs)("div",{className:n.sidePanel,children:[Object(re.jsx)(wt,{lecturerList:o.lecturers,courseID:o.course_id,reload:q}),Object(re.jsx)(Tt,{id:a,academicYear:_,semester:W,setYear:D,setSem:B})]})]})})),Et=Bt,Ft=n(210),Pt=n(211),zt=Object(ne.a)((function(e){return{container:{maxWidth:300,animation:"$in 0.25s ease-in-out",display:"flex",flexDirection:"row",columnGap:20,justifyContent:"flex-start",alignItems:"center",padding:"10px 10px",background:e.palette.background.paper,boxShadow:"0px 16px 40px rgba(0, 0, 0, 0.15)",borderRadius:20},close:{animation:"$out 0.25s ease-in-out",animationFillMode:"forwards"},"@keyframes in":{"0%":{transform:"translateX(-320px)"},"25%":{transform:"translateX(-182px)"},"50%":{transform:"translateX(-78px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(20px)"},"90%":{transform:"translateX(10px)"},"100%":{transform:"translateX(0px)"}},"@keyframes out":{"0%":{transform:"translateX(0px)"},"25%":{transform:"translateX(10px)"},"50%":{transform:"translateX(20px)"},"70%":{transform:"translateX(-8px)"},"80%":{transform:"translateX(-78px)"},"90%":{transform:"translateX(-182px)"},"100%":{transform:"translateX(-320px)"}},content:{flexGrow:1,wordWrap:"break-word",maxWidth:228},successIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#00E3AA",display:"inline-flex",alignItems:"center",justifyContent:"center"},errorIcon:{flexGrow:0,width:32,height:32,borderRadius:16,background:"#E61212",display:"inline-flex",alignItems:"center",justifyContent:"center"}}})),Gt=function(e){var t=e.type,n=e.message,a=e.duration,c=zt(),i=Object(r.useState)(!1),o=Object(te.a)(i,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){window.setTimeout((function(){return u(!0)}),a-250)}),[a]),Object(re.jsxs)("div",{className:"".concat(c.container," ").concat(s?c.close:""),children:["success"===t?Object(re.jsx)("div",{className:c.successIcon,children:Object(re.jsx)(Ft.a,{style:{fill:"white"}})}):Object(re.jsx)("div",{className:c.errorIcon,children:Object(re.jsx)(Pt.a,{style:{fill:"white"}})}),Object(re.jsx)(be.a,{className:c.content,variant:"body1",color:"initial",children:n})]})},Kt=Object(ne.a)((function(e){return{container:{display:"flex",flexDirection:"column-reverse",rowGap:20,alignItems:"flex-start",justifyContent:"flex-start",maxHeight:"80vh",width:320,padding:"20px 20px",position:"fixed",bottom:0,left:0,zIndex:10}}})),Yt=Object(l.c)((function(e){return{alert:e.alert}}),{})((function(e){var t=e.alert,n=Kt();return Object(re.jsx)("div",{className:n.container,children:t.map((function(e,t){return Object(re.jsx)(Gt,{type:e.type,message:e.message,duration:e.duration},t)}))})}));var Xt=function(){return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem("access_token"))&&3===t.split(".").length){e.next=3;break}return e.abrupt("return",A.dispatch(x("","")));case 3:if((n=JSON.parse(atob(t.split(".")[1]))).hasOwnProperty("account_id")){e.next=6;break}return e.abrupt("return",A.dispatch(x("","")));case 6:return r=n.account_id,e.next=9,z(r);case 9:if("OK"!==e.sent.status){e.next=12;break}return e.abrupt("return",A.dispatch(x(t,r)));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(re.jsx)(l.a,{store:A,children:Object(re.jsx)(p.a,{theme:W,children:Object(re.jsxs)(b.a,{history:N,children:[Object(re.jsxs)(d.d,{children:[Object(re.jsx)(d.b,{path:"/",exact:!0,component:Ue}),Object(re.jsx)(d.b,{path:"/login",component:nt}),Object(re.jsx)(d.b,{path:"/forgot-password",component:rt}),Object(re.jsx)(d.b,{path:"/course/:id",component:Et}),Object(re.jsx)(d.b,{path:"*",children:Object(re.jsx)(d.a,{to:"/"})})]}),Object(re.jsx)(Yt,{})]})})})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(re.jsx)(a.a.StrictMode,{children:Object(re.jsx)(Xt,{})}),document.getElementById("root")),Mt()}},[[149,1,2]]]);
//# sourceMappingURL=main.d3d96c7a.chunk.js.map