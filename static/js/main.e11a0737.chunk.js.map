{"version":3,"sources":["reducers/auth.ts","reducers/alert.tsx","utils/consts.ts","reducers/index.ts","utils/history.ts","store/index.ts","utils/theme.ts","utils/api.ts","components/BackgroundGradient.tsx","components/list-item/course.tsx","components/CourseAdmin.tsx","components/HeaderAdmin.tsx","utils/helpers.ts","components/list-item/lecturer.tsx","components/LecturerAdmin.tsx","components/list-item/student.tsx","components/StudentAdmin.tsx","screens/HomeScreen.tsx","components/Input.tsx","screens/login/index.tsx","screens/forgot-password/index.tsx","components/AddStudent.tsx","screens/course-config/StudentList.tsx","components/AddLecturer.tsx","screens/course-config/LecturerList.tsx","screens/course-config/SettingsPannel.tsx","components/EditCourseInfo.tsx","screens/course-config/CourseInfo.tsx","screens/course-config/index.tsx","screens/test.tsx","components/alert/AlertItem.tsx","components/alert/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["defaultAuth","token","username","AUTH_ACTION_TYPES","saveAuth","type","data","authReducer","auth","action","defaultAlert","ALERT_ACTION_TYPES","addAlert","message","duration","popAlert","alertReducer","alert","window","setTimeout","store","dispatch","slice","createRootReducer","history","combineReducers","router","connectRouter","createBrowserHistory","createStore","compose","applyMiddleware","routerMiddleware","white","blue","black","theme","createTheme","palette","primary","main","contrastText","secondary","dark","warning","background","default","paper","typography","fontFamily","h1","fontSize","fontWeight","letterSpacing","overrides","MuiAppBar","root","boxShadow","color","colorPrimary","backgroundColor","MuiTab","textTransform","textColorInherit","opacity","instance","axios","create","baseURL","process","timeout","interceptors","response","use","res","err","request","get","url","a","params","parsedParams","Object","keys","map","k","v","reduce","cur","val","ind","headers","authorization","localStorage","getItem","console","error","post","postForm","put","delete","login","payload","getAccountInfo","getCourse","id","getAllCourses","query","page","deleteCourse","updateCourse","createCourse","lecturers","students","removeStudents","removeLecturers","assignStudents","assignLecturers","getAllLecturers","createLecturerAccount","badRequests","duplicates","getAllStudents","approveStudents","createStudentAccount","BackgroundGradient","style","zIndex","position","top","left","width","height","useStyles","makeStyles","container","padding","borderRadius","boxSizing","border","borderColor","transition","content","display","flexDirection","justifyContent","alignItems","rowGap","divider","margin","CourseItem","name","numStudents","numPending","onClick","styles","className","Typography","variant","length","join","gridTemplateColumns","toolContainer","searchBar","listContainer","actionContainer","right","actionContent","CourseAdmin","useState","courseList","setCourseList","loading","setLoading","searchTimeout","setSearchTimeout","setPage","maxPage","setMaxPage","setQuery","openAction","setOpenAction","useEffect","_getCourses","status","courses","TextField","onChange","event","searchText","target","value","clearTimeout","InputProps","startAdornment","InputAdornment","Search","placeholder","ClickAwayListener","onClickAway","Button","prevState","KeyboardArrowDown","transform","Collapse","in","push","CircularProgress","course","course_id","course_name","l","lecturer_name","filter","s","Pagination","count","showFirstButton","showLastButton","appbar","toolbar","title","flexGrow","tabs","profileButton","alignSelf","ConnectedHeaderAdmin","connect","state","onChangeTab","currentTab","classes","tabValue","setTabValue","log","AppBar","Toolbar","Tabs","e","centered","Tab","label","startIcon","checkCSVtype","lines","csvAttrs","attr","line","isNaN","parseInt","checkType","studentCSVAttr","alias","csvToStudentList","csv","trim","split","student_name","student_id","class_id","account_id","password","lecturerCSVAttr","csvToLecturerList","lecturer_id","checkbox","gridColumn","optionsContainer","LecturerItem","checked","showChecked","options","showOptions","openOptions","setOpenOptions","Checkbox","marginRight","IconButton","MoreVert","ConnectedLecturerAdmin","lecturerList","setLecturerList","shownList","setShownList","_getLecturers","useCallback","handleUpload","files","text","parsed","lecturer","body","successful","toLowerCase","indexOf","component","onInput","hidden","StudentItem","ConnectedStudentAdmin","studentList","setStudentList","_getStudents","student","classId","RandomScreen","props","index","children","HomeScreen","useInputStyles","formControl","Input","formControlStyle","FormControl","loginContainer","intro","formContainer","form","formContent","submit","button","textDecoration","ConnectedLogin","setUsername","setPassword","showPassword","setShowPassword","handleSubmit","preventDefault","setItem","marginLeft","onSubmit","handleChangeUsername","handleChangePassword","endAdornment","prevValue","edge","Visibility","VisibilityOff","Link","href","ForgotPassword","setContent","show","contents","atob","modal","maxHeight","maxWidth","header","textAlign","buttons","columnGap","ConnectedAddStudent","open","handleClose","exclude","courseID","reload","setSeed","handleAdd","studentID","handleCheckStudent","pos","findIndex","Math","random","Modal","BackdropComponent","Backdrop","Slide","direction","useStudentListStyle","checkActionContainer","checkBoxContainer","paddingLeft","checkActionButton","ConnectedStudentList","openManualAdd","setOpenManualAdd","pendingStudents","setPendingStudents","approvedStudents","setApprovedStudents","posPending","posApproved","handleCheckAll","handleApprove","handleRemove","newList","disabled","marginTop","ConnectedAddLecturer","lecturerID","handleCheckLecturer","useLecturerListStyle","marginBottom","addButton","minWidth","ConnectedLecturerList","Add","useSettingsPanelStyles","actions","useDeletePanelStyles","ConnectedDeletePanel","handleDeleteCourse","size","SettingsPanel","openDelete","setOpenDelete","input","select","ConnectedEditCourseInfo","academicYear","semester","setYear","setSem","year","_setYear","sem","_setSem","handleSave","fill","Select","MenuItem","useCourseInfoStyle","courseInfo","infoLine","CourseInfo","editCourseInfo","setEditCourseInfo","Edit","gridRow","separator","paddingTop","editAction","courseAction","mainPanel","sidePanel","ConnectedCourseConfig","useParams","setCourse","openSettings","setOpenSettings","edit","setEdit","courseName","setCourseName","setCourseID","academic_year","courseYear","setCourseYear","courseSem","setCourseSem","saving","setSaving","_getCourse","handleSaveCourse","handleReload","ArrowBack","Settings","ConnectedTest","setType","setMessage","animation","close","animationFillMode","wordWrap","successIcon","errorIcon","AlertItem","setClose","Check","Clear","bottom","ConnectedAlertContainer","App","_getAccountInfo","userInfo","JSON","parse","hasOwnProperty","ThemeProvider","path","exact","Login","CourseConfig","Test","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e11a0737.chunk.js","sourcesContent":["import { Action } from \".\";\n\nconst defaultAuth = {\n  token: \"\",\n  username: \"\",\n}\n\nexport interface AuthProps {\n  token: string,\n  username: string,\n}\n\nexport const AUTH_ACTION_TYPES = {\n  save: \"@@auth/SAVE\",\n  clear: \"@@auth/CLEAR\",\n}\n\nexport interface AuthActiondData {\n  token: string,\n  username: string,\n}\n\nexport const saveAuth = (token: string, username: string) => ({\n  type: AUTH_ACTION_TYPES.save,\n  data: {\n    token,\n    username,\n  },\n});\n\nexport const clearAuth = () => ({\n  type: AUTH_ACTION_TYPES.clear,\n  data: {},\n})\n\nconst authReducer = (auth = defaultAuth, action: Action<AuthActiondData>) => {\n  switch (action.type) {\n    case AUTH_ACTION_TYPES.save: {\n      const { token, username } = action.data;\n      auth.token = token;\n      auth.username = username;\n      return auth;\n    }\n    case AUTH_ACTION_TYPES.clear: {\n      return defaultAuth;\n    }\n    default: {\n      return defaultAuth;\n    }\n  }\n}\n\nexport default authReducer;","import { Action } from '.'\nimport store from '../store';\nimport { alertDuration } from '../utils/consts';\n\nexport type AlertProps = Array<{\n  type: \"success\" | \"error\",\n  message: string,\n  duration: number,\n}>\n\nconst defaultAlert: AlertProps = [];\n\nexport const ALERT_ACTION_TYPES = {\n  add: \"@@alert/ADD\",\n  pop: \"@@alert/POP\",\n}\n\nexport interface AlertActionData {\n  type: \"success\" | \"error\",\n  message: string,\n  duration?: number,\n}\n\nexport const addAlert = (type: \"success\" | \"error\", message: string, duration?: number) => ({\n  type: ALERT_ACTION_TYPES.add,\n  data: {\n    type,\n    message,\n    duration,\n  }\n})\n\nexport const popAlert = () => ({\n  type: ALERT_ACTION_TYPES.pop,\n})\n\nconst alertReducer = (alert: AlertProps = defaultAlert, action: Action<AlertActionData>) => {\n  switch (action.type) {\n    case ALERT_ACTION_TYPES.add: {\n      const { type, message, duration = alertDuration } = action.data;\n      alert = [...alert, { type, message, duration }];\n      window.setTimeout(() => store.dispatch(popAlert()), duration);\n      return alert;\n    }\n    case ALERT_ACTION_TYPES.pop: {\n      alert = [...alert.slice(1)];\n      return alert;\n    }\n    default: {\n      return defaultAlert;\n    }\n  }\n}\n\nexport default alertReducer;","export const alertDuration = 3000 // by ms","import { combineReducers } from \"redux\";\nimport { connectRouter } from 'connected-react-router';\nimport authReducer, { AuthProps } from \"./auth\";\nimport alertReducer, { AlertProps } from \"./alert\";\n\nexport type Action <D> = {\n  type: string,\n  data: D,\n}\n\nexport interface RootStateProps {\n  auth: AuthProps,\n  alert: AlertProps\n}\n\nconst createRootReducer = (history: any) => combineReducers({\n  // Reducers here\n  auth: authReducer,\n  alert: alertReducer,\n  router: connectRouter(history),\n});\n\nexport default createRootReducer;","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;","import { applyMiddleware, compose, createStore } from \"redux\";\nimport createRootReducer from \"../reducers\";\nimport history from \"../utils/history\";\nimport { routerMiddleware } from 'connected-react-router';\n\nconst store = createStore(\n  createRootReducer(history),\n  compose(\n    applyMiddleware(\n      routerMiddleware(history),\n    )\n  )\n);\n\nexport default store;","import { createTheme } from \"@material-ui/core/styles\";\n\nconst white = \"#FFFFFF\";\nconst blue = \"#3185FC\";\nconst blueDark = \"#034FB9\";\nconst yellow = \"#F7CB15\";\nconst black = \"#3A3A3A\";\nconst grey = \"#838181\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: white,\n      contrastText: black,\n    },\n    secondary: {\n      main: blue,\n      dark: blueDark,\n      contrastText: white,\n    },\n    warning: {\n      main: yellow,\n      contrastText: black,\n    },\n    background: {\n      default: white,\n      paper: white,\n    }\n  },\n  typography: {\n    fontFamily: 'Raleway',\n    h1: {\n      fontSize: \"48px\",\n      fontWeight: 800,\n      letterSpacing: \"0.04em\",\n    },\n  },\n  overrides: {\n    MuiAppBar: {\n      root: {\n        boxShadow: \"0 0\",\n        color: blue,\n      },\n      colorPrimary: {\n        backgroundColor: \"transparent\",\n        color: blue,\n      }\n    },\n    MuiTab: {\n      root: {\n        fontWeight: 'bold',\n        fontSize: 24,\n        letterSpacing: 1.5 * 0.01,\n        textTransform: 'capitalize',\n      },\n      textColorInherit: {\n        color: black,\n        opacity: 1,\n        '&.Mui-selected': {\n          color: blue,\n        },\n      },\n      \n    },\n  }\n});\n\nexport default theme;","import axios from 'axios';\nimport { Course, Lecturer, Student } from './types';\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_SERVER_ADDRESS,\n  timeout: 5000,\n});\n\ninstance.interceptors.response.use(\n  (res) => {\n    return res.data;\n  },\n  (err) => {\n    return err.response.data;\n  }\n);\n\nconst request = {\n  get: async (url: string, params: any = {}) => {\n    try {\n      const parsedParams = Object.keys(params)\n        .map((k) => ({ k, v: params[k] }))\n        .reduce(\n          (cur, val, ind) =>\n            cur + (ind === 0 ? \"?\" : \"&\") + val.k + \"=\" + val.v,\n          \"\"\n        );\n      return await instance.get(url + parsedParams, {\n        headers: {\n          authorization: window.localStorage.getItem(\"access_token\")\n            ? `Bearer ${window.localStorage.getItem(\"access_token\")}`\n            : \"\",\n        },\n      });\n    } catch (err: any) {\n      console.error(err);\n      return err.response ? err.response.data : err;\n    }\n  },\n  post: async (url: string, data: any) => {\n    try {\n      return await instance.post(url, data, {\n        headers: {\n          authorization: window.localStorage.getItem(\"access_token\")\n            ? `Bearer ${window.localStorage.getItem(\"access_token\")}`\n            : \"\",\n        },\n      });\n    } catch (err: any) {\n      console.error(err);\n      return err.response ? err.response.data : err;\n    }\n  },\n\n  postForm: async (url: string, data: any) => {\n    try {\n      return await instance.post(url, data, {\n        headers: {\n          authorization: window.localStorage.getItem(\"access_token\")\n            ? `Bearer ${window.localStorage.getItem(\"access_token\")}`\n            : \"\",\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n    } catch (err: any) {\n      console.error(err);\n      return err.response ? err.response.data : err;\n    }\n  },\n  put: async (url: string, data: any) => {\n    try {\n      return await instance.put(url, data, {\n        headers: {\n          authorization: window.localStorage.getItem(\"access_token\")\n            ? `Bearer ${window.localStorage.getItem(\"access_token\")}`\n            : \"\",\n        },\n      });\n    } catch (err: any) {\n      console.error(err);\n      return err.response ? err.response.data : err;\n    }\n  },\n  delete: async (url: string, params: any = {}, data: any = {}) => {\n    try {\n      const parsedParams = Object.keys(params)\n        .map((k) => ({ k, v: params[k] }))\n        .reduce(\n          (cur, val, ind) =>\n            cur + (ind === 0 ? \"?\" : \"&\") + val.k + \"=\" + val.v,\n          \"\"\n        );\n      return await instance.delete(url + parsedParams, {\n        headers: {\n          authorization: window.localStorage.getItem(\"access_token\")\n            ? `Bearer ${window.localStorage.getItem(\"access_token\")}`\n            : \"\",\n        },\n        data,\n      });\n    } catch (err: any) {\n      console.error(err);\n      return err.response ? err.response.data : err;\n    }\n  },\n};\n\n/**\n * Export apis here\n * For example\n * export const getSth = async () => return await request.get(\"/sth\");\n */\n\n// ========AUTH=========\n\nexport interface LoginPayload {\n  username: string,\n  password: string\n}\n\nexport const login = async (payload: LoginPayload) => {\n  return await request.post('/account/login', payload);\n}\n\ninterface GetAccountInfoResponse {\n  status: string,\n  user: {\n\n  }\n}\n\nexport const getAccountInfo = async (username: string): Promise<GetAccountInfoResponse> => {\n  return await request.get('/account', { username })\n}\n\n// ========COURSE==========\n\nexport interface getCourseResponse {\n  status: string,\n  course: Course,\n}\n\nexport const getCourse = async (id: string): Promise<getCourseResponse> => {\n  const res = await request.get('/course', { id });\n  return res;\n};\n\ninterface getAllCoursesResponse {\n  status: string,\n  courses: Array<Course>,\n  maxPage: number\n}\n\nexport const getAllCourses = async (query: string = \"\", page: number = 0): Promise<getAllCoursesResponse> => {\n  return await request.get('/course/search', { query, page });\n}\n\ninterface DeleteCourseResponse {\n  status: string,\n  message: string,\n}\n\nexport const deleteCourse = async (id: string): Promise<DeleteCourseResponse> => {\n  return await request.delete('/course', { id });\n}\n\ninterface UpdateCourseRequest {\n  id?: string,\n  name?: string,\n  academicYear?: string,\n  semester?: number,\n}\n\ninterface UpdateCourseResponse {\n  status: string,\n  message: any,\n}\n\nexport const updateCourse = async (id: string, payload: UpdateCourseRequest): Promise<UpdateCourseResponse> => {\n  return await request.put(`/course?id=${id}`, payload);\n}\n\ninterface CreateCourseRequest extends UpdateCourseRequest {}\n\ninterface CreateCourseResponse {\n  status: string,\n  message: Course,\n}\n\nexport const createCourse = async (payload: CreateCourseRequest): Promise<CreateCourseResponse> => {\n  const res = await request.post('/course', payload);\n  res.message.lecturers = [];\n  res.message.students = [];\n  return (res as CreateCourseResponse);\n}\n\ninterface RemoveStudentRequest {\n  body: Array<{\n    studentID: string,\n    courseID: string,\n  }>\n}\n\ninterface RemoveStudentResponse {\n  status: string,\n  message: any,\n}\n\nexport const removeStudents = async (payload: RemoveStudentRequest): Promise<RemoveStudentResponse> => {\n  return await request.delete('/course/remove/student', {}, payload);\n}\n\ninterface RemoveLecturerRequest {\n  body: Array<{\n    lecturerID: string,\n    courseID: string,\n  }>\n}\n\ninterface RemoveLecturerResponse {\n  status: string,\n  message: any,\n}\n\nexport const removeLecturers = async (payload: RemoveLecturerRequest): Promise<RemoveLecturerResponse> => {\n  return await request.delete('/course/remove/lecturer', {}, payload);\n}\n\ninterface AssignStudentsRequest {\n  body: Array<{\n    studentID: string,\n    courseID: string,\n  }>\n}\n\ninterface AssignStudentsResponse {\n  status: string,\n  message: any,\n}\n\nexport const assignStudents = async (payload: AssignStudentsRequest): Promise<AssignStudentsResponse> => {\n  return await request.post('/course/assign/student', payload);\n}\n\ninterface AssignLecturersRequest {\n  body: Array<{\n    lecturerID: string,\n    courseID: string,\n  }>\n}\n\ninterface AssignLecturersResponse {\n  status: string,\n  message: any,\n}\n\nexport const assignLecturers = async (payload: AssignLecturersRequest): Promise<AssignLecturersResponse> => {\n  return await request.post('/course/assign/lecturer', payload);\n}\n// ========LECTURERS=========\n\ninterface GetAllLecturersResponse {\n  status: string,\n  lecturers: Lecturer[],\n}\n\nexport const getAllLecturers = async (): Promise<GetAllLecturersResponse> => {\n  return await request.get('/lecturer');\n}\n\ninterface CreateLecturerAccountRequest {\n  body: Array<{\n    username: string,\n    password: string,\n    name: string,\n    type: number,\n  }>\n}\n\ninterface CreateLecturerAccountResponse {\n  message: string,\n  statusCode: number,\n  status?: string,\n  successful: string[],\n  badRequests: string[],\n  duplicates: string[],\n}\n\nexport const createLecturerAccount = async (payload: CreateLecturerAccountRequest): Promise<CreateLecturerAccountResponse> => {\n  const res = await request.post('/account/create', payload);\n  res.badRequests = res.badRequests || [];\n  res.duplicates = res.duplicates || [];\n  return res;\n}\n\n// ===========STUDENTS=========\n\ninterface GetAllStudentsResponse {\n  status: string,\n  students: Student[],\n}\n\nexport const getAllStudents = async (): Promise<GetAllStudentsResponse> => {\n  return await request.get('/student');\n}\n\ninterface ApproveStudentsRequest {\n  body: Array<{\n    studentID: string,\n    courseID: string,\n  }>\n}\n\ninterface ApproveStudentsResponse {\n  status: string,\n  message: any,\n}\n\nexport const approveStudents = async (payload: ApproveStudentsRequest): Promise<ApproveStudentsResponse> => {\n  return await request.put('/student/approve', payload);\n}\n\ninterface CreateStudentAccountRequest {\n  body: Array<{\n    username: string,\n    password: string,\n    classId: string,\n    name: string,\n    type: number,\n  }>\n}\n\ninterface CreateStudentAccountResponse {\n  message: string,\n  statusCode: number,\n  status?: string,\n  successful: string[],\n  badRequests: string[],\n  duplicates: string[],\n}\n\nexport const createStudentAccount = async (payload: CreateStudentAccountRequest): Promise<CreateStudentAccountResponse> => {\n  const res = await request.post('/account/create', payload);\n  res.badRequests = res.badRequests || [];\n  res.duplicates = res.duplicates || [];\n  return res;\n}","function BackgroundGradient() {\n  return (\n    <div\n      style={{\n        zIndex: -1,\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        background:\n          \"radial-gradient(25.8% 51.02% at 77.5% 71.09%, rgba(49, 133, 252, 0.12) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(19.9% 17.2% at 25.8% 26.76%, #E7F1FF 0%, #FFFFFF 100%)\",\n      }}\n    />\n  );\n}\n\nexport default BackgroundGradient;\n","import { makeStyles } from '@material-ui/core';\nimport React, { MouseEventHandler } from 'react';\nimport Typography from '@material-ui/core/Typography'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    padding: 36,\n    boxShadow: \"0px 6px 4px rgba(49, 133, 252, 0.24)\",\n    borderRadius: 15,\n    boxSizing: \"border-box\",\n    border: \"2px solid\",\n    borderColor: \"transparent\",\n    transition: \"border-color .2s ease-in-out\",\n    \"&:hover\": {\n      borderColor: theme.palette.secondary.main,\n    }\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"flex-start\",\n    rowGap: 5,\n    width: 800,\n  },\n  divider: {\n    height: 0,\n    width: \"100%\",\n    border: \"1px solid #3185FC\",\n    margin: \"10px 0px\",\n  }\n}))\n\ninterface CourseItemProps {\n  id: string,\n  name: string,\n  lecturers: Array<string>,\n  numStudents: number,\n  numPending: number,\n  onClick: MouseEventHandler,\n}\n\nconst CourseItem: React.FC<CourseItemProps> = ({\n  id,\n  name,\n  lecturers,\n  numStudents,\n  numPending,\n  onClick\n}) => {\n  const styles = useStyles();\n\n  return (\n    <div className={styles.container} onClick={onClick}>\n      <div className={styles.content}>\n        <Typography style={{ fontWeight: \"bold\" }} variant=\"h4\" color=\"initial\">\n          {id} - {name}\n        </Typography>\n        <div className={styles.divider} />\n        <Typography variant=\"body1\" color=\"initial\">\n          {`Lecturers: ${lecturers.length === 0 ? \"none\" : lecturers.join(\", \")}`}\n        </Typography>\n        <div style={{ width: \"100%\", display: \"grid\", gridTemplateColumns: \"1fr 1fr\" }}>\n          <Typography variant=\"body1\" color=\"initial\">\n            Number of students: {numStudents}\n          </Typography>\n          <Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color={numPending > 0 ? \"error\" : \"secondary\"}>\n            Wait for approval: {numPending}\n          </Typography>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CourseItem;","import { KeyboardArrowDown, Search } from '@material-ui/icons';\nimport { InputAdornment, TextField, Button, makeStyles, CircularProgress, ClickAwayListener, Collapse } from '@material-ui/core';\nimport React, { ChangeEvent, ChangeEventHandler, MouseEventHandler, useEffect, useState } from 'react';\nimport { getAllCourses } from '../utils/api';\nimport { Course } from '../utils/types';\nimport CourseItem from './list-item/course';\nimport history from '../utils/history';\nimport { Pagination } from '@material-ui/lab';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    rowGap: 30,\n    alignItems: \"center\",\n    padding: 40,\n  },\n  toolContainer: {\n    position: \"relative\",\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  searchBar: {\n    width: 400,\n    \"& > div\": {\n      height: 42,\n    },\n    \"& fieldset\": {\n      borderRadius: 20,\n      boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n    },\n  },\n  listContainer: {\n    width: \"100%\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    rowGap: 25,\n  },\n\tactionContainer: {\n\t\tzIndex: 1,\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n\tactionContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"stretch\",\n\n\t\t\"& button\": {\n\t\t\tfontWeight: \"bold\",\n\t\t\ttextTransform: \"none\",\n\t\t}\n\t},\n}));\n\ninterface CourseAdminProps {\n\n}\n\nconst CourseAdmin: React.FC<CourseAdminProps> = () => {\n  const styles = useStyles();\n\n  const [courseList, setCourseList] = useState< Array<Course> >([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [searchTimeout, setSearchTimeout] = useState<number>(0);\n  const [page, setPage] = useState<number>(1);\n  const [maxPage, setMaxPage] = useState<number>(1);\n  const [query, setQuery] = useState<string>(\"\");\n\tconst [openAction, setOpenAction] = useState<boolean>(false);\n\n  const handleSearch: ChangeEventHandler = (event: ChangeEvent) => {\n    const searchText = (event.target as HTMLInputElement).value;\n    if (searchTimeout)\n      clearTimeout(searchTimeout);\n    setSearchTimeout(window.setTimeout(() => {\n      setQuery(searchText);\n      setPage(1);\n      setMaxPage(1);\n    }, 500));\n  }\n\n  const handleChangePage = (event: ChangeEvent<unknown>, value: number) => {\n    setPage(value);\n  }\n\n  const handleCreate: MouseEventHandler = () => {\n    history.push('/course/new');\n  }\n\n\tconst handleClickAction: MouseEventHandler = () => {\n\t\tsetOpenAction(prevState => !prevState);\n\t}\n\n  useEffect(() => {\n    const _getCourses = async () => {\n      setLoading(true);\n      const res = await getAllCourses(query, page - 1);\n      if (res.status === \"OK\") {\n        setCourseList(res.courses);\n        setMaxPage(res.maxPage);\n      }\n      else {\n        // alert error message\n      }\n\n      setLoading(false);\n    }\n\n    _getCourses();\n  }, [query, page])\n\n  return (\n    <section className={styles.container}>\n      <div className={styles.content}>\n        <div className={styles.toolContainer}>\n          <TextField\n            variant=\"outlined\"\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Search />\n                </InputAdornment>\n              )\n            }}\n            placeholder=\"Search\"\n            className={styles.searchBar}\n          />\n          <ClickAwayListener onClickAway={() => setOpenAction(false)}>\n\t\t\t\t\t\t<div className={styles.actionContainer}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={handleClickAction}\n\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\", \n\t\t\t\t\t\t\t\t\tborderRadius: 10, \n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAction\n\t\t\t\t\t\t\t\t<KeyboardArrowDown \n\t\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\t\ttransform: `rotate(${openAction ? \"180\" : \"0\"}deg)`,\n\t\t\t\t\t\t\t\t\t\ttransition: \"transform .2s ease-in-out\",\n\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Collapse in={openAction}>\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      // onClick={} TODO\n                    >\n\t\t\t\t\t\t\t\t\t\t\tImport via csv\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleCreate}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tCreate manually\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ClickAwayListener>\n        </div>\n        <div className={styles.listContainer}>\n          {\n            loading ? (\n              <CircularProgress color=\"secondary\" />\n            ) : courseList.map((course, ind) => (\n              <CourseItem\n                key={ind}\n                id={course.course_id}\n                name={course.course_name}\n                lecturers={course.lecturers.map(l => l.lecturer_name) || []}\n                numStudents={course.students.filter(s => s.status === 1).length}\n                numPending={course.students.filter(s => s.status === 0).length}\n                onClick={() => history.push(`/course/${course.course_id}`)}\n              />\n            ))\n          }\n        </div>\n        <Pagination\n          page={page}\n          onChange={handleChangePage}\n          count={maxPage}\n          variant=\"outlined\"\n          color=\"secondary\"\n          showFirstButton\n          showLastButton\n        />\n      </div>\n    </section>\n  )\n}\n\nexport default CourseAdmin;","import {\n  AppBar,\n  Toolbar,\n  Typography,\n  Tabs,\n  Tab,\n  Button,\n  makeStyles\n} from \"@material-ui/core\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport React, { ChangeEvent, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RootStateProps } from \"../reducers\";\nimport { AuthProps } from \"../reducers/auth\";\nimport history from \"../utils/history\";\n\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    background: theme.palette.background.paper,\n  },\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: 0,\n  },\n  title: {\n      flexGrow: 1,\n      position: 'relative',\n      left: '1em',\n  },\n  tabs: {\n    flexGrow: 20,\n  },\n  profileButton: {\n    flexGrow: 1,\n    borderRadius: \"50px 0 0 50px\",\n    alignSelf: \"stretch\",\n    fontWeight: \"bold\"\n  },\n}));\n\ninterface ConnectedHeaderAdminProps {\n  currentTab: \"course\" | \"lecturer\" | \"student\";\n  onChangeTab: any;\n}\n\ninterface HeaderAdminStateProps {\n  auth: AuthProps,\n}\n\ninterface HeaderAdminDispatchProps {\n\n}\n\ninterface HeaderAdminProps extends ConnectedHeaderAdminProps, HeaderAdminDispatchProps, HeaderAdminStateProps {}\n\nconst HeaderAdmin: React.FC<HeaderAdminProps> = function ({\n  onChangeTab,\n  currentTab,\n  auth,\n}) {\n  const classes = useStyles();\n  const [tabValue, setTabValue] = useState(0);\n\n  useEffect(() => console.log(auth), [auth]);\n\n  const changeTab = function (e: ChangeEvent<{}>, val: any) {\n    setTabValue(val);\n    onChangeTab(val);\n  };\n\n  return (\n    <AppBar className={classes.appbar}>\n      <Toolbar className={classes.toolbar}>\n        <Typography className={classes.title} variant=\"h1\">\n          EAZYLEARN\n        </Typography>\n        <Tabs\n          className={classes.tabs}\n          value={tabValue}\n          onChange={changeTab}\n          aria-label=\"Admin Tabs\"\n          centered\n        >\n          <Tab label=\"Course\" id=\"tab-course\" />\n          <Tab label=\"Lecturer\" id=\"tab-lecturer\" />\n          <Tab label=\"Student\" id=\"tab-student\" />\n        </Tabs>\n        {\n          auth.token !== \"\" ? (\n            <Button\n              className={classes.profileButton}\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<ArrowDropDownIcon style={{ fontSize: 33 }} />}\n            >\n              { auth.username }\n            </Button>\n          ) : (\n            <Button\n              className={classes.profileButton}\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<ArrowDropDownIcon style={{ fontSize: 33 }} />}\n              onClick={() => history.push('/login')}\n            >\n              Login\n            </Button>\n          )\n        }\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nconst ConnectedHeaderAdmin: React.FC<ConnectedHeaderAdminProps> = connect((state: RootStateProps) => ({ auth: state.auth }), {})(HeaderAdmin);\n\n// HeaderAdmin.defaultProps = {\n//   current_tab: \"course\",\n// };\n\nexport default ConnectedHeaderAdmin;\n","import { LecturerAccount, StudentAccount } from \"./types\"\n\ninterface CSVAttr {\n  name: string,\n  type: \"string\" | \"number\",\n  alias: string,\n}\n\nconst checkType = (value: string, type: \"string\" | \"number\"): boolean => {\n  switch (type) {\n    case \"string\":\n      return typeof value === \"string\";\n    case \"number\":\n      return isNaN(parseInt(value));\n    default:\n      return false;\n  }\n}\n\nconst checkCSVtype = (lines: string[][], csvAttrs: CSVAttr[]): boolean => {\n  return (\n    csvAttrs.reduce<boolean>((cur, attr, ind) => cur && lines[0][ind] === attr.name, true) && // Check csv header\n    lines.slice(1).reduce<boolean>((cur, line) => cur && csvAttrs.reduce<boolean>((cur, attr, ind) => cur && checkType(line[ind], attr.type), true), true) // Check csv data type\n  );\n}\n\nconst studentCSVAttr: CSVAttr[] = [\n  {\n    name: \"Name\",\n    type: \"string\",\n    alias: \"student_name\",\n  },\n  {\n    name: \"Student ID\",\n    type: \"string\",\n    alias: \"account_id\",\n  },\n  {\n    name: \"Class ID\",\n    type: \"string\",\n    alias: \"class_id\",\n  },\n  {\n    name: \"Username\",\n    type: \"string\",\n    alias: \"account_id\",\n  },\n  {\n    name: \"Password\",\n    type: \"string\",\n    alias: \"password\",\n  }\n]\n\nexport const csvToStudentList = (csv: string): StudentAccount[] | string => {\n  const lines = csv.trim().split(\"\\n\").map(line => line.split(','));\n  if (!checkCSVtype(lines, studentCSVAttr)) {\n    return \"CSV file format is invalid\";\n  }\n\n  const res: StudentAccount[] = lines.slice(1).map(line => ({\n    student_name: line[0],\n    student_id: line[1],\n    class_id: line[2],\n    account_id: line[3],\n    password: line[4], \n  }));\n\n  return res;\n}\n\nconst lecturerCSVAttr: CSVAttr[] = [\n  {\n    name: \"Name\",\n    type: \"string\",\n    alias: \"lecturer_name\",\n  },\n  {\n    name: \"Lecturer ID\",\n    type: \"string\",\n    alias: \"account_id\",\n  },\n  {\n    name: \"Username\",\n    type: \"string\",\n    alias: \"account_id\",\n  },\n  {\n    name: \"Password\",\n    type: \"string\",\n    alias: \"password\",\n  }\n]\n\nexport const csvToLecturerList = (csv: string): LecturerAccount[] | string => {\n  const lines = csv.trim().split(\"\\n\").map(line => line.split(','));\n  if (!checkCSVtype(lines, lecturerCSVAttr)) {\n    return \"CSV file format is invalid\";\n  }\n\n  const res: LecturerAccount[] = lines.slice(1).map(line => ({\n    lecturer_name: line[0],\n    lecturer_id: line[1],\n    account_id: line[2],\n    password: line[3], \n  }));\n\n  return res;\n}","import { IconButton, Typography, makeStyles, Checkbox, ClickAwayListener, Collapse } from '@material-ui/core';\nimport { MoreVert } from '@material-ui/icons';\nimport React, { ChangeEventHandler, ReactNode, useState } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    position: \"relative\",\n    width: \"100%\",\n    height: 60,\n    boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n    borderRadius: 20,\n    display: \"grid\",\n    gridTemplateColumns: \"50px 1fr 50px\",\n    border: \"2px solid\",\n    borderColor: \"transparent\",\n    transition: \"border-color .2s ease-in-out\",\n    \"&:hover\": {\n      borderColor: theme.palette.secondary.main,\n    }\n  },\n  checkbox: {\n    gridColumn: 1,\n  },\n  content: {\n    gridColumn: 2,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n  },\n  action: {\n    zIndex: 1,\n  },\n\toptionsContainer: {\n\t\tposition: \"absolute\",\n    top: 5,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n}))\n\ninterface LecturerItemProps {\n  name: string,\n  checked?: boolean,\n  onChange?: ChangeEventHandler,\n  showChecked?: boolean,\n  options?: ReactNode,\n  showOptions?: boolean,\n}\n\nconst LecturerItem: React.FC<LecturerItemProps> = ({\n  name,\n  checked = false,\n  onChange,\n  showChecked = false,\n  options = <></>,\n  showOptions = true,\n}) => {\n\n  const styles = useStyles();\n\n  const [openOptions, setOpenOptions] = useState<boolean>(false);\n\n  return (\n    <div className={styles.container}>\n      {\n        showChecked && (\n          <Checkbox\n            checked={checked}\n            className={styles.checkbox}\n            color=\"secondary\"\n            onChange={onChange}\n          />\n        )\n      }\n      <div className={styles.content}>\n        <Typography style={{ color: \"#3A3A3A\", width: 200, marginRight: 20 }} variant=\"body1\" color=\"initial\">\n          {name}\n        </Typography>\n      </div>\n      {\n        showOptions && (\n          <ClickAwayListener onClickAway={() => setOpenOptions(false)}>\n            <div style={{ zIndex: openOptions ? 2 : 1 }} className={styles.optionsContainer}>\n              <IconButton\n                className={styles.action}\n                onClick={() => setOpenOptions(true)}>\n                <MoreVert />\n              </IconButton>\n              <Collapse in={openOptions}>\n                {options}\n              </Collapse>\n            </div>\n          </ClickAwayListener>\n        )\n      }\n    </div>\n  )\n}\n\nexport default LecturerItem;","import { Button, CircularProgress, ClickAwayListener, Collapse, InputAdornment, makeStyles, TextField } from '@material-ui/core';\nimport { KeyboardArrowDown, Search } from '@material-ui/icons';\nimport React, { ChangeEvent, ChangeEventHandler, FormEvent, FormEventHandler, MouseEventHandler, useCallback, useEffect, useState } from 'react';\nimport { createLecturerAccount, getAllLecturers } from '../utils/api';\nimport { csvToLecturerList } from '../utils/helpers';\nimport { CourseLecturer } from '../utils/types';\nimport LecturerItem from './list-item/lecturer';\nimport { addAlert } from '../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    rowGap: 30,\n    alignItems: \"center\",\n    padding: 40,\n  },\n  toolContainer: {\n\t\tposition: \"relative\",\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  searchBar: {\n    width: 400,\n    \"& > div\": {\n      height: 42,\n    },\n    \"& fieldset\": {\n      borderRadius: 20,\n      boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n    },\n  },\n\tactionContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n\tactionContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"stretch\",\n\n\t\t\"& button\": {\n\t\t\tfontWeight: \"bold\",\n\t\t\ttextTransform: \"none\",\n\t\t\t\"& span\": {\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t}\n\t\t}\n\t},\n  listContainer: {\n    width: \"100%\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    rowGap: 25,\n  }\n}))\n\ninterface ConnectedLecturerAdminProps {\n}\n\ninterface LecturerAdminStateProps {\n\n}\n\ninterface LecturerAdminDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface LecturerAdminProps extends ConnectedLecturerAdminProps, LecturerAdminStateProps, LecturerAdminDispatchProps {}\n\nconst LecturerAdmin: React.FC<LecturerAdminProps> = ({\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [lecturerList, setLecturerList] = useState< Array<CourseLecturer> >([]);\n  const [shownList, setShownList] = useState< Array<CourseLecturer> >([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [searchTimeout, setSearchTimeout] = useState<number>(0);\n\tconst [openAction, setOpenAction] = useState<boolean>(false);\n\n  const searchHandler = (text: string) => (value: CourseLecturer): boolean => {\n    return value.lecturer_name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n  }\n\n  const handleSearch: ChangeEventHandler = (event: ChangeEvent) => {\n    const searchText = (event.target as HTMLInputElement).value;\n    if (searchTimeout)\n      clearTimeout(searchTimeout);\n    setSearchTimeout(window.setTimeout(() => setShownList(lecturerList.filter(searchHandler(searchText))), 500));\n  }\n\n  const _getLecturers = useCallback(async () => {\n    setLoading(true);\n\n    const res = await getAllLecturers();\n    if (res.status === \"OK\") {\n      setLecturerList(res.lecturers);\n      setShownList(res.lecturers);\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while getting lecturer list.\");\n    }\n\n    setLoading(false);\n  }, [addAlert]);\n\n  useEffect(() => {\n    _getLecturers();\n  }, [_getLecturers])\n\n  const handleClickAction: MouseEventHandler = () => {\n\t\tsetOpenAction(prevState => !prevState);\n  }\n\n  const handleUpload: FormEventHandler = async (event: FormEvent) => {\n    const files = (event.target as HTMLInputElement).files;\n    if (files === null || files.length === 0) {\n      addAlert(\"error\", \"File not found.\");\n      return;\n    }\n    const text = await files[0].text();\n    const parsed = csvToLecturerList(text);\n    if (typeof parsed === \"string\") {\n      addAlert(\"error\", parsed);\n      return\n    }\n\n    console.log(parsed);\n    \n    const payload = parsed.map(lecturer => ({\n      username: lecturer.lecturer_id,\n      password: lecturer.password,\n      name: lecturer.lecturer_name,\n      type: 1, // lecturer\n    }));\n\n    const res = await createLecturerAccount({ body: payload });\n    if (res.status === \"OK\" && res.badRequests.length === 0 && res.duplicates.length === 0) {\n      addAlert(\"success\", `Create ${res.successful.length} lecturer accounts successfully!`);\n    }\n    else {\n      addAlert(\"error\", `Only created ${res.successful.length} lecturer accounts, ${res.badRequests.length} have invalid data and ${res.duplicates.length} accounts already exist`, 5000);\n    }\n    setOpenAction(false);\n\n    _getLecturers();\n  }\n\n  return (\n    <section className={styles.container}>\n      <div className={styles.content}>\n        <div className={styles.toolContainer}>\n          <TextField\n            variant=\"outlined\"\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Search />\n                </InputAdornment>\n              )\n            }}\n            placeholder=\"Search\"\n            className={styles.searchBar}\n          />\n\t\t\t\t\t<ClickAwayListener onClickAway={() => setOpenAction(false)}>\n\t\t\t\t\t\t<div className={styles.actionContainer}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={handleClickAction}\n\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\", \n\t\t\t\t\t\t\t\t\tborderRadius: 10, \n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAction\n\t\t\t\t\t\t\t\t<KeyboardArrowDown \n\t\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\t\ttransform: `rotate(${openAction ? \"180\" : \"0\"}deg)`,\n\t\t\t\t\t\t\t\t\t\ttransition: \"transform .2s ease-in-out\",\n\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Collapse in={openAction}>\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n                      component=\"label\"\n                      style={{ textTransform: \"none\" }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tImport via csv\n                      <input\n                        type=\"file\"\n                        onInput={handleUpload}\n                        hidden\n                      />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t{/* <Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setOpenManualAdd(true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd manually\n\t\t\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ClickAwayListener>\n        </div>\n        <div className={styles.listContainer}>\n          {\n            loading ? (\n              <CircularProgress color=\"secondary\" />\n            ) : shownList.map((lecturer, ind) => (\n              <LecturerItem\n                key={ind}\n                name={lecturer?.lecturer_name || \"\"}\n                options={(\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMore details\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n              />\n            ))\n          }\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst ConnectedLecturerAdmin: React.FC<ConnectedLecturerAdminProps> = connect(null, { addAlert })(LecturerAdmin);\n\nexport default ConnectedLecturerAdmin;","import { Checkbox, IconButton, Typography, makeStyles, Collapse, ClickAwayListener } from '@material-ui/core';\nimport { MoreVert } from '@material-ui/icons';\nimport React, { ChangeEventHandler, ReactNode, useState } from 'react';\n\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    position: \"relative\",\n    width: \"100%\",\n    height: 60,\n    boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n    borderRadius: 20,\n    display: \"grid\",\n    gridTemplateColumns: \"50px 1fr 50px\",\n    border: \"2px solid\",\n    borderColor: \"transparent\",\n    transition: \"border-color .2s ease-in-out\",\n    \"&:hover\": {\n      borderColor: theme.palette.secondary.main,\n    }\n  },\n  checkbox: {\n    gridColumn: 1,\n    position: \"relative\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n  content: {\n    gridColumn: 2,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n  },\n  action: {\n    zIndex: 1,\n  },\n\toptionsContainer: {\n\t\tposition: \"absolute\",\n    top: 5,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n}))\n\ninterface StudentItemProps {\n  name: string,\n  id?: string,\n  status?: number,\n  checked?: boolean,\n  onChange?: ChangeEventHandler,\n  options?: ReactNode,\n  showOptions?: boolean,\n  showChecked?: boolean,\n}\n\nconst StudentItem: React.FC<StudentItemProps> = ({\n  name,\n  id = \"\",\n  status = -1,\n  checked = false,\n  onChange,\n  options = <></>,\n  showOptions = true,\n  showChecked = true,\n}) => {\n\n  const styles = useStyles();\n\n  const [openOptions, setOpenOptions] = useState<boolean>(false);\n\n  return (\n    <div className={styles.container}>\n      {\n        showChecked && (\n          <div>\n            <Checkbox\n              checked={checked}\n              className={styles.checkbox}\n              color=\"secondary\"\n              onChange={onChange}\n            />\n          </div>\n        )\n      }\n      <div className={styles.content}>\n        <Typography style={{ color: \"#3A3A3A\", width: 300, marginRight: 20 }} variant=\"body1\" color=\"initial\">\n          {name}\n        </Typography>\n        {\n          status >= 0 ? (\n            <Typography style={{ color: status === 0 ? \"#F7CB15\" : \"#00E3AA\" }} variant=\"body1\">\n              {status === 0 ? \"Pending\" : \"Approved\"}\n            </Typography>\n          ) : (\n            <Typography style={{ color: \"#3A3A3A\" }} variant=\"body1\">\n              {id}\n            </Typography>\n          )\n        }\n      </div>\n      {\n        showOptions && (\n          <ClickAwayListener onClickAway={() => setOpenOptions(false)}>\n            <div style={{ zIndex: openOptions ? 2 : 1 }} className={styles.optionsContainer}>\n              <IconButton\n                className={styles.action}\n                onClick={() => setOpenOptions(true)}>\n                <MoreVert />\n              </IconButton>\n              <Collapse in={openOptions}>\n                {options}\n              </Collapse>\n            </div>\n          </ClickAwayListener>\n        )\n      }\n    </div>\n  )\n}\n\nexport default StudentItem;","import { Button, CircularProgress, ClickAwayListener, Collapse, InputAdornment, makeStyles, TextField } from '@material-ui/core';\nimport { KeyboardArrowDown, Search } from '@material-ui/icons';\nimport React, { ChangeEvent, ChangeEventHandler, FormEvent, FormEventHandler, MouseEventHandler, useCallback, useEffect, useState } from 'react';\nimport { createStudentAccount, getAllStudents } from '../utils/api';\nimport { csvToStudentList } from '../utils/helpers';\nimport { Student } from '../utils/types';\nimport StudentItem from './list-item/student';\nimport { addAlert } from '../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    rowGap: 30,\n    alignItems: \"center\",\n    padding: 40,\n  },\n  toolContainer: {\n\t\tposition: \"relative\",\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  searchBar: {\n    width: 400,\n    \"& > div\": {\n      height: 42,\n    },\n    \"& fieldset\": {\n      borderRadius: 20,\n      boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n    },\n  },\n\tactionContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n\tactionContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"stretch\",\n\n\t\t\"& button\": {\n\t\t\tfontWeight: \"bold\",\n\t\t\ttextTransform: \"none\",\n\t\t\t\"& span\": {\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t}\n\t\t}\n\t},\n  listContainer: {\n    width: \"100%\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    rowGap: 25,\n  }\n}))\n\ninterface ConnectedStudentAdminProps {\n}\n\ninterface StudentAdminStateProps {\n\n}\n\ninterface StudentAdminDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface StudentAdminProps extends ConnectedStudentAdminProps, StudentAdminStateProps, StudentAdminDispatchProps {}\n\nconst StudentAdmin: React.FC<StudentAdminProps> = ({\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [studentList, setStudentList] = useState<Student[]>([]);\n  const [shownList, setShownList] = useState<Student[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [searchTimeout, setSearchTimeout] = useState<number>(0);\n\tconst [openAction, setOpenAction] = useState<boolean>(false);\n\n  const searchHandler = (text: string) => (value: Student): boolean => {\n    return value.student_name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n  }\n\n  const handleSearch: ChangeEventHandler = (event: ChangeEvent) => {\n    const searchText = (event.target as HTMLInputElement).value;\n    if (searchTimeout)\n      clearTimeout(searchTimeout);\n    setSearchTimeout(window.setTimeout(() => setShownList(studentList.filter(searchHandler(searchText))), 500));\n  }\n\n  const _getStudents = useCallback(async () => {\n    setLoading(true);\n\n    const res = await getAllStudents();\n    if (res.status === \"OK\") {\n      setStudentList(res.students);\n      setShownList(res.students);\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while getting student list.\");\n    }\n\n    setLoading(false);\n  }, [addAlert]);\n\n  useEffect(() => {\n    _getStudents();\n  }, [_getStudents])\n\n  const handleClickAction: MouseEventHandler = () => {\n\t\tsetOpenAction(prevState => !prevState);\n  }\n\n  const handleUpload: FormEventHandler = async (event: FormEvent) => {\n    const files = (event.target as HTMLInputElement).files;\n    if (files === null || files.length === 0) {\n      addAlert(\"error\", \"File not found.\");\n      return;\n    }\n    const text = await files[0].text();\n    const parsed = csvToStudentList(text);\n    if (typeof parsed === \"string\") {\n      addAlert(\"error\", parsed);\n      return\n    }\n    \n    const payload = parsed.map(student => ({\n      username: student.student_id,\n      password: student.password,\n      classId: student.class_id,\n      name: student.student_name,\n      type: 2, // student\n    }));\n\n    const res = await createStudentAccount({ body: payload });\n    if (res.status === \"OK\" && res.badRequests.length === 0 && res.duplicates.length === 0) {\n      addAlert(\"success\", `Create ${res.successful.length} student accounts successfully!`);\n    }\n    else {\n      addAlert(\"error\", `Only created ${res.successful.length} student accounts, ${res.badRequests.length} have invalid data and ${res.duplicates.length} accounts already exist`, 5000);\n    }\n    setOpenAction(false);\n\n    _getStudents();\n  }\n\n  return (\n    <section className={styles.container}>\n      <div className={styles.content}>\n        <div className={styles.toolContainer}>\n          <TextField\n            variant=\"outlined\"\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Search />\n                </InputAdornment>\n              )\n            }}\n            placeholder=\"Search\"\n            className={styles.searchBar}\n          />\n\t\t\t\t\t<ClickAwayListener onClickAway={() => setOpenAction(false)}>\n\t\t\t\t\t\t<div className={styles.actionContainer}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={handleClickAction}\n\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\", \n\t\t\t\t\t\t\t\t\tborderRadius: 10, \n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAction\n\t\t\t\t\t\t\t\t<KeyboardArrowDown \n\t\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\t\ttransform: `rotate(${openAction ? \"180\" : \"0\"}deg)`,\n\t\t\t\t\t\t\t\t\t\ttransition: \"transform .2s ease-in-out\",\n\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Collapse in={openAction}>\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n                      component=\"label\"\n                      style={{ textTransform: \"none\" }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tImport via csv\n                      <input\n                        type=\"file\"\n                        onInput={handleUpload}\n                        hidden\n                      />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t{/* <Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setOpenManualAdd(true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd manually\n\t\t\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ClickAwayListener>\n        </div>\n        <div className={styles.listContainer}>\n          {\n            loading ? (\n              <CircularProgress color=\"secondary\" />\n            ) : shownList.map((student, ind) => (\n              <StudentItem\n                key={ind}\n                name={student.student_name}\n                id={student.student_id}\n                showChecked={false}\n                options={(\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMore details\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n              />\n            ))\n          }\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst ConnectedStudentAdmin: React.FC<ConnectedStudentAdminProps> = connect(null, { addAlert })(StudentAdmin);\n\nexport default ConnectedStudentAdmin;","import { makeStyles } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport BackgroundGradient from \"../components/BackgroundGradient\";\nimport CourseAdmin from \"../components/CourseAdmin\";\nimport HeaderAdmin from \"../components/HeaderAdmin\";\nimport LecturerAdmin from \"../components/LecturerAdmin\";\nimport StudentAdmin from \"../components/StudentAdmin\";\n\nconst useStyles = makeStyles({\n  body: {\n    position: \"relative\",\n    top: 40,\n  },\n});\n\ninterface RandomScreenProps {\n  children: JSX.Element,\n  value: any; // 0: Course    1: Lecturer     2: Student\n  index: any;\n}\nconst RandomScreen: React.FC<RandomScreenProps> = (props: RandomScreenProps) => {\n  if (props.index === props.value) {\n    return props.children;\n  }\n  else {\n    return <></>\n  }\n}\n\nconst HomeScreen = () => {\n  const classes = useStyles();\n  //  0: Course    1: Lecturer     2: Student\n  const [tabValue, setTabValue] = useState(0);\n  const handleChangeTab = function (value: number) {\n    setTabValue(value);\n  };\n\n  return (\n    <div>\n      <BackgroundGradient />\n      <HeaderAdmin currentTab=\"course\" onChangeTab={handleChangeTab} />\n      <div className={classes.body}>\n        <RandomScreen value={tabValue} index={0}>\n          <div style={{ padding: \"35px 75px\" }}>\n            <CourseAdmin />\n          </div>\n        </RandomScreen>\n        <RandomScreen value={tabValue} index={1}>\n          <div style={{ padding: \"35px 75px\" }}>\n            <LecturerAdmin />\n          </div>\n        </RandomScreen>\n        <RandomScreen value={tabValue} index={2}>\n          <div style={{ padding: \"35px 75px\" }}>\n            <StudentAdmin />\n          </div>\n        </RandomScreen>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeScreen;\n","import { FormControl, makeStyles, OutlinedInputProps, TextField } from '@material-ui/core';\nimport React, { ChangeEventHandler, CSSProperties } from 'react';\n\nconst useInputStyles = makeStyles(theme => ({\n  formControl: {\n    \"& fieldset\": {\n      borderRadius: 20,\n    },\n  }\n}))\n\ninterface InputProps {\n  title: string,\n  id: string,\n  value: string,\n  placeholder?: string,\n  onChange: ChangeEventHandler,\n  type?: string,\n  InputProps?: OutlinedInputProps,\n  style?: CSSProperties,\n  formControlStyle?: CSSProperties,\n}\n\nconst Input: React.FC<InputProps> = ({\n  title,\n  id,\n  value,\n  placeholder = \"\",\n  onChange,\n  type = \"text\",\n  InputProps,\n  style = {},\n  formControlStyle = {}\n}) => {\n  const styles = useInputStyles();\n\n  return (\n    <FormControl style={formControlStyle} className={styles.formControl}>\n      <TextField\n        style={style}\n        id={id}\n        label={title}\n        value={value}\n        placeholder={placeholder}\n        onChange={onChange}\n        type={type}\n        variant=\"outlined\"\n        color=\"secondary\"\n        InputProps={InputProps}\n      />\n    </FormControl>\n  )\n}\n\nexport default Input;","import\nReact,\n{\n  ChangeEvent,\n  ChangeEventHandler,\n  FormEvent,\n  FormEventHandler,\n  MouseEventHandler,\n  useEffect,\n  useState\n}\nfrom 'react';\nimport {\n  makeStyles,\n  Typography,\n  InputAdornment,\n  IconButton,\n  Button,\n  Link,\n} from '@material-ui/core';\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\nimport { LoginPayload, login } from '../../utils/api';\nimport { connect } from 'react-redux';\nimport { AuthProps, saveAuth } from '../../reducers/auth';\nimport { addAlert } from '../../reducers/alert';\nimport { RootStateProps } from '../../reducers';\nimport history from '../../utils/history';\nimport Input from '../../components/Input';\n\nconst useStyles = makeStyles(theme => ({\n  loginContainer: {\n    width: \"100vw\",\n    height: \"100vh\",\n    background: \"linear-gradient(116.83deg, #4A93FA -12.24%, #99F9FF 108.01%)\",\n    position: \"relative\",\n  },\n  content: {\n    width: \"100%\",\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translateY(-50%)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n  },\n  intro: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  formContainer: {\n    width: 400,\n    height: 500,\n    marginRight: 30,\n    background: theme.palette.background.paper,\n    borderRadius: 30,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n  },\n  form: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n  },\n  formContent: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    rowGap: 55,\n  },\n  submit: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    rowGap: 24,\n  },\n  button: {\n    width: 250,\n    height: 45,\n    borderRadius: 20,\n    textDecoration: \"none\",\n    fontWeight: \"bold\",\n  },\n}));\n\ninterface ConnectedLoginProps {\n\n}\ninterface LoginProps extends LoginStateProps, LoginDispatchProps, ConnectedLoginProps {};\n\ninterface LoginStateProps {\n  auth: AuthProps,\n}\n\ninterface LoginDispatchProps {\n  saveAuth: typeof saveAuth,\n  addAlert: (type: \"success\" | \"error\", message: string) => void,\n}\n\nconst Login: React.FC<LoginProps> = ({\n  auth,\n  saveAuth,\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleChangeUsername: ChangeEventHandler = (e: ChangeEvent) => {\n    const target = e.target as HTMLInputElement;\n    setUsername(target.value);\n  }\n\n  const handleChangePassword: ChangeEventHandler = (e: ChangeEvent) => {\n    const target = e.target as HTMLInputElement;\n    setPassword(target.value);\n  }\n\n  const toggleShowPassword: MouseEventHandler = () => {\n    setShowPassword(prevValue => !prevValue);\n  }\n\n  const handleSubmit: FormEventHandler<HTMLFormElement> = async (e: FormEvent) => {\n    e.preventDefault();\n    const payload: LoginPayload = {\n      username,\n      password,\n    }\n\n    const res = await login(payload);\n    if (res.status === \"OK\") {\n      window.localStorage.setItem(\"access_token\", res.token);\n      saveAuth(res.token, username);\n      history.push(\"/\");\n      addAlert(\"success\", \"Log in successfully!\");\n    }\n  }\n\n  useEffect(() => {\n    if (auth.token !== \"\") {\n      history.push(\"/\");\n      addAlert(\"error\", \"You have already logged in.\");\n    }\n  }, [auth, addAlert]);\n\n  return (\n    <div className={styles.loginContainer}>\n      <div className={styles.content}>\n        <section className={styles.intro}>\n          <Typography style={{ fontWeight: \"bold\", fontSize: 70 }} variant=\"h1\" color=\"primary\">\n            TESTING<br></br>\n            MADE EASY\n          </Typography>\n          <span>\n            <Typography variant=\"h2\" component=\"span\" color=\"primary\">\n              WITH\n            </Typography>\n            <Typography style={{ marginLeft: 10, fontWeight: \"bold\" }} variant=\"h2\" component=\"span\" color=\"secondary\">\n              EAZYLEARN\n            </Typography>\n          </span>\n        </section>\n        <section className={styles.formContainer}>\n          <form className={styles.form} onSubmit={handleSubmit}>\n            <Typography variant=\"h4\" color=\"secondary\">LOGIN</Typography>\n            <div className={styles.formContent}>\n              <Input\n                title=\"Username\"\n                id=\"username\"\n                value={username}\n                placeholder=\"Input your username here\"\n                onChange={(e: ChangeEvent) => handleChangeUsername(e)}\n                formControlStyle={{ width: \"80%\" }}\n              />\n              <Input\n                title=\"Password\"\n                id=\"password\"\n                type={showPassword ? \"text\" : \"password\"}\n                value={password}\n                placeholder=\"Input your password here\"\n                onChange={(e: ChangeEvent) => handleChangePassword(e)}\n                formControlStyle={{ width: \"80%\" }}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        onClick={toggleShowPassword}\n                        edge=\"end\"\n                      >\n                        { showPassword ? <Visibility /> : <VisibilityOff /> }\n                      </IconButton>\n                    </InputAdornment>\n                  )\n                }}\n              />\n            </div>\n            <div className={styles.submit}>\n              <Button\n                className={styles.button}\n                variant=\"contained\"\n                color=\"secondary\"\n                type=\"submit\"\n              >\n                Submit\n              </Button>\n              <Link href=\"/forgot-password\" color=\"secondary\">\n                Forgot password?\n              </Link>\n            </div>\n          </form>\n        </section>\n      </div>\n    </div>\n  )\n}\n\nconst ConnectedLogin: React.FC<ConnectedLoginProps> = connect((state: RootStateProps) => ({ auth: state.auth }), { saveAuth, addAlert })(Login);\n\nexport default ConnectedLogin;","import React, { useEffect, useState } from 'react';\n\ninterface ForgotPasswordProps {\n\n}\n\nconst ForgotPassword: React.FC<ForgotPasswordProps> = () => {\n  \n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    const contents = [\n      \"Li4uLi4uLi4uLi4uLi4uLi4uLi4uLi8nPy8pIA==\",\n      \"Li4uLi4uLi4uLi4uLi4uLi4uLi4sLz8uLi8g\",\n      \"Li4uLi4uLi4uLi4uLi4uLi4uLi8uLi4uLyA=\",\n      \"Li4uLi4uLi4uLi4uLi8nPy8nLi4uJy8nPz9gLiwg\",\n      \"Li4uLi4uLi4uLi8nLy4uLi8uLi4uLy4uLi4uLi4vPz9cIA==\",\n      \"Li4uLi4uLi4oJyhVIFIgVEhFIEFETUlOIExPTC4uLicpIA==\",\n      \"Li4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uLi4uJy4uLi4uLyA=\",\n      \"Li4uLi4uLi4uLicnLkRPIFNPTUVUSElORy4gXy4uJyA=\",\n      \"Li4uLi4uLi4uLi4uXC4uLi4uLi4uLi4uLi4uKCA=\",\n      \"Li4uLi4uLi4uLi4uLi5cLi4uLi4uLi4uLi4uLlwuLi4=\",\n    ]\n\n    const show = (ind: number, contents: Array<string>) => {\n      if (ind >= contents.length) {\n        return;\n      }\n      setContent(prevValue => prevValue + \"\\n\" + atob(contents[ind]));\n      setTimeout(() => show(ind + 1, contents), 500);\n    };\n    show(0, contents);\n  }, [])\n\n  return (\n    <pre>\n      {content}\n    </pre>\n  )\n}\n\nexport default ForgotPassword;","import { InputAdornment, makeStyles, TextField, Typography, Button, Modal, Backdrop, Slide, CircularProgress } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\nimport React, { ChangeEvent, ChangeEventHandler, useEffect, useState } from 'react';\nimport { CheckStudent } from '../screens/course-config/StudentList';\nimport { assignStudents, getAllStudents } from '../utils/api';\nimport { CourseStudent } from '../utils/types';\nimport StudentItem from './list-item/student';\nimport { addAlert } from '../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  container: {\n    width: 960,\n    height: 630,\n    maxHeight: \"90vh\",\n    maxWidth: \"90vw\",\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"27px 40px 40px 40px\",\n    background: theme.palette.background.paper,\n  },\n  header: {\n    width: \"100%\",\n    textAlign: \"left\",\n    fontWeight: \"bold\",\n  },\n\ttoolContainer: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmargin: \"30px 0px\",\n\t},\n\tsearchBar: {\n\t\twidth: 400,\n\t\t\"& > div\": {\n\t\t\theight: 42,\n\t\t},\n\t\t\"& fieldset\": {\n\t\t\tborderRadius: 20,\n\t\t\tboxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n\t\t},\n\t},\n  buttons: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    columnGap: 10,\n\n    \"& button\": {\n      boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n      borderRadius: 10,\n      fontWeight: \"bold\",\n      textTransform: \"none\",\n    },\n  },\n\tlistContainer: {\n\t\twidth: \"100%\",\n\t},\n}));\n\ninterface ConnectedAddStudentProps {\n  open: boolean,\n  handleClose: () => void,\n  exclude: string[],\n  courseID: string,\n  reload: () => void,\n}\n\ninterface AddStudentStateProps {\n\n}\n\ninterface AddStudentDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface AddStudentProps extends ConnectedAddStudentProps, AddStudentStateProps, AddStudentDispatchProps {}\n\nconst AddStudent: React.FC<AddStudentProps> = ({\n  open,\n  handleClose,\n  exclude = [],\n  courseID,\n  reload,\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [studentList, setStudentList] = useState<CourseStudent[]>([]);\n  const [shownList, setShownList] = useState<CheckStudent[]>([]);\n  const [searchTimeout, setSearchTimeout] = useState<number>(0);\n  const [, setSeed] = useState<number>(0);\n\n  const forceUpdate = () => setSeed(Math.random());\n\n  useEffect(() => {\n    const _getStudents = async () => {\n      setLoading(true);\n\n      const res = await getAllStudents();\n      if (res.status === \"OK\") {\n        setStudentList(res.students\n          .filter(s => exclude.indexOf(s.student_id) === -1)\n          .map(s => ({ ...s, status: 0 }))\n        );\n        setShownList(res.students\n          .filter(s => exclude.indexOf(s.student_id) === -1)\n          .map(s => ({ ...s, checked: false, status: 0 }))\n        );\n      }\n      else {\n        addAlert(\"error\", \"Error occurred while getting student list.\");\n      }\n\n      setLoading(false);\n    }\n\n    _getStudents();\n  }, [exclude, addAlert])\n\n\tconst searchHandler = (text: string) => (student: CourseStudent): boolean => {\n\t\treturn student.student_name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n\t}\n\n  const handleSearch: ChangeEventHandler = (event: ChangeEvent) => {\n\t\tconst searchText = (event.target as HTMLInputElement).value;\n    if (searchTimeout)\n      clearTimeout(searchTimeout);\n    setSearchTimeout(window.setTimeout(() => {\n      setShownList(studentList\n        .filter(searchHandler(searchText))\n        .map(s => ({ ...s, checked: false }))\n      );\n    }, 500));\n  }\n\n  const handleAdd = async () => {\n    const payload = shownList.filter(s => s.checked).map(s => ({\n      studentID: s.student_id,\n      courseID,\n    }))\n    const res = await assignStudents({ body: payload });\n    if (res.status === \"OK\") {\n      reload();\n      handleClose();\n      addAlert(\"success\", \"Add students to course successfully!\");\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while adding students to course.\");\n    }\n  }\n\n  const handleCheckStudent = (id: string): ChangeEventHandler => (event: ChangeEvent): void => {\n    const pos = shownList.findIndex(s => s.student_id === id);\n    // takes the 2nd click to check, fix TODO\n    shownList[pos].checked = (event.target as HTMLInputElement).checked;\n    forceUpdate();\n  }\n\n  return (\n    <Modal\n      BackdropComponent={Backdrop}\n      open={open}\n      className={styles.modal}\n    >\n      <Slide\n        direction=\"up\"\n        in={open}\n      >\n        <section className={styles.container}>\n          <Typography className={styles.header} variant=\"h4\" color=\"initial\">\n            Add students manually from database\n          </Typography>\n          <div className={styles.toolContainer}>\n            <TextField\n              variant=\"outlined\"\n              onChange={handleSearch}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search />\n                  </InputAdornment>\n                )\n              }}\n              placeholder=\"Search\"\n              className={styles.searchBar}\n            />\n            <div className={styles.buttons}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleClose}\n              >\n                Discard\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleAdd}\n              >\n                Add to course\n              </Button>\n            </div>\n          </div>\n          <div className={styles.listContainer}>\n            {\n              loading \n              ? (<CircularProgress color=\"secondary\" />)\n              : shownList\n                .map((student, ind: number) => (\n                <StudentItem\n                  key={ind}\n                  name={student.student_name}\n                  id={student.student_id}\n                  checked={student.checked}\n                  onChange={handleCheckStudent(student.student_id)}\n                  showOptions={false}\n                />\n              ))\n            }\n          </div>\n        </section>\n      </Slide>\n    </Modal>\n  )\n}\n\nconst ConnectedAddStudent: React.FC<ConnectedAddStudentProps> = connect(null, { addAlert })(AddStudent);\n\nexport default ConnectedAddStudent;","import React, { ChangeEvent, ChangeEventHandler, MouseEventHandler, useEffect, useState } from 'react';\nimport { Button, Checkbox, ClickAwayListener, Collapse, InputAdornment, makeStyles, TextField, Typography } from \"@material-ui/core\";\nimport { CourseStudent } from '../../utils/types';\nimport { KeyboardArrowDown, Search } from '@material-ui/icons';\nimport StudentItem from '../../components/list-item/student';\nimport AddStudent from '../../components/AddStudent';\nimport { approveStudents, removeStudents } from '../../utils/api';\nimport { connect } from 'react-redux';\nimport { addAlert } from '../../reducers/alert';\n\nconst useStudentListStyle = makeStyles(theme => ({\n\tcontainer: {\n\t\twidth: \"100%\",\n\t\tbackground: theme.palette.background.paper,\n\t\tboxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n\t\tborderRadius: 20,\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tpadding: 40,\n\t},\n\ttoolContainer: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmargin: \"30px 0px\",\n\t},\n\tsearchBar: {\n\t\twidth: 400,\n\t\t\"& > div\": {\n\t\t\theight: 42,\n\t\t},\n\t\t\"& fieldset\": {\n\t\t\tborderRadius: 20,\n\t\t\tboxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n\t\t},\n\t},\n\tlistContainer: {\n\t\twidth: \"100%\",\n\t},\n\tactionContainer: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tright: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t},\n\tactionContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"stretch\",\n\n\t\t\"& button\": {\n\t\t\tfontWeight: \"bold\",\n\t\t\ttextTransform: \"none\",\n\t\t\t\"& span\": {\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t}\n\t\t}\n\t},\n\tcheckActionContainer: {\n\t\twidth: \"100%\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tmargin: \"10px 0px\",\n\t},\n\tcheckBoxContainer: {\n\t\tpaddingLeft: 6,\n\t\tdisplay: \"inline-flex\",\n\t\trowGap: 10,\n\t\talignItems: \"center\"\n\t},\n\tcheckActionButton: {\n\t\ttextTransform: \"none\",\n\t\tfontWeight: \"bold\",\n\t\tborderRadius: 30,\n\t},\n}))\n\nexport interface CheckStudent extends CourseStudent {\n\tchecked: boolean,\n}\n\ninterface ConnectedStudentListProps {\n\treload: () => void,\n\tstudentList: Array<CourseStudent>,\n\tcourseID: string\n}\n\ninterface StudentListStateProps {\n\n}\n\ninterface StudentListDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface StudentListProps extends ConnectedStudentListProps, StudentListStateProps, StudentListDispatchProps {}\n\nconst StudentList: React.FC<StudentListProps> = ({\n\treload,\n\tstudentList,\n\tcourseID,\n\taddAlert\n}) => {\n\tconst styles = useStudentListStyle();\n\tconst [searchTimeout, setSearchTimeout] = useState<number>(0);\n\tconst [openAction, setOpenAction] = useState<boolean>(false);\n\tconst [openManualAdd, setOpenManualAdd] = useState<boolean>(false);\n\tconst [pendingStudents, setPendingStudents] = useState<CheckStudent[]>([]);\n\tconst [approvedStudents, setApprovedStudents] = useState<CheckStudent[]>([]);\n\n\tconst [, setSeed] = useState<number>(0);\n\n\tconst forceUpdate = () => setSeed(Math.random());\n\n\tconst handleClickAction: MouseEventHandler = () => {\n\t\tsetOpenAction(prevState => !prevState);\n\t}\n\n\tconst handleCheckStudent = (id: string): ChangeEventHandler => (event: ChangeEvent): void => {\n\t\tconst posPending = pendingStudents.findIndex(s => s.student_id === id);\n\t\tconst posApproved = approvedStudents.findIndex(s => s.student_id === id);\n\t\tif (posPending !== -1) {\n\t\t\tpendingStudents[posPending].checked = (event.target as HTMLInputElement).checked;\n\t\t}\n\t\telse if (posApproved !== -1) {\n\t\t\tapprovedStudents[posApproved].checked = (event.target as HTMLInputElement).checked;\n\t\t}\n\n\t\t// For the greater cause\n\t\tforceUpdate();\n\t}\n\n\tconst handleCheckAll = (status: \"approved\" | \"pending\"): ChangeEventHandler => (event: ChangeEvent) => {\n\t\tif (status === \"approved\") {\n\t\t\tsetApprovedStudents(prevState => prevState.map(s => ({ ...s, checked: (event.target as HTMLInputElement).checked })));\n\t\t}\n\t\telse {\n\t\t\tsetPendingStudents(prevState => prevState.map(s => ({ ...s, checked: (event.target as HTMLInputElement).checked })));\n\t\t}\n\t}\n\n\tconst searchHandler = (text: string) => (student: CourseStudent): boolean => {\n\t\treturn student.student_name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n\t}\n\n\tconst handleApprove = async (students: CheckStudent[]) => {\n\t\tconst payload = students.map(s => ({\n\t\t\tstudentID: s.student_id,\n\t\t\tcourseID,\n\t\t}));\n\n\t\tconst res = await approveStudents({ body: payload });\n\t\tif (res.status === \"OK\") {\n\t\t\taddAlert(\"success\", \"Approve students successfully!\");\n\t\t\treload()\n\t\t}\n\t\telse {\n\t\t\taddAlert(\"error\", \"Error occurred while approving students.\");\n\t\t}\n\t}\n\n\tconst handleRemove = async (student: CheckStudent) => {\n\t\tconst payload = [{\n\t\t\tstudentID: student.student_id,\n\t\t\tcourseID,\n\t\t}]\n\n\t\tconst res = await removeStudents({ body: payload });\n\t\tif (res.status === \"OK\") {\n\t\t\taddAlert(\"success\", \"Remove students successfully!\");\n\t\t\treload()\n\t\t}\n\t\telse {\n\t\t\taddAlert(\"error\", \"Error occurred while removing students.\");\n\t\t}\n\t}\n\n\tconst handleSearch: ChangeEventHandler = (event: ChangeEvent): void => {\n\t\tconst searchText = (event.target as HTMLInputElement).value;\n\t\tif (searchTimeout)\n\t\t\tclearTimeout(searchTimeout);\n\t\tsetSearchTimeout(window.setTimeout(() => {\n\t\t\tconst newList = studentList.filter(searchHandler(searchText));\n\t\t\tsetPendingStudents(newList\n\t\t\t\t.filter(s => s.status === 0)\n\t\t\t\t.map(s => ({ ...s, checked: false }))\n\t\t\t);\n\t\t\tsetApprovedStudents(newList\n\t\t\t\t.filter(s => s.status === 1)\n\t\t\t\t.map(s => ({ ...s, checked: false }))\n\t\t\t);\n\t\t}, 500));\n\t}\n\n\tuseEffect(() => {\n\t\tsetPendingStudents(studentList\n\t\t\t.filter(s => s.status === 0)\n\t\t\t.map(s => ({ ...s, checked: false }))\n\t\t);\n\t\tsetApprovedStudents(studentList\n\t\t\t.filter(s => s.status === 1)\n\t\t\t.map(s => ({ ...s, checked: false }))\n\t\t);\n\t}, [studentList]);\n\n\treturn (\n\t\t<section className={styles.container}>\n\t\t\t<AddStudent\n\t\t\t\topen={openManualAdd}\n\t\t\t\thandleClose={() => setOpenManualAdd(false)}\n\t\t\t\texclude={studentList.map(s => s.student_id)}\n\t\t\t\tcourseID={courseID}\n\t\t\t\treload={reload}\n\t\t\t/>\n\t\t\t<div className={styles.content}>\n\t\t\t\t<Typography style={{ fontWeight: \"bold\", width: \"100%\" }} variant=\"h5\" color=\"initial\">\n\t\t\t\t\tStudents\n\t\t\t\t</Typography>\n\t\t\t\t<div className={styles.toolContainer}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\tclassName={styles.searchBar}\n\t\t\t\t\t/>\n\t\t\t\t\t<ClickAwayListener onClickAway={() => setOpenAction(false)}>\n\t\t\t\t\t\t<div className={styles.actionContainer}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={handleClickAction}\n\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\tfontWeight: \"bold\", \n\t\t\t\t\t\t\t\t\tborderRadius: 10, \n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAction\n\t\t\t\t\t\t\t\t<KeyboardArrowDown \n\t\t\t\t\t\t\t\t\tstyle={{ \n\t\t\t\t\t\t\t\t\t\ttransform: `rotate(${openAction ? \"180\" : \"0\"}deg)`,\n\t\t\t\t\t\t\t\t\t\ttransition: \"transform .2s ease-in-out\",\n\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Collapse in={openAction}>\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t{/* <Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t// onClick={} TODO\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tImport via csv\n\t\t\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setOpenManualAdd(true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd manually\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.listContainer}>\n\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"h6\" color=\"initial\">\n\t\t\t\t\t\tPending requests\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={styles.checkActionContainer}>\n\t\t\t\t\t\t<div className={styles.checkBoxContainer}>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tpendingStudents.length > 0 && \n\t\t\t\t\t\t\t\t\tpendingStudents.reduce((cur: boolean, s) => cur && s.checked, true)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonChange={handleCheckAll(\"pending\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n\t\t\t\t\t\t\t\tSelect all\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.checkActionButton}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisabled={pendingStudents.length === 0}\n\t\t\t\t\t\t\tonClick={() => handleApprove(pendingStudents)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tApprove all\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.checkActionButton}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisabled={pendingStudents.filter(s => s.checked).length === 0}\n\t\t\t\t\t\t\tonClick={() => handleApprove(pendingStudents.filter(s => s.checked))}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tApprove selected\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n\t\t\t\t\t\t\tCount: {pendingStudents.length}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tpendingStudents.map((student: CheckStudent, ind) => (\n\t\t\t\t\t\t\t<StudentItem\n\t\t\t\t\t\t\t\tkey={ind}\n\t\t\t\t\t\t\t\tname={student.student_name}\n\t\t\t\t\t\t\t\tstatus={student.status}\n\t\t\t\t\t\t\t\tchecked={student.checked}\n\t\t\t\t\t\t\t\tonChange={handleCheckStudent(student.student_id)}\n\t\t\t\t\t\t\t\toptions={(\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleApprove([student])}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(student)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRemove from course\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMore details\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div style={{ marginTop: 30 }} className={styles.listContainer}>\n\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"h6\" color=\"initial\">\n\t\t\t\t\t\tEnrolling students\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={styles.checkActionContainer}>\n\t\t\t\t\t\t<div className={styles.checkBoxContainer}>\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tapprovedStudents.length > 0 && \n\t\t\t\t\t\t\t\t\tapprovedStudents.reduce((cur: boolean, s) => cur && s.checked, true)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tonChange={handleCheckAll(\"approved\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n\t\t\t\t\t\t\t\tSelect all\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n\t\t\t\t\t\t\tCount: {approvedStudents.length}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tapprovedStudents.map((student: CheckStudent, ind) => (\n\t\t\t\t\t\t\t<StudentItem\n\t\t\t\t\t\t\t\tkey={ind}\n\t\t\t\t\t\t\t\tname={student.student_name}\n\t\t\t\t\t\t\t\tstatus={student.status}\n\t\t\t\t\t\t\t\tchecked={student.checked}\n\t\t\t\t\t\t\t\tonChange={handleCheckStudent(student.student_id)}\n\t\t\t\t\t\t\t\toptions={(\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(student)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRemove from course\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMore details\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nconst ConnectedStudentList: React.FC<ConnectedStudentListProps> = connect(null, { addAlert })(StudentList);\n\nexport default ConnectedStudentList;","import { InputAdornment, makeStyles, TextField, Typography, Button, Modal, Backdrop, Slide, CircularProgress } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\nimport React, { ChangeEvent, ChangeEventHandler, MouseEventHandler, useEffect, useState } from 'react';\nimport { assignLecturers, getAllLecturers } from '../utils/api';\nimport { CourseLecturer } from '../utils/types';\nimport LecturerItem from './list-item/lecturer';\nimport { addAlert } from '../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  container: {\n    width: 960,\n    height: 630,\n    maxHeight: \"90vh\",\n    maxWidth: \"90vw\",\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"27px 40px 40px 40px\",\n    background: theme.palette.background.paper,\n  },\n  header: {\n    width: \"100%\",\n    textAlign: \"left\",\n    fontWeight: \"bold\",\n  },\n\ttoolContainer: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmargin: \"30px 0px\",\n\t},\n\tsearchBar: {\n\t\twidth: 400,\n\t\t\"& > div\": {\n\t\t\theight: 42,\n\t\t},\n\t\t\"& fieldset\": {\n\t\t\tborderRadius: 20,\n\t\t\tboxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n\t\t},\n\t},\n  buttons: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    columnGap: 10,\n\n    \"& button\": {\n      boxShadow: \"0px 3px 3px rgba(49, 133, 252, 0.24)\",\n      borderRadius: 10,\n      fontWeight: \"bold\",\n      textTransform: \"none\",\n    },\n  },\n\tlistContainer: {\n\t\twidth: \"100%\",\n\t},\n}));interface ConnectedAddLecturerProps {\n  open: boolean,\n  handleClose: () => void,\n  exclude: string[],\n  courseID: string,\n  reload: () => void,\n}\n\ninterface AddLecturerStateProps {\n\n}\n\ninterface AddLecturerDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface AddLecturerProps extends ConnectedAddLecturerProps, AddLecturerStateProps, AddLecturerDispatchProps {}\n\ninterface CheckLecturer extends CourseLecturer {\n  checked: boolean\n}\n\nconst AddLecturer: React.FC<AddLecturerProps> = ({\n  open,\n  handleClose,\n  exclude = [],\n  courseID,\n  reload,\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [lecturerList, setLecturerList] = useState<CourseLecturer[]>([]);\n  const [shownList, setShownList] = useState<CheckLecturer[]>([]);\n  const [searchTimeout, setSearchTimeout] = useState<number>(0);\n  const [, setSeed] = useState<number>(0);\n\n  const forceUpdate = () => setSeed(Math.random());\n\n  useEffect(() => {\n    const _getLecturers = async () => {\n      setLoading(true);\n\n      const res = await getAllLecturers();\n      if (res.status === \"OK\") {\n        setLecturerList(res.lecturers\n          .filter(l => exclude.indexOf(l.lecturer_id) === -1)\n          .map(l => ({ ...l, status: 0 }))\n        );\n        setShownList(res.lecturers\n          .filter(l => exclude.indexOf(l.lecturer_id) === -1)\n          .map(l => ({ ...l, checked: false, status: 0 }))\n        );\n      }\n      else {\n        addAlert(\"error\", \"Error occurred while getting lecturer list.\");\n      }\n\n      setLoading(false);\n    }\n\n    _getLecturers();\n  }, [exclude, addAlert])\n\n  const searchHandler = (text: string) => (lecturer: CourseLecturer): boolean => {\n    return lecturer.lecturer_name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n  }\n\n  const handleSearch: ChangeEventHandler = (event: ChangeEvent) => {\n\t\tconst searchText = (event.target as HTMLInputElement).value;\n    if (searchTimeout)\n      clearTimeout(searchTimeout);\n    setSearchTimeout(window.setTimeout(() => {\n      setShownList(lecturerList\n        .filter(searchHandler(searchText))\n        .map(l => ({ ...l, checked: false }))\n      );\n    }, 500));\n  }\n\n  const handleAdd: MouseEventHandler = async () => {\n    const payload = shownList.filter(s => s.checked).map(s => ({\n      lecturerID: s.lecturer_id,\n      courseID,\n    }));\n\n    const res = await assignLecturers({ body: payload });\n    if (res.status === \"OK\") {\n      reload()\n      handleClose();\n      addAlert(\"success\", \"Add lecturers to course successfully!\");\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while adding lecturers to course.\");\n    }\n  }\n\n  const handleCheckLecturer = (id: string): ChangeEventHandler => (event: ChangeEvent): void => {\n    const pos = shownList.findIndex(s => s.lecturer_id === id);\n    // takes the 2nd click to check, fix TODO\n    shownList[pos].checked = (event.target as HTMLInputElement).checked;\n    forceUpdate();\n  }\n\n  return (\n    <Modal\n      BackdropComponent={Backdrop}\n      open={open}\n      className={styles.modal}\n    >\n      <Slide\n        direction=\"up\"\n        in={open}\n      >\n\n        <section className={styles.container}>\n          <Typography className={styles.header} variant=\"h4\" color=\"initial\">\n            Add lecturers manually from database\n          </Typography>\n          <div className={styles.toolContainer}>\n            <TextField\n              variant=\"outlined\"\n              onChange={handleSearch}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search />\n                  </InputAdornment>\n                )\n              }}\n              placeholder=\"Search\"\n              className={styles.searchBar}\n            />\n            <div className={styles.buttons}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleClose}\n              >\n                Discard\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleAdd}\n              >\n                Add to course\n              </Button>\n            </div>\n          </div>\n          <div className={styles.listContainer}>\n            {\n              loading \n              ? (<CircularProgress color=\"secondary\" />)\n              : shownList\n                .map((lecturer, ind: number) => (\n                <LecturerItem\n                  key={ind}\n                  name={lecturer.lecturer_name}\n                  checked={lecturer.checked}\n                  onChange={handleCheckLecturer(lecturer.lecturer_id)}\n                  showChecked\n                  showOptions={false}\n                />\n              ))\n            }\n          </div>\n        </section>\n      </Slide>\n    </Modal>\n  )\n}\n\nconst ConnectedAddLecturer: React.FC<ConnectedAddLecturerProps> = connect(null, { addAlert })(AddLecturer);\n\nexport default ConnectedAddLecturer;","import { Button, makeStyles, Typography } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport AddLecturer from '../../components/AddLecturer';\nimport LecturerItem from '../../components/list-item/lecturer';\nimport { removeLecturers } from '../../utils/api';\nimport { CourseLecturer } from '../../utils/types';\nimport { connect } from 'react-redux';\nimport { addAlert } from '../../reducers/alert';\n\nconst useLecturerListStyle = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 40,\n  },\n  header: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: 30,\n  },\n  addButton: {\n    height: 32,\n    width: 32,\n    borderRadius: 16,\n    minWidth: 32,\n  },\n  listContainer: {\n    width: \"100%\",\n  },\n\tactionContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"stretch\",\n\n\t\t\"& button\": {\n\t\t\tfontWeight: \"bold\",\n\t\t\ttextTransform: \"none\",\n\t\t\t\"& span\": {\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t}\n\t\t}\n\t},\n}))\n\ninterface ConnectedLecturerListProps {\n  reload: () => void,\n  lecturerList: Array<CourseLecturer>,\n  courseID: string,\n}\n\ninterface LecturerListStateProps {\n\n}\n\ninterface LecturerListDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface LecturerListProps extends ConnectedLecturerListProps, LecturerListStateProps, LecturerListDispatchProps {}\n\nconst LecturerList: React.FC<LecturerListProps> = ({\n  reload,\n  lecturerList,\n  courseID,\n  addAlert\n}) => {\n  const styles = useLecturerListStyle();\n\n\tconst [openManualAdd, setOpenManualAdd] = useState<boolean>(false);\n\n  const handleRemove = async (id: string) => {\n\t\tconst payload = [{\n\t\t\tlecturerID: id,\n\t\t\tcourseID,\n\t\t}]\n\n\t\tconst res = await removeLecturers({ body: payload });\n\t\tif (res.status === \"OK\") {\n\t\t\treload()\n\t\t\taddAlert(\"success\", \"Remove lecturers successfully!\");\n\t\t}\n\t\telse {\n\t\t\taddAlert(\"error\", \"Error occurred while removing students.\");\n\t\t}\n  }\n\n  return (\n    <section className={styles.container}>\n      <AddLecturer\n        open={openManualAdd}\n        handleClose={() => setOpenManualAdd(false)}\n        exclude={lecturerList.map(l => l.lecturer_id)}\n        courseID={courseID}\n        reload={reload}\n      />\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <Typography style={{ fontWeight: \"bold\", width: \"100%\" }} variant=\"h5\" color=\"initial\">\n            Lecturers\n          </Typography>\n          <Button\n            className={styles.addButton}\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={() => setOpenManualAdd(true)}\n          >\n            <Add />\n          </Button>\n        </div>\n        <div className={styles.listContainer}>\n          {\n            lecturerList.map((lecturer, ind) => (\n              <LecturerItem\n                key={ind}\n                name={lecturer.lecturer_name}\n                options={(\n\t\t\t\t\t\t\t\t\t<div className={styles.actionContent}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(lecturer.lecturer_id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRemove from course\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMore details\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n              />\n            ))\n          }\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst ConnectedLecturerList: React.FC<ConnectedLecturerListProps> = connect(null, { addAlert })(LecturerList);\n\nexport default ConnectedLecturerList;","import { Backdrop, Button, CircularProgress, ClickAwayListener, makeStyles, Modal, Slide, Typography } from '@material-ui/core';\nimport React, { MouseEventHandler, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteCourse } from '../../utils/api';\nimport history from '../../utils/history';\nimport { addAlert } from '../../reducers/alert';\n\nconst useSettingsPanelStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  container: {\n    background: theme.palette.background.paper,\n    width: 400,\n    height: 220,\n    padding: 30,\n    borderRadius: 20,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n  },\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n  },\n  actions: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    rowGap: 15,\n    \"& button\": {\n      width: 300,\n      fontWeight: \"bold\",\n    }\n  },\n  delete: {\n    color: \"red\",\n  }\n}))\n\ninterface SettingsPanelProps {\n  open: boolean,\n  handleClose: () => void,\n  id: string\n}\n\nconst SettingsPanel: React.FC<SettingsPanelProps> = ({\n  open,\n  handleClose,\n  id,\n}) => {\n  const styles = useSettingsPanelStyles();\n\n  const [openDelete, setOpenDelete] = useState<boolean>(false);\n\n  const handleCloseDelete: MouseEventHandler = () => {\n    setOpenDelete(false);\n  }\n\n  return (\n    <Modal\n      className={styles.modal}\n      open={open}\n      BackdropComponent={Backdrop}\n    >\n      <Slide \n        in={open}\n        direction=\"down\"\n      >\n      <div className={styles.container}>\n        <ClickAwayListener onClickAway={handleClose}>\n          <div className={styles.content}>\n            <ConnectedDeletePanel\n              open={openDelete}\n              handleClose={handleCloseDelete}\n              id={id}\n            />\n            <Typography variant=\"h5\" color=\"initial\">\n              More settings\n            </Typography>\n            <div className={styles.actions}>\n              <Button\n                className={styles.delete}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => setOpenDelete(true)}\n              >\n                Delete course permanently\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n              >\n                Close settings  \n              </Button>\n            </div>\n          </div>\n          </ClickAwayListener>\n        </div>\n      </Slide>\n    </Modal>\n  )\n}\n\nconst useDeletePanelStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  container: {\n    background: theme.palette.background.paper,\n    width: 650,\n    height: 150,\n    padding: 15,\n    borderRadius: 20,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n  },\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n  },\n  actions: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    columnGap: 15,\n    \"& button\": {\n      fontWeight: \"bold\",\n    }\n  },\n  delete: {\n    color: \"red\",\n  }\n}))\n\ninterface ConnectedDeletePanelProps {\n  open: boolean,\n  handleClose: MouseEventHandler,\n  id: string\n}\n\ninterface DeletePanelStateProps {\n\n}\n\ninterface DeletePanelDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface DeletePanelProps extends ConnectedDeletePanelProps, DeletePanelStateProps, DeletePanelDispatchProps {}\n\nconst DeletePanel: React.FC<DeletePanelProps> = ({\n  open,\n  handleClose,\n  id,\n  addAlert,\n}) => {\n  const styles = useDeletePanelStyles();\n\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleDeleteCourse = async () => {\n    setLoading(true);\n    const res = await deleteCourse(id);\n    setLoading(false);\n\n    if (res.status === \"OK\") {\n      addAlert(\"success\", \"Delete course successfully!\");\n      history.push('/');\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while deleting course.\");\n    }\n    \n    return;\n  }\n\n  return (\n    <Modal\n      open={open}\n      BackdropComponent={Backdrop}\n      className={styles.modal}\n    >\n      <Slide \n        in={open}\n        direction=\"down\"\n      >\n        <div className={styles.container}>\n          <div className={styles.content}>\n            <Typography variant=\"h5\" color=\"initial\">\n              Are you sure you want to delete this course permanently?\n            </Typography>\n            <div className={styles.actions}>\n              <Button\n                className={styles.delete}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleDeleteCourse}\n              >\n                {\n                  loading ? (\n                    <CircularProgress color=\"secondary\" size=\"2rem\" />\n                  ) : \"Yes, delete the course\"\n                }\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleClose}\n              >\n                No\n              </Button>\n            </div>\n          </div>\n        </div>\n      </Slide>\n    </Modal>\n  )\n}\n\nconst ConnectedDeletePanel: React.FC<ConnectedDeletePanelProps> = connect(null, { addAlert })(DeletePanel);\n\nexport default SettingsPanel;","import { makeStyles, Typography, Button, Modal, Backdrop, Slide, Select, MenuItem, CircularProgress } from '@material-ui/core';\nimport React, { ChangeEvent, useEffect, useState } from 'react';\nimport { updateCourse } from '../utils/api';\nimport Input from './Input';\nimport { addAlert } from '../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  container: {\n    width: 500,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 15,\n    display: \"flex\",\n    flexDirection: \"column\",\n    rowGap: 20,\n    alignItems: \"center\",\n    padding: \"30px 40px\",\n    background: theme.palette.background.paper,\n  },\n  header: {\n    width: \"100%\",\n    display: \"inline-flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: 10,\n  },\n  buttons: {\n    display: \"inline-flex\",\n    columnGap: 10,\n    alignItems: \"center\",\n    \"& button\": {\n      width: 100,\n      borderRadius: 10,\n      textTransform: \"none\",\n    }\n  },\n  input: {\n    width: \"100%\",\n    display: \"inline-flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  select: {\n    width: 150,\n    borderRadius: 20,\n  }\n}));\n\ninterface ConnectedEditCourseInfoProps {\n  open: boolean,\n  id: string,\n  handleClose: () => void,\n  academicYear: string,\n  semester: number,\n  setYear: (value: string) => void,\n  setSem: (value: number) => void,\n}\n\ninterface EditCourseInfoStateProps {\n\n}\n\ninterface EditCourseInfoDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface EditCourseInfoProps extends ConnectedEditCourseInfoProps, EditCourseInfoStateProps, EditCourseInfoDispatchProps {}\n\nconst EditCourseInfo: React.FC<EditCourseInfoProps> = ({\n  open,\n  id,\n  handleClose,\n  academicYear,\n  semester,\n  setYear,\n  setSem,\n  addAlert,\n}) => {\n  const styles = useStyles();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [year, _setYear] = useState<string>(academicYear);\n  const [sem, _setSem] = useState<number>(semester);\n\n  useEffect(() => _setYear(academicYear), [academicYear]);\n  useEffect(() => _setSem(semester), [semester]);\n\n  const handleSetYear = (e: ChangeEvent) => {\n    _setYear((e.target as HTMLInputElement).value);\n  }\n\n  const handleSetSem = (e: ChangeEvent<{ name?: string | undefined; value: unknown; }>) => {\n    _setSem(parseInt((e.target as HTMLInputElement).value));\n  }\n\n  const handleSave = async () => {\n    const payload = {\n      academicYear: year,\n      semester: sem,\n    };\n\n    setLoading(true);\n\n    const res = await updateCourse(id, payload);\n    if (res.status === \"OK\") {\n      setYear(year);\n      setSem(sem);\n      addAlert(\"success\", \"Update course info successfully!\");\n    }\n    else {\n      addAlert(\"error\", \"Error occurred while updating course info.\");\n    }\n\n    setLoading(false);\n    handleClose();\n  }\n\n  return (\n    <Modal\n      BackdropComponent={Backdrop}\n      open={open}\n      className={styles.modal}\n    >\n      <Slide\n        direction=\"up\"\n        in={open}\n      >\n        <section className={styles.container}>\n          <div className={styles.header}>\n            <Typography style={{ fontWeight: \"bold\" }} variant=\"h6\" color=\"initial\">\n              Edit course info\n            </Typography>\n            <div className={styles.buttons}>\n              <Button\n                variant=\"text\"\n                onClick={handleClose}\n              >\n                Discard\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleSave}\n              >\n                {\n                  loading ? (\n                    <CircularProgress style={{ fill: \"white\" }} size=\"2rem\" />\n                  ) : \"Apply\"\n                }\n              </Button>\n            </div>\n          </div>\n          <div className={styles.input}>\n            <Typography variant=\"body1\" color=\"initial\">\n              Academic year\n            </Typography>\n            <Input\n              style={{ width: 150 }}\n              title=\"Academic year\"\n              id=\"academicYear\"\n              value={year}\n              onChange={handleSetYear}\n            />\n          </div>\n          <div className={styles.input}>\n            <Typography variant=\"body1\" color=\"initial\">\n              Semester\n            </Typography>\n            <Select\n              className={styles.select}\n              title=\"Semester\"\n              id=\"semester\"\n              value={sem}\n              onChange={handleSetSem}\n              variant=\"outlined\"\n            >\n              <MenuItem value=\"1\">1</MenuItem>\n              <MenuItem value=\"2\">2</MenuItem>\n              <MenuItem value=\"3\">3</MenuItem>\n            </Select>\n          </div>\n        </section>\n      </Slide>\n    </Modal>\n  )\n}\n\nconst ConnectedEditCourseInfo: React.FC<ConnectedEditCourseInfoProps> = connect(null, { addAlert })(EditCourseInfo);\n\nexport default ConnectedEditCourseInfo;","import { Button, makeStyles, Typography } from '@material-ui/core';\nimport { Edit } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport EditCourseInfo from '../../components/EditCourseInfo';\n\nconst useCourseInfoStyle = makeStyles(theme => ({\n  container: {\n    width: \"100%\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n    marginTop: 30,\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: 40,\n  },\n  header: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: 30,\n  },\n  addButton: {\n    height: 32,\n    width: 32,\n    borderRadius: 16,\n    minWidth: 32,\n  },\n  courseInfo: {\n    width: \"100%\",\n  },\n  infoLine: {\n    width: \"100%\",\n    display: \"inline-flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n}))\n\ninterface CourseInfoProps {\n  id: string,\n  academicYear: string,\n  semester: number,\n  setYear: (value: string) => void,\n  setSem: (value: number) => void,\n}\n\nconst CourseInfo: React.FC<CourseInfoProps> = ({\n  id,\n  academicYear = \"\",\n  semester = 0,\n  setYear,\n  setSem,\n}) => {\n  const styles = useCourseInfoStyle();\n\n\tconst [editCourseInfo, setEditCourseInfo] = useState<boolean>(false);\n\n  return (\n    <section className={styles.container}>\n      <EditCourseInfo\n        id={id}\n        open={editCourseInfo}\n        handleClose={() => setEditCourseInfo(false)}\n        academicYear={academicYear}\n        semester={semester}\n        setYear={setYear}\n        setSem={setSem}\n      />\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <Typography style={{ fontWeight: \"bold\", width: \"100%\" }} variant=\"h5\" color=\"initial\">\n            Course information\n          </Typography>\n          <Button\n            className={styles.addButton}\n            onClick={() => setEditCourseInfo(true)}\n          >\n            <Edit />\n          </Button>\n        </div>\n        <div className={styles.courseInfo}>\n          <div className={styles.infoLine}>\n            <Typography variant=\"body1\" color=\"initial\">\n              Academic year\n            </Typography>\n            <Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n              {`${academicYear} - ${parseInt(academicYear) + 1}`}\n            </Typography>\n          </div>\n          <div className={styles.infoLine}>\n            <Typography variant=\"body1\" color=\"initial\">\n              Semester\n            </Typography>\n            <Typography style={{ fontWeight: \"bold\" }} variant=\"body1\" color=\"initial\">\n              {semester}\n            </Typography>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default CourseInfo;","import React, { ChangeEvent, ChangeEventHandler, useEffect, useState } from 'react';\nimport { makeStyles, TextField, Typography, Button, IconButton, CircularProgress } from '@material-ui/core';\nimport { useParams } from 'react-router';\nimport { createCourse, getCourse, updateCourse } from '../../utils/api';\nimport { ArrowBack, Edit, Settings } from '@material-ui/icons';\nimport { Course } from '../../utils/types';\nimport history from '../../utils/history';\nimport StudentList from './StudentList';\nimport LecturerList from './LecturerList';\nimport SettingsPanel from './SettingsPannel';\nimport CourseInfo from './CourseInfo';\nimport { addAlert } from '../../reducers/alert';\nimport { connect } from 'react-redux';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: \"40px 60px\",\n    display: \"grid\",\n    gridTemplateColumns: \"65% 1fr 100px\",\n    columnGap: 40,\n    rowGap: 45,\n  },\n  name: {\n    gridColumn: 1,\n    gridRow: 1,\n    height: 50,\n    display: \"grid\",\n    columnGap: 20,\n    gridTemplateColumns: \"50px 120px 30px 1fr\",\n    \"& *\": {\n      fontSize: 30,\n    }\n  },\n  input: {\n    height: \"100%\",\n    width: \"100%\",\n  },\n  separator: {\n    textAlign: \"center\",\n    paddingTop: 6,\n  },\n  editAction: {\n    gridColumn: 2,\n    gridRow: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    columnGap: 10,\n    \"& button\": {\n      fontWeight: \"bold\",\n      borderRadius: 10,\n      textTransform: \"none\",\n    }\n  },\n  courseAction: {\n    gridColumn: 3,\n    gridRow: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n  },\n  button: {\n    width: 100,\n    height: 42,\n    textTransform: \"none\",\n    borderRadius: 15,\n    fontWeight: \"bold\",\n  },\n  mainPanel: {\n    gridColumn: 1,\n    gridRow: 2,\n  },\n  sidePanel: {\n    gridColumn: \"2 / span 2\",\n    gridRow: 2,\n  }\n}))\n\ninterface ConnectedCourseConfigProps {\n\n}\n\ninterface CourseConfigStateProps {\n\n}\n\ninterface CourseConfigDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface CourseConfigProps extends ConnectedCourseConfigProps, CourseConfigStateProps, CourseConfigDispatchProps {\n\n}\n\nconst CourseConfig: React.FC<CourseConfigProps> = ({\n  addAlert,\n}) => {\n  \n  const styles = useStyles();\n  const { id } = useParams<{ id: string }>();\n  const [course, setCourse] = useState<Course | null>(null);\n  const [openSettings, setOpenSettings] = useState<boolean>(false);\n  const [edit, setEdit] = useState<boolean>(false);\n  const [courseName, setCourseName] = useState<string>(course?.course_name || \"\");\n  const [courseID, setCourseID] = useState<string>(course?.course_id || \"\");\n  const [courseYear, setCourseYear] = useState<string>(course?.academic_year || \"\");\n  const [courseSem, setCourseSem] = useState<number>(course?.semester || 0);\n  const [saving, setSaving] = useState<boolean>(false);\n\n  const _getCourse = async (id: string) => {\n    try {\n      const res = await getCourse(id);\n      if (res.status === \"OK\") {\n        setCourse(res.course);\n        setCourseName(res.course.course_name);\n        setCourseID(res.course.course_id);\n        setCourseYear(res.course.academic_year);\n        setCourseSem(res.course.semester);\n      }\n      else {\n        history.push(\"/\");\n      }\n    }\n    catch (err) {\n      console.error(err);\n      history.push(\"/\");\n    }\n  }\n\n  useEffect(() => {\n    if (id) {\n      if (id !== \"new\")\n        _getCourse(id);\n      else\n        setCourse({\n          course_id: \"\",\n          course_name: \"\",\n          academic_year: \"\",\n          semester: 0,\n          students: [],\n          lecturers: [],\n        })\n    }\n  }, [id]);\n  \n  const handleChangeName: ChangeEventHandler = (event: ChangeEvent) => {\n    setCourseName((event.target as HTMLInputElement).value);\n  }\n  \n  const handleChangeID: ChangeEventHandler = (event: ChangeEvent) => {\n    setCourseID((event.target as HTMLInputElement).value);\n  }\n\n  const handleCloseSettings = () => {\n    setOpenSettings(false);\n  }\n\n  const handleSaveCourse = async () => {\n    const payload = {\n      id: courseID,\n      name: courseName,\n    }\n\n    setSaving(true);\n    const res = id === \"new\" ? \n      await createCourse(payload) :\n      await updateCourse(id, payload);\n    setSaving(false);\n    setEdit(false);\n\n    if (res.status === \"OK\") {\n      if (id === \"new\") {\n        addAlert(\"success\", \"Create course successfully!\");\n        history.push(`/course/${courseID}`);\n      }\n      else {\n        addAlert(\"success\", \"Update course successfully!\");\n      }\n    }\n    else {\n      if (id === \"new\") {\n        addAlert(\"error\", \"Error occurred while creating course.\");\n      }\n      else {\n        addAlert(\"error\", \"Error occurred while updating course.\");\n      }\n    }\n  }\n\n  const handleDiscard = () => {\n    setCourseName(course?.course_name || \"\");\n    setCourseID(course?.course_id || \"\");\n    setEdit(false);\n  }\n\n  const handleReload = () => {\n    _getCourse(id);\n  }\n\n  if (course === null)\n    return (<></>);\n\n  return (\n    <div className={styles.container}>\n      <SettingsPanel\n        open={openSettings}\n        handleClose={handleCloseSettings}\n        id={course.course_id}\n      />\n      <div className={styles.name}>\n        <IconButton onClick={() => history.push('/')}>\n          <ArrowBack fontSize='medium'/>\n        </IconButton>\n        <TextField\n          className={styles.input}\n          color=\"secondary\"\n          value={courseID}\n          placeholder=\"ID\"\n          onChange={handleChangeID}\n          disabled={!edit}\n        />\n        <Typography\n          className={styles.separator}\n          variant=\"h3\"\n          color=\"initial\"\n        >\n          -\n        </Typography>\n        <TextField\n          className={styles.input}\n          color=\"secondary\"\n          value={courseName}\n          placeholder=\"Course name\"\n          onChange={handleChangeName}\n          disabled={!edit}\n        />\n      </div>\n      <div className={styles.editAction}>\n        {\n          edit ? (\n            <>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={handleSaveCourse}\n              >\n                {\n                  saving ? (\n                    <CircularProgress style={{ fill: \"white\" }} size=\"2rem\" />\n                  ) : \"Apply\"\n                }\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleDiscard}\n              >\n                Discard\n              </Button>\n            </>\n          ) : (\n            <IconButton onClick={() => setEdit(true)}>\n              <Edit />\n            </IconButton>\n          )\n        }\n      </div>\n      <div className={styles.courseAction}>\n        <IconButton onClick={() => setOpenSettings(true)}>\n          <Settings />\n        </IconButton>\n      </div>\n      <div className={styles.mainPanel}>\n        <StudentList\n          studentList={course.students}\n          courseID={course.course_id}\n          reload={handleReload}\n        />\n      </div>\n      <div className={styles.sidePanel}>\n        <LecturerList\n          lecturerList={course.lecturers}\n          courseID={course.course_id}\n          reload={handleReload}\n        />\n        <CourseInfo\n          id={id}\n          academicYear={courseYear}\n          semester={courseSem}\n          setYear={setCourseYear}\n          setSem={setCourseSem}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst ConnectedCourseConfig: React.FC<ConnectedCourseConfigProps> = connect(null, { addAlert })(CourseConfig);\n\nexport default ConnectedCourseConfig;","import { MenuItem, Select, Button } from '@material-ui/core';\nimport React, { ChangeEvent, FormEvent, FormEventHandler, useState } from 'react';\nimport { connect } from 'react-redux';\nimport Input from '../components/Input';\nimport { addAlert } from '../reducers/alert';\n\n\ninterface ConnectedTestProps {\n\n}\n\ninterface TestStateProps {\n\n}\n\ninterface TestDispatchProps {\n  addAlert: typeof addAlert,\n}\n\ninterface TestProps extends ConnectedTestProps, TestDispatchProps, TestStateProps {}\n\nconst Test: React.FC<TestProps> = ({\n  addAlert,\n}) => {\n\n  const [type, setType] = useState<\"success\" | \"error\">(\"success\");\n  const [message, setMessage] = useState<string>(\"\");\n\n  const handleAddAlert = () => {\n    addAlert(type, message);\n  }\n\n  const handleSetType = (e: ChangeEvent<{ name?: string | undefined; value: unknown; }>) => {\n    const value = (e.target as HTMLInputElement).value;\n    if (value !== \"success\" && value !== \"error\")\n      return;\n\n    setType(value);\n  }\n\n  const handleChangeMessage = (e: ChangeEvent) => {\n    setMessage((e.target as HTMLInputElement).value);\n  }\n\n  const handleUpload: FormEventHandler = (e: FormEvent) => {\n    // console.log((e.target as HTMLInputElement).files[0]);\n  }\n\n  return (\n    <div>\n      <Select\n        title=\"Semester\"\n        id=\"semester\"\n        value={type}\n        onChange={handleSetType}\n        variant=\"outlined\"\n      >\n        <MenuItem value=\"success\">Success</MenuItem>\n        <MenuItem value=\"error\">Error</MenuItem>\n      </Select>\n      <Input\n        style={{ width: 150 }}\n        title=\"message\"\n        id=\"message\"\n        value={message}\n        onChange={handleChangeMessage}\n      />\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={handleAddAlert}\n      >\n        Add!\n      </Button>\n      <Button variant=\"contained\" color=\"secondary\" component=\"label\">\n        Upload\n        <input\n          type=\"file\"\n          onInput={handleUpload}\n          hidden\n        />\n      </Button>\n    </div>\n  )\n}\n\nconst ConnectedTest: React.FC<ConnectedTestProps> = connect(null, { addAlert })(Test);\n\nexport default ConnectedTest;","import { makeStyles, Typography } from '@material-ui/core';\nimport { Check, Clear } from '@material-ui/icons';\nimport React, { useEffect, useState } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    maxWidth: 300,\n    animation: \"$in 0.25s ease-in-out\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    columnGap: 20,\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    padding: \"10px 10px\",\n    background: theme.palette.background.paper,\n    boxShadow: \"0px 16px 40px rgba(0, 0, 0, 0.15)\",\n    borderRadius: 20,\n  },\n  close: {\n    animation: \"$out 0.25s ease-in-out\",\n    animationFillMode: \"forwards\",\n  },\n  \"@keyframes in\": {\n    \"0%\": {\n      transform: \"translateX(-320px)\",\n    },\n    \"25%\": {\n      transform: \"translateX(-182px)\",\n    },\n    \"50%\": {\n      transform: \"translateX(-78px)\",\n    },\n    \"70%\": {\n      transform: \"translateX(-8px)\",\n    },\n    \"80%\": {\n      transform: \"translateX(20px)\",\n    },\n    \"90%\": {\n      transform: \"translateX(10px)\",\n    },\n    \"100%\": {\n      transform: \"translateX(0px)\",\n    },\n  },\n  \"@keyframes out\": {\n    \"0%\": {\n      transform: \"translateX(0px)\",\n    },\n    \"25%\": {\n      transform: \"translateX(10px)\",\n    },\n    \"50%\": {\n      transform: \"translateX(20px)\",\n    },\n    \"70%\": {\n      transform: \"translateX(-8px)\",\n    },\n    \"80%\": {\n      transform: \"translateX(-78px)\",\n    },\n    \"90%\": {\n      transform: \"translateX(-182px)\",\n    },\n    \"100%\": {\n      transform: \"translateX(-320px)\",\n    },\n  },\n  content: {\n    flexGrow: 1,\n    wordWrap: \"break-word\",\n    maxWidth: 228,\n  },\n  successIcon: {\n    flexGrow: 0,\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    background: \"#00E3AA\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  errorIcon: {\n    flexGrow: 0,\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    background: \"#E61212\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}))\n\ninterface AlertItemProps {\n  type: \"success\" | \"error\",\n  message: string,\n  duration: number,\n}\n\nconst AlertItem: React.FC<AlertItemProps> = ({\n  type,\n  message,\n  duration,\n}) => {\n  const styles = useStyles();\n\n  const [close, setClose] = useState<boolean>(false);\n\n  useEffect(() => {\n    window.setTimeout(() => setClose(true), duration - 250)\n  }, [duration])\n\n  return (\n    <div className={`${styles.container} ${close ? styles.close : \"\"}`}>\n    {\n      type === \"success\" ? (\n        <div className={styles.successIcon}>\n          <Check style={{ fill: \"white\" }} />\n        </div>\n      ) : (\n        <div className={styles.errorIcon}>\n          <Clear style={{ fill: \"white\" }} />\n        </div>\n      )\n    }\n      <Typography className={styles.content} variant=\"body1\" color=\"initial\">\n        {message}\n      </Typography>\n    </div>\n  )\n}\n\nexport default AlertItem;","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { RootStateProps } from '../../reducers';\nimport { AlertProps } from '../../reducers/alert';\nimport AlertItem from './AlertItem';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column-reverse\",\n    rowGap: 20,\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n    maxHeight: \"80vh\",\n    width: 320,\n    padding: \"20px 20px\",\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    zIndex: 10,\n  },\n}))\n\ninterface ConnectedAlertContainerProps {\n\n}\n\ninterface AlertContainerStateProps {\n  alert: AlertProps,\n}\n\ninterface AlertContainerDispatchProps {\n\n}\n\ninterface AlertContainerProps extends ConnectedAlertContainerProps, AlertContainerDispatchProps, AlertContainerStateProps {}\n\nconst AlertContainer: React.FC<AlertContainerProps> = ({\n  alert\n}) => {\n  const styles = useStyles();\n  \n  return (\n    <div className={styles.container}>\n      {\n        alert.map((a, ind) => (\n          <AlertItem\n            type={a.type}\n            message={a.message}\n            duration={a.duration}\n            key={ind}\n          />\n        ))\n      }\n    </div>\n  )\n}\n\nconst ConnectedAlertContainer: React.FC<ConnectedAlertContainerProps> = connect((state: RootStateProps) => ({ alert: state.alert }), {})(AlertContainer);\n\nexport default ConnectedAlertContainer;","import React, { useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { ThemeProvider } from '@material-ui/core';\nimport { ConnectedRouter } from 'connected-react-router';\n\nimport './App.css';\nimport store from './store';\nimport theme from './utils/theme';\nimport history from './utils/history';\nimport { saveAuth } from './reducers/auth';\nimport { getAccountInfo } from './utils/api';\n// Import views\nimport HomeScreen from './screens/HomeScreen';\nimport Login from './screens/login';\nimport ForgotPassword from './screens/forgot-password';\nimport CourseConfig from './screens/course-config';\nimport Test from './screens/test';\nimport AlertContainer from './components/alert';\n\nfunction App() {\n\n  useEffect(() => {\n    const _getAccountInfo = async () => {\n      const token: string | null = window.localStorage.getItem('access_token');\n      if (token === null || token.split('.').length !== 3) {\n        return store.dispatch(saveAuth(\"\", \"\"));\n      }\n\n      const userInfo: any = JSON.parse(atob(token.split('.')[1]));\n      if (!userInfo.hasOwnProperty('account_id')) {\n        return store.dispatch(saveAuth(\"\", \"\"));\n      }\n\n      const username: string = userInfo.account_id;\n      const res = await getAccountInfo(username);\n      if (res.status === \"OK\") {\n        return store.dispatch(saveAuth(token, username));\n      }\n    }\n\n    _getAccountInfo();\n  }, [])\n\n  return (\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <ConnectedRouter history={history}>\n          <Switch>\n            <Route path=\"/\" exact component={HomeScreen} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n            <Route path=\"/course/:id\" component={CourseConfig} />\n            <Route path=\"/test\" component={Test} />\n            <Route path=\"*\">\n              <Redirect to=\"/\"/>\n            </Route>\n          </Switch>\n          <AlertContainer />\n        </ConnectedRouter>\n      </ThemeProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}